{% extends 'home.html' %}

{% load static %}

{% block title %}Estadísticas{% endblock %}

{% block body2 %}

<script src="{% static 'js/editablegrid.js' %}"></script>
<script src="{% static 'js/editablegrid_renderers.js' %}"></script>
<script src="{% static 'js/editablegrid_editors.js' %}"></script>
<script src="{% static 'js/editablegrid_validators.js' %}"></script>
<script src="{% static 'js/editablegrid_utils.js' %}"></script>
<script src="{% static 'js/editablegrid_charts.js' %}"></script>
<!--<script src="{% static 'highcharts/highcharts5.0.3.js' %}"></script>-->
<script src="http://code.highcharts.com/highcharts.js"></script>
<script src="http://code.highcharts.com/modules/exporting.js"></script>
<script src="{% static 'highcharts/modules/drilldown5.0.3.js' %}"></script>

<link rel="stylesheet" type="text/css" href="{% static 'css/editablegrid.css'%}">
<link rel="stylesheet" type="text/css" href="{% static 'css/superstats.css'%}">
<!--<script type="text/javascript" src="{% static 'js/jquery.nicescroll.min.js' %}"></script>!-->

<style type="text/css">
  .chart div {
  font: 10px sans-serif;
  background-color: steelblue;
  text-align: right;
  padding: 13px;
  margin: 1px;
  color: white;
}

.widget {
    margin: 0 auto;
    width:1200px;
    margin-top:50px;
    background-color:#fff;
    -background-color: #222D3A;
    border-radius: 5px;
    box-shadow: 1px 1px 4px 0px rgba(0,0,0,0.3);

}

.header{
    background-color: #eee;
    height:40px;
    color:#555;
    text-align: center;
    line-height: 40px;
    /*border-top-left-radius: 7px;
    border-top-right-radius: 7px;*/
    font-weight: 400;
    font-size: 1.2em;
    text-shadow: 1px 1px #fff;
    border-bottom: 1px solid #eaeaea;
}

.chart-container{
    padding:25px;
}

.axis path,
.axis line {
  fill: none;
  stroke: #000;
  shape-rendering: crispEdges;
}
</style>

<br>
<div class="principal" style="background-color: #f7f7f7;min-height: 500px;">
<br>
  <br>
  <h1 style="text-align:center;">Estadísticas</h1>
  <div class="contenedor" style="width:20%;float:left;">
  <br>
  <h2 align="center">Cursos</h2>
  <div id="contenedor">
  </div>
  </div>
  <div id="trabajo" style="width:50%;float:left;" class="trabajo">
    <br>
  <h2 align="center">Tipo de Trabajo</h2>
  <div id="testsched">
  
  </div>
  <br>
  <div align="left" style="margin-left:50px;float: left;width: 40%;">
  <input type="radio" name="seleccion" onclick="selectSchedule(this)" value="radio1">Todo <br>
  <input type="radio" name="seleccion" onclick="selectSchedule(this)" value="radio2">Horario de clases <br>
  <input type="radio" name="seleccion" onclick="selectSchedule(this)" value="radio3">Fuera horario de clases <br>
  <input type="radio" name="seleccion" onclick="selectSchedule(this)" value="radio4">Personalizado <br>  
  </div>
  <div align="left" style="margin-right:50px;float: left;width: 40%;">
  <input type="radio" name="seleccion" onclick="selectSchedule(this)" value="radio5">Todo vs Horario de clases <br>
  <input type="radio" name="seleccion" onclick="selectSchedule(this)" value="radio6">Todo vs Fuera horario de clases <br>
  <input type="radio" name="seleccion" onclick="selectSchedule(this)" value="radio7">Horario de clases vs Fuera horario de clases <br>
  </div>

</div>
  <div id="fechas" style="width:50%;float:left;height: 140px;" class="dates">
    <br>
    <h2 align="left" style="margin-left:200px;">Fechas</h2>
        <div  class="fechas" style="margin-left: 50px;">
          <p class="label_input"><strong id="fIniTooltip">Desde</strong></p>
          <input name="desde" onchange="validar()" onkeyup="validar()" id="desde" class="ui-corner-all placeholder simple-input search-input blur-on-esc skill_search" type="date" max="9999-12-31" placeholder="Desde"/>
        </div>
        <div  class="fechas">
          <p class="label_input"><strong id="fTerTooltip">Hasta</strong></p>
          <input name="hasta" onchange="validar()" onkeyup="validar()" id="hasta" class="ui-corner-all placeholder simple-input search-input blur-on-esc skill_search" type="date" max="9999-12-31" placeholder="Hasta"/>
        </div>
  </div>
<br>
    <div style="float:left;width:100%" align="center">
    <input type="button" id="button_realizar" onClick="crearEstadisticas();" class="kui-button kui-button-plain kui-button-primary" value="Ver estadísticas">
    <input type="button" id="button_last" onClick="mostrarLastChart()" class="kui-button kui-button-plain kui-button-primary" value="Volver a última búsqueda">
  </div>
</div>
  <div id="loading" class="popup" style="display:none">
      <div style="align:left;">
        <p class="response">Cargando los gráficos, esto puede demorar unos minutos</p>
        <div style="display: none;" id="profile-throbber2" class="profile-throbber">
        <div class="throbber-grid">   
            <!--[if lte IE 9]>
            <img class="throbber-fallback" src="/images/throbber-full.gif" />
            <![endif]-->
            <div class="throbber-row clearfix">
                 <div class="block-0 throbber-block"></div>
                 <div class="block-1 throbber-block"></div>
                 <div class="block-2 throbber-block"></div>
            </div>
            <div class="throbber-row clearfix">
                 <div class="block-7 throbber-block"></div>
                 <div class="block-8 throbber-block"></div>
                 <div class="block-3 throbber-block"></div>
            </div>
            <div class="throbber-row clearfix">
                 <div class="block-6 throbber-block"></div>
                 <div class="block-5 throbber-block"></div>
                 <div class="block-4 throbber-block"></div>
            </div>
        </div>
      </div>
      </div>
    </div>



</div>
<div class="graphics" id="graph" align="center">
<input type="button" id="button_parameter" onClick="containerShow()" class="kui-button kui-button-plain kui-button-primary" value="Definir parámetros">
<hr>
<div id="containertodos" style="min-width: 300px;  margin: 0 auto"></div>
<hr>
<div id="containertot" style="min-width: 300px;  margin: 0 auto"></div>
<div id="promediototaltot" style="float:left;width: 50%;"></div>
<div id="promediototaltot2" style="float:left;width: 50%;"></div>
<br>
<div id="ordencant">
<select id="ordenarcant3" class="skill_search">
    <OPTION VALUE="0">Nombre</OPTION>
    <OPTION VALUE="1">Cantidad (ascendente)</OPTION>
    <OPTION VALUE="2">Cantidad (descendente)</OPTION>
</select>
<select id="ordenarcant" class="skill_search">
      <OPTION VALUE="0">Nombre</OPTION>
      <OPTION VALUE="1">Cantidad (ascendente)</OPTION>
      <OPTION VALUE="2">Cantidad (descendente)</OPTION>
      <OPTION VALUE="3">Promedio (ascendente)</OPTION>
      <OPTION VALUE="4">Promedio (descendente)</OPTION>
      <OPTION VALUE="5">Máximo (ascendente)</OPTION>
      <OPTION VALUE="6">Máximo (descendente)</OPTION>
      <OPTION VALUE="7">Mínimo (ascendente)</OPTION>
      <OPTION VALUE="8">Mínimo (descendente)</OPTION>
</select>
</div>
<hr>
<div id="containertotnivel" style="min-width: 300px;  margin: 0 auto"></div>
<hr>
<div id="containertotnivelprom" style="min-width: 300px;  margin: 0 auto"></div>
<hr>
<div id="containertotinst" style="min-width: 300px;  margin: 0 auto"></div>
<hr>
<div id="containertotinstprom" style="min-width: 300px;  margin: 0 auto"></div>
<hr>
<div id="containerej" style="min-width: 300px; margin: 0 auto"></div>
<div id="promediototalej" style="float:left;width: 50%;"></div>
<div id="promediototalej2" style="float:left;width: 50%;"></div>
<br>
<div id="ordentot">
  <select id="ordenartot3" class="skill_search">
      <OPTION VALUE="0">Nombre</OPTION>
      <OPTION VALUE="1">Tiempo (ascendente)</OPTION>
      <OPTION VALUE="2">Tiempo (descendente)</OPTION>
</select>
<select id="ordenartot" class="skill_search">
      <OPTION VALUE="0">Nombre</OPTION>
      <OPTION VALUE="1">Tiempo (ascendente)</OPTION>
      <OPTION VALUE="2">Tiempo (descendente)</OPTION>
      <OPTION VALUE="3">Promedio (ascendente)</OPTION>
      <OPTION VALUE="4">Promedio (descendente)</OPTION>
      <OPTION VALUE="5">Máximo (ascendente)</OPTION>
      <OPTION VALUE="6">Máximo (descendente)</OPTION>
      <OPTION VALUE="7">Mínimo (ascendente)</OPTION>
      <OPTION VALUE="8">Mínimo (descendente)</OPTION>
</select>
</div>
<hr>
<div id="containerejernivel" style="min-width: 300px;  margin: 0 auto"></div>
<hr>
<div id="containerejernivelprom" style="min-width: 300px;  margin: 0 auto"></div>
<hr>
<div id="containerejerinst" style="min-width: 300px;  margin: 0 auto"></div>
<hr>
<div id="containerejerinstprom" style="min-width: 300px;  margin: 0 auto"></div>
<hr>
<div id="containervid" style="min-width: 300px;  margin: 0 auto"></div>
<div id="promediototalvid" style="float:left;width: 50%;"></div>
<div id="promediototalvid2" style="float:left;width: 50%;"></div>
<br>
<div id="ordenvid">
  <select id="ordenarvid3" class="skill_search">
      <OPTION VALUE="0">Nombre</OPTION>
      <OPTION VALUE="1">Tiempo (ascendente)</OPTION>
      <OPTION VALUE="2">Tiempo (descendente)</OPTION>
</select>
<select id="ordenarvid" class="skill_search">
      <OPTION VALUE="0">Nombre</OPTION>
      <OPTION VALUE="1">Tiempo (ascendente)</OPTION>
      <OPTION VALUE="2">Tiempo (descendente)</OPTION>
      <OPTION VALUE="3">Promedio (ascendente)</OPTION>
      <OPTION VALUE="4">Promedio (descendente)</OPTION>
      <OPTION VALUE="5">Máximo (ascendente)</OPTION>
      <OPTION VALUE="6">Máximo (descendente)</OPTION>
      <OPTION VALUE="7">Mínimo (ascendente)</OPTION>
      <OPTION VALUE="8">Mínimo (descendente)</OPTION>
</select>
</div>
<hr>
<div id="containervidnivel" style="min-width: 300px;  margin: 0 auto"></div>
<hr>
<div id="containervidnivelprom" style="min-width: 300px;  margin: 0 auto"></div>
<hr>
<div id="containervidinst" style="min-width: 300px;  margin: 0 auto"></div>
<hr>
<div id="containervidinstprom" style="min-width: 300px;  margin: 0 auto"></div>
<div id="tipochapter" style="height: 140px;align-self: center" class="typechapt">
    <br>
    <br>
    <h2 align="center">Tipo de Currículum</h2>
    <select id="selectchapter" class="skill_search" style="margin-right: 150px">
      <OPTION VALUE="MK">Misiones Khan</OPTION>
      <OPTION VALUE="CK">Currículum Khan</OPTION>
    </select>
  </div>
<div class="widget">
    <div class="header">Misiones</div>
    <div id="chart" class="chart-container">
    
    </div>
</div>
</div>

<div id="popup" style="display:none">
	<div id="close">X</div>
</div>

<div id="popup_error" class="popup" style="display:none">
  <div id="close" onClick="$('#popup_error').fadeOut();$('#hover').fadeOut();">X</div>
</div>

<script>

    $(document).ready(function(){
        $('table#sort_table').tablesorter({
            animation: 'slide',
            speed: 1200,
            sortList: [[0,0], [0,1]]
        });

    });
    
    var tree = JSON.parse('{{ json_data | escapejs }}');
    //console.log(tree);
    $('#contenedor').jstree(tree);
    //drawNiceScrolls();
    //$('#loading').hide()
    stoploading();
    $('.graphics').hide();
    $('#testsched').hide();
    $('#button_last').hide();
      $("#hover").click(function(){
          $(this).fadeOut();
          $("#popup").fadeOut();
          $("#popup_error").fadeOut();
        });

    $('#tipochapter').hide();


function loading(){
      $('#popup_evaluacion').show();
      $('#hover').show();
      $('#profile-throbber2').show();
    }

function stoploading(){
      $('#popup_evaluacion').hide();
      $('#hover').hide();
      $('#profile-throbber2').hide();
}

$('#estadisticas').addClass('active selected');

$('input[name="day"]').prop("disabled", true);


function drawTableSchedule(){
  var tableSchedule='<table class="testsched" id="sort_table">';
  tableSchedule+="<thead><tr><th width='30%'>Horario</th><th width='10%' id='HSE' onclick='diaselect(\x22Monday\x22);'>Lunes</th>";
  tableSchedule+="<th width='10%' id='HSE' onclick='diaselect(\x22Tuesday\x22);'>Martes</th>";
  tableSchedule+="<th width='10%' id='HSE' onclick='diaselect(\x22Wednesday\x22);'>Miércoles</th>";
  tableSchedule+="<th width='10%' id='HSE' onclick='diaselect(\x22Thursday\x22);'>Jueves</th>";
  tableSchedule+="<th width='10%' id='HSE' onclick='diaselect(\x22Friday\x22);'>Viernes</th>";
  tableSchedule+="<th width='10%' id='HSE' onclick='diaselect(\x22Saturday\x22);'>Sábado</th>";
  tableSchedule+="<th width='10%' id='HSE' onclick='diaselect(\x22Sunday\x22);'>Domingo</th>";
  tableSchedule+="</tr></thead>"
  for(var i=0;i<24;i++){
    tableSchedule+="<tr id='"+i+"' class='nocolor'>";
    if(i<10){
      tableSchedule+="<th id='HSE' onclick='funciondos(0"+i+")'>0"+parseInt(0+i)+":00 - 0"+parseInt(0+i)+":59</th>"
      tableSchedule+="<td><input type='checkbox' value='0"+i+"_Monday' name='day"+i+"' id='checkschedule'></td>";
      tableSchedule+="<td><input type='checkbox' value='0"+i+"_Tuesday' name='day"+i+"' id='checkschedule'></td>";
      tableSchedule+="<td><input type='checkbox' value='0"+i+"_Wednesday' name='day"+i+"' id='checkschedule'></td>";
      tableSchedule+="<td><input type='checkbox' value='0"+i+"_Thursday' name='day"+i+"' id='checkschedule'></td>";
      tableSchedule+="<td><input type='checkbox' value='0"+i+"_Friday' name='day"+i+"' id='checkschedule'></td>";
      tableSchedule+="<td><input type='checkbox' value='0"+i+"_Saturday' name='day"+i+"' id='checkschedule'></td>";
      tableSchedule+="<td><input type='checkbox' value='0"+i+"_Sunday' name='day"+i+"' id='checkschedule'></td></tr>";
    }
    else{
      tableSchedule+="<th id='HSE' onclick='funciondos("+i+")'>"+parseInt(0+i)+":00 - "+parseInt(0+i)+":59</th>"
      tableSchedule+="<td><input type='checkbox' value='"+i+"_Monday' name='day"+i+"' id='checkschedule'></td>";
      tableSchedule+="<td><input type='checkbox' value='"+i+"_Tuesday' name='day"+i+"' id='checkschedule'></td>";
      tableSchedule+="<td><input type='checkbox' value='"+i+"_Wednesday' name='day"+i+"' id='checkschedule'></td>";
      tableSchedule+="<td><input type='checkbox' value='"+i+"_Thursday' name='day"+i+"' id='checkschedule'></td>";
      tableSchedule+="<td><input type='checkbox' value='"+i+"_Friday' name='day"+i+"' id='checkschedule'></td>";
      tableSchedule+="<td><input type='checkbox' value='"+i+"_Saturday' name='day"+i+"' id='checkschedule'></td>";
      tableSchedule+="<td><input type='checkbox' value='"+i+"_Sunday' name='day"+i+"' id='checkschedule'></td></tr>";
    }

  }
  tableSchedule+="</table>";
  document.getElementById('testsched').innerHTML = tableSchedule;

  $("th#HSE").mouseover(function(){
  $(this).css("background-color", "gray");
  $(this).css("color", "white");
  });
  $("th#HSE").mouseout(function(){
  $(this).css("background-color", "#ccc");
    $(this).css("color", "#555");
  });
}

function showDiv(){
  if( !($('.graphics').is(":visible")) ){
    $('.graphics').toggle('blind',1500)
}
}

function hideDiv(){
  if( $('.graphics').is(":visible") ){
    $('.graphics').toggle('blind',1500)
}
}

function showDivMain(){
  if( !($('.principal').is(":visible")) ){
    $('.principal').toggle('blind',1500)
}
}

function hideDivMain(){
  if( $('.principal').is(":visible") ){
    $('.principal').toggle('blind',1500)
}
}

function containerShow(){
  //$(".principal").fadeIn();
  showDivMain();
  hideDiv();
  //$('.graphics').fadeOut();
  //drawNiceScrolls();
}

function mostrarLastChart(){
  hideDivMain();
  showDiv();
}

function crearEstadisticas(){
  validar();
  var selhorario=[];

  var selinst=[];
  var selcurso=[];
  var curso = $("#contenedor").jstree("get_selected", true);
  //selcurso = (curso.indexOf("id_")>-1);
  for (var i=0;i<curso.length;i++){
    //console.log(curso[i]['parent']);
    if (curso[i]['id'].indexOf("id_")==false){
      selcurso.push(curso[i]['id']);

      if (selinst.indexOf(curso[i]['parent'])===-1){
        selinst.push(curso[i]['parent']);
      
      }
    }
  }
  
  var radioselect = $('input[value*="radio"]:checked').val();
  if (radioselect=="radio4"){
    selhorario = $('input[name*="day"]:checked').map(function(_,el){
      return $(el).val();
    }).get();
  }
  var typechapter = $('#selectchapter').val();
  //$('#loading').show()
  loading();
  if (validar() && selcurso.length>0 && radioselect){
    desde = document.getElementById("desde").value;
    hasta = document.getElementById("hasta").value;
    //$('.principal').fadeOut();
    if (radioselect=="radio1" || radioselect=="radio2" || radioselect=="radio3" || radioselect=="radio4"){
      $.ajax({
        url: "{% url 'SuperStats:selectSuperStats' %}",
        type: "POST",
        data: {selcurso, selinst, desde, hasta, radioselect, selhorario, typechapter},
          success: function(response){
            jsonResponse = JSON.parse(response);
            hideDivMain();
            showDiv();
            $('#button_last').show();
            $('.widget').hide();
            //console.log(response);
            //$('#loading').hide()
            stoploading();
            graficar(jsonResponse, selinst);
          }
      });
    }
    else{
      $.ajax({
        url: "{% url 'SuperStats:compareSuperStats' %}",
        type: "POST",
        data: {selcurso, selinst, desde, hasta, radioselect},
          success: function(response){
            jsonResponse = JSON.parse(response);
            hideDivMain();
            showDiv();
            $('#button_last').show();
            $('.widget').hide();
            //$('#loading').hide()
            stoploading();
            graficarcompara(jsonResponse, selinst);
          }
      });
    }
  }
  else{
    $('#popup_error').empty();
    $('#popup_error').append("<p>Faltan datos por seleccionar, revise los campos.</p>")
    $('#popup_error').fadeIn().css('display', '');
    $("#hover").fadeIn().css('display', '');
  }
  
}

function graficar(json, clase){
  //console.log(json);
  $('#ordenartot3').show();
  $('#ordenarvid3').show();
  $('#ordenarcant3').show();
  $('#ordenartot').hide();
  $('#ordenarvid').hide();
  $('#ordenarcant').hide();
  $('#containertotnivel').show();
  $('#containertotnivelprom').show();
  $('#containertotinst').show();
  $('#containertotinstprom').show();
  $('#containerejernivel').show();
  $('#containerejernivelprom').show();
  $('#containerejerinst').show();
  $('#containerejerinstprom').show();
  $('#containervidnivel').show();
  $('#containervidnivelprom').show();
  $('#containervidinst').show();
  $('#containervidinstprom').show();
  var colorScale = d3.scale.ordinal().range(['#1c758a'])
    .domain(['KhanBlue']);
  var arrayte=[];
  var arraytv=[];
  var arraycant=[];
  var distxnivel=[];
  var distxnivelprom=[];
  var distxinst=[];
  var distxinstprom=[];
  var arraylsmb = new Array(12).fill(0);
  var arrayea = new Array(12).fill(0);
  var arraycei = new Array(12).fill(0);
  var arraylav = new Array(12).fill(0);
  var arrayrap = new Array(12).fill(0);
  var arraygm = new Array(12).fill(0);
  var arraybakhan = new Array(12).fill(0);

  var arraylsmbprom = new Array(12).fill(0);
  var arrayeaprom = new Array(12).fill(0);
  var arrayceiprom = new Array(12).fill(0);
  var arraylavprom = new Array(12).fill(0);
  var arrayrapprom = new Array(12).fill(0);
  var arraygmprom = new Array(12).fill(0);
  var arraybakhanprom = new Array(12).fill(0);

  var array1basico = new Array(7).fill(0);
  var array2basico = new Array(7).fill(0);
  var array3basico = new Array(7).fill(0);
  var array4basico = new Array(7).fill(0);
  var array5basico = new Array(7).fill(0);
  var array6basico = new Array(7).fill(0);
  var array7basico = new Array(7).fill(0);
  var array8basico = new Array(7).fill(0);
  var array1medio = new Array(7).fill(0);
  var array2medio = new Array(7).fill(0);
  var array3medio = new Array(7).fill(0);
  var array4medio = new Array(7).fill(0);

  var array1basicoprom = new Array(7).fill(0);
  var array2basicoprom = new Array(7).fill(0);
  var array3basicoprom = new Array(7).fill(0);
  var array4basicoprom = new Array(7).fill(0);
  var array5basicoprom = new Array(7).fill(0);
  var array6basicoprom = new Array(7).fill(0);
  var array7basicoprom = new Array(7).fill(0);
  var array8basicoprom = new Array(7).fill(0);
  var array1medioprom = new Array(7).fill(0);
  var array2medioprom = new Array(7).fill(0);
  var array3medioprom = new Array(7).fill(0);
  var array4medioprom = new Array(7).fill(0);

  var distxnivelejer=[];
  var distxnivelejerprom=[];
  var distxinstejer=[];
  var distxinstejerprom=[];

  var arraycontainertodo=[];

  var arraylsmbejer = new Array(12).fill(0);
  var arrayeaejer = new Array(12).fill(0);
  var arrayceiejer = new Array(12).fill(0);
  var arraylavejer = new Array(12).fill(0);
  var arrayrapejer = new Array(12).fill(0);
  var arraygmejer = new Array(12).fill(0);
  var arraybakhanejer = new Array(12).fill(0);

  var arraylsmbejerprom = new Array(12).fill(0);
  var arrayeaejerprom = new Array(12).fill(0);
  var arrayceiejerprom = new Array(12).fill(0);
  var arraylavejerprom = new Array(12).fill(0);
  var arrayrapejerprom = new Array(12).fill(0);
  var arraygmejerprom = new Array(12).fill(0);
  var arraybakhanejerprom = new Array(12).fill(0);

  var array1basicoejer = new Array(7).fill(0);
  var array2basicoejer = new Array(7).fill(0);
  var array3basicoejer = new Array(7).fill(0);
  var array4basicoejer = new Array(7).fill(0);
  var array5basicoejer = new Array(7).fill(0);
  var array6basicoejer = new Array(7).fill(0);
  var array7basicoejer = new Array(7).fill(0);
  var array8basicoejer = new Array(7).fill(0);
  var array1medioejer = new Array(7).fill(0);
  var array2medioejer = new Array(7).fill(0);
  var array3medioejer = new Array(7).fill(0);
  var array4medioejer = new Array(7).fill(0);

  var array1basicoejerprom = new Array(7).fill(0);
  var array2basicoejerprom = new Array(7).fill(0);
  var array3basicoejerprom = new Array(7).fill(0);
  var array4basicoejerprom = new Array(7).fill(0);
  var array5basicoejerprom = new Array(7).fill(0);
  var array6basicoejerprom = new Array(7).fill(0);
  var array7basicoejerprom = new Array(7).fill(0);
  var array8basicoejerprom = new Array(7).fill(0);
  var array1medioejerprom = new Array(7).fill(0);
  var array2medioejerprom = new Array(7).fill(0);
  var array3medioejerprom = new Array(7).fill(0);
  var array4medioejerprom = new Array(7).fill(0);

  var distxnivelvid=[];
  var distxnivelvidprom=[];
  var distxinstvid=[];
  var distxinstvidprom=[];
  var arraylsmbvid = new Array(12).fill(0);
  var arrayeavid = new Array(12).fill(0);
  var arrayceivid = new Array(12).fill(0);
  var arraylavvid = new Array(12).fill(0);
  var arrayrapvid = new Array(12).fill(0);
  var arraygmvid = new Array(12).fill(0);
  var arraybakhanvid = new Array(12).fill(0);

  var arraylsmbvidprom = new Array(12).fill(0);
  var arrayeavidprom = new Array(12).fill(0);
  var arrayceividprom = new Array(12).fill(0);
  var arraylavvidprom = new Array(12).fill(0);
  var arrayrapvidprom = new Array(12).fill(0);
  var arraygmvidprom = new Array(12).fill(0);
  var arraybakhanvidprom = new Array(12).fill(0);

  var array1basicovid = new Array(7).fill(0);
  var array2basicovid = new Array(7).fill(0);
  var array3basicovid = new Array(7).fill(0);
  var array4basicovid = new Array(7).fill(0);
  var array5basicovid = new Array(7).fill(0);
  var array6basicovid = new Array(7).fill(0);
  var array7basicovid = new Array(7).fill(0);
  var array8basicovid = new Array(7).fill(0);
  var array1mediovid = new Array(7).fill(0);
  var array2mediovid = new Array(7).fill(0);
  var array3mediovid = new Array(7).fill(0);
  var array4mediovid = new Array(7).fill(0);

  var array1basicovidprom = new Array(7).fill(0);
  var array2basicovidprom = new Array(7).fill(0);
  var array3basicovidprom = new Array(7).fill(0);
  var array4basicovidprom = new Array(7).fill(0);
  var array5basicovidprom = new Array(7).fill(0);
  var array6basicovidprom = new Array(7).fill(0);
  var array7basicovidprom = new Array(7).fill(0);
  var array8basicovidprom = new Array(7).fill(0);
  var array1mediovidprom = new Array(7).fill(0);
  var array2mediovidprom = new Array(7).fill(0);
  var array3mediovidprom = new Array(7).fill(0);
  var array4mediovidprom = new Array(7).fill(0);

  var elementremove = [];
  var elementremoveprom = [];
  var elementremoveinst = [];
  var elementremoveinstprom = [];
  var elementremoveejer = [];
  var elementremoveejerprom = [];
  var elementremoveinstejer = [];
  var elementremoveinstejerprom = [];
  var elementremovevid = [];
  var elementremovevidprom = [];
  var elementremoveinstvid = [];
  var elementremoveinstvidprom = [];
  var serie=[];
  var serietpo=[];
  var serievid=[];
  var j;
  var mission=[];

  var estudianteslsmb=0;
  var estudiantesea=0;
  var estudiantescei=0;
  var estudianteslav=0;
  var estudiantesrap=0;
  var estudianteslgm=0;
  var estudiantesbakhan=0;

  var arraycantidad=[];
  var arraytpoejercicios=[];
  var arraytpovideos=[];
  var arraynombres=[];

  /*var estudiantes1basico=0;
  var estudiantes2basico=0;
  var estudiantes3basico=0;
  var estudiantes4basico=0;
  var estudiantes5basico=0;
  var estudiantes6basico=0;
  var estudiantes7basico=0;
  var estudiantes8basico=0;
  var estudiantes1medio=0;
  var estudiantes2medio=0;
  var estudiantes3medio=0;
  var estudiantes4medio=0;*/

  var estudiantesniveles = new Array(12).fill(0);
  var estudiantesnivelesinst = new Array(7).fill(0);

  if(json["clases"]){
    var clase = json["clases"]
    var colorcolumn=[];
    var arregloclase=[];
    for (var i=0;i<clase.length;i++){
      var datosest=[];
      var tpoest=[];
      var videst=[];
      var level = clase[i]["level"]
      var curso=clase[i]["nombre"];
      var ee=clase[i]["establecimiento"]
      var tpo_ejercicios = clase[i]["tiempo_ejercicios_clase"]
      var tpo_videos = clase[i]["tiempo_videos_clase"]
      var cantidad = clase[i]["total_ejercicios_clase"]
      var nombre = curso +" - "+ee
      var estudiantes = clase[i]["students"];
      var cantidad_clase = clase[i]["cantidad_clases"]
      var tiempo_esperado = clase[i]["tiempo_esperado"]
      var maxtpoejer=0;
      var maxtpovid=0;
      var maxtotejer=0;
      var mintpoejer=99999999;
      var mintpovid=99999999;
      var mintotejer=99999999;
      var estudtrabtpoejer=0;
      var estudtrabtpovid=0;
      var estudtrabcantejer=0;
      estudiantesniveles[level-1]+=estudiantes.length;
      for (j=0;j<estudiantes.length;j++){
        datosest[j]=[estudiantes[j]["name"], estudiantes[j]["total_ejercicios"]];
        tpoest[j]=[estudiantes[j]["name"], estudiantes[j]["tiempo_ejercicios"]];
        videst[j]=[estudiantes[j]["name"], estudiantes[j]["tiempo_videos"]];


        if (estudiantes[j]["total_ejercicios"]>maxtotejer){
          maxtotejer=estudiantes[j]["total_ejercicios"];
        }
        if (estudiantes[j]["tiempo_ejercicios"]>maxtpoejer){
          maxtpoejer=estudiantes[j]["tiempo_ejercicios"];
        }
        if (estudiantes[j]["tiempo_videos"]>maxtpovid){
          maxtpovid=estudiantes[j]["tiempo_videos"];
        }
        if (estudiantes[j]["total_ejercicios"]<mintotejer && estudiantes[j]["total_ejercicios"]!=0){
          mintotejer=estudiantes[j]["total_ejercicios"];
        }
        if (estudiantes[j]["tiempo_ejercicios"]<mintpoejer && estudiantes[j]["tiempo_ejercicios"]!=0){
          mintpoejer=estudiantes[j]["tiempo_ejercicios"];
        }
        if (estudiantes[j]["tiempo_videos"]<mintpovid && estudiantes[j]["tiempo_videos"]!=0){
          mintpovid=estudiantes[j]["tiempo_videos"];
        }
        if (estudiantes[j]["total_ejercicios"]>0){
          estudtrabcantejer++;
        }
        if (estudiantes[j]["tiempo_ejercicios"]>0){
          estudtrabtpoejer++;
        }
        if (estudiantes[j]["tiempo_videos"]>0){
          estudtrabtpovid++;
        }
      }
      //var colorcolumn={"color":colors[i]};
      if (ee=="LSMB"){
        colorcolumn[i]='#7CB5EC';
        arraylsmb[level-1]=arraylsmb[level-1]+cantidad;
        //estudianteslsmb+=estudiantes.length;
        estudiantesnivelesinst[0]+=estudiantes.length;

        if (level==1){
          array1basico[0]+=cantidad;
          //array1basicoprom[0]+=Math.round(cantidad/estudiantes.length*100)/100;

          array1basicoejer[0]+=tpo_ejercicios;
          //array1basicoejerprom[0]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array1basicovid[0]+=tpo_videos;
          //array1basicovidprom[0]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==2){
          array2basico[0]+=cantidad;
          //array2basicoprom[0]+=Math.round(cantidad/estudiantes.length*100)/100;

          array2basicoejer[0]+=tpo_ejercicios;
          //array2basicoejerprom[0]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array2basicovid[0]+=tpo_videos;
          //array2basicovidprom[0]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==3){
          array3basico[0]+=cantidad;
          //array3basicoprom[0]+=Math.round(cantidad/estudiantes.length*100)/100;

          array3basicoejer[0]+=tpo_ejercicios;
          //array3basicoejerprom[0]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array3basicovid[0]+=tpo_videos;
          //array3basicovidprom[0]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==4){
          array4basico[0]+=cantidad;
          //array4basicoprom[0]+=Math.round(cantidad/estudiantes.length*100)/100;

          array4basicoejer[0]+=tpo_ejercicios;
          //array4basicoejerprom[0]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array4basicovid[0]+=tpo_videos;
          //array4basicovidprom[0]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==5){
          array5basico[0]+=cantidad;
          //array5basicoprom[0]+=Math.round(cantidad/estudiantes.length*100)/100;

          array5basicoejer[0]+=tpo_ejercicios;
          //array5basicoejerprom[0]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array5basicovid[0]+=tpo_videos;
          //array5basicovidprom[0]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==6){
          array6basico[0]+=cantidad;
          //array6basicoprom[0]+=Math.round(cantidad/estudiantes.length*100)/100;

          array6basicoejer[0]+=tpo_ejercicios;
          //array6basicoejerprom[0]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array6basicovid[0]+=tpo_videos;
          //array6basicovidprom[0]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==7){
          array7basico[0]+=cantidad;
          //array7basicoprom[0]+=Math.round(cantidad/estudiantes.length*100)/100;

          array7basicoejer[0]+=tpo_ejercicios;
          //array7basicoejerprom[0]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array7basicovid[0]+=tpo_videos;
          //array7basicovidprom[0]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==8){
          array8basico[0]+=cantidad;
          //array8basicoprom[0]+=Math.round(cantidad/estudiantes.length*100)/100;

          array8basicoejer[0]+=tpo_ejercicios;
          //array8basicoejerprom[0]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array8basicovid[0]+=tpo_videos;
          //array8basicovidprom[0]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==9){
          array1medio[0]+=cantidad;
          //array1medioprom[0]+=Math.round(cantidad/estudiantes.length*100)/100;

          array1medioejer[0]+=tpo_ejercicios;
          //array1medioejerprom[0]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array1mediovid[0]+=tpo_videos;
          //array1mediovidprom[0]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==10){
          array2medio[0]+=cantidad;
          //array2medioprom[0]+=Math.round(cantidad/estudiantes.length*100)/100;

          array2medioejer[0]+=tpo_ejercicios;
          //array2medioejerprom[0]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array2mediovid[0]+=tpo_videos;
          //array2mediovidprom[0]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==11){
          array3medio[0]+=cantidad;
          //array3medioprom[0]+=Math.round(cantidad/estudiantes.length*100)/100;

          array3medioejer[0]+=tpo_ejercicios;
          //array3medioejerprom[0]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array3mediovid[0]+=tpo_videos;
          //array3mediovidprom[0]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==12){
          array4medio[0]+=cantidad;
          //array4medioprom[0]+=Math.round(cantidad/estudiantes.length*100)/100;

          array4medioejer[0]+=tpo_ejercicios;
          //array4medioejerprom[0]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array4mediovid[0]+=tpo_videos;
          //array4mediovidprom[0]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }

        arraylsmbejer[level-1]=arraylsmbejer[level-1]+tpo_ejercicios;
        //arraylsmbejerprom[level-1]=arraylsmbejerprom[level-1]+Math.round(tpo_ejercicios/estudiantes.length*100)/100;

        arraylsmbvid[level-1]=arraylsmbvid[level-1]+tpo_videos;
        //arraylsmbvidprom[level-1]=arraylsmbvidprom[level-1]+Math.round(tpo_videos/estudiantes.length*100)/100;

      }
      if (ee=="E.A."){
        colorcolumn[i]='#434348';
        arrayea[level-1]=arrayea[level-1]+cantidad;
        //arrayeaprom[level-1]+=(Math.round(cantidad/estudiantes.length*100)/100);
        estudiantesnivelesinst[1]+=estudiantes.length;

        if (level==1){
          array1basico[1]+=cantidad;
          //array1basicoprom[1]+=Math.round(cantidad/estudiantes.length*100)/100;

          array1basicoejer[1]+=tpo_ejercicios;
          //array1basicoejerprom[1]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array1basicovid[1]+=tpo_videos;
          //array1basicovidprom[1]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==2){
          array2basico[1]+=cantidad;
          //array2basicoprom[1]+=Math.round(cantidad/estudiantes.length*100)/100;

          array2basicoejer[1]+=tpo_ejercicios;
          //array2basicoejerprom[1]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array2basicovid[1]+=tpo_videos;
          //array2basicovidprom[1]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==3){
          array3basico[1]+=cantidad;
          //array3basicoprom[1]+=Math.round(cantidad/estudiantes.length*100)/100;

          array3basicoejer[1]+=tpo_ejercicios;
          //array3basicoejerprom[1]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array3basicovid[1]+=tpo_videos;
          //array3basicovidprom[1]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==4){
          array4basico[1]+=cantidad;
          //array4basicoprom[1]+=Math.round(cantidad/estudiantes.length*100)/100;

          array4basicoejer[1]+=tpo_ejercicios;
          //array4basicoejerprom[1]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array4basicovid[1]+=tpo_videos;
          //array4basicovidprom[1]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==5){
          array5basico[1]+=cantidad;
          //array5basicoprom[1]+=Math.round(cantidad/estudiantes.length*100)/100;

          array5basicoejer[1]+=tpo_ejercicios;
          //array5basicoejerprom[1]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array5basicovid[1]+=tpo_videos;
          //array5basicovidprom[1]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==6){
          array6basico[1]+=cantidad;
          //array6basicoprom[1]+=Math.round(cantidad/estudiantes.length*100)/100;

          array6basicoejer[1]+=tpo_ejercicios;
          //array6basicoejerprom[1]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array6basicovid[1]+=tpo_videos;
          //array6basicovidprom[1]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==7){
          array7basico[1]+=cantidad;
          //array7basicoprom[1]+=Math.round(cantidad/estudiantes.length*100)/100;

          array7basicoejer[1]+=tpo_ejercicios;
          //array7basicoejerprom[1]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array7basicovid[1]+=tpo_videos;
          //array7basicovidprom[1]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==8){
          array8basico[1]+=cantidad;
          //array8basicoprom[1]+=Math.round(cantidad/estudiantes.length*100)/100;

          array8basicoejer[1]+=tpo_ejercicios;
          //array8basicoejerprom[1]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array8basicovid[1]+=tpo_videos;
          //array8basicovidprom[1]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==9){
          array1medio[1]+=cantidad;
          //array1medioprom[1]+=Math.round(cantidad/estudiantes.length*100)/100;

          array1medioejer[1]+=tpo_ejercicios;
          //array1medioejerprom[1]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array1mediovid[1]+=tpo_videos;
          //array1mediovidprom[1]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==10){
          array2medio[1]+=cantidad;
          //array2medioprom[1]+=Math.round(cantidad/estudiantes.length*100)/100;

          array2medioejer[1]+=tpo_ejercicios;
          //array2medioejerprom[1]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array2mediovid[1]+=tpo_videos;
          //array2mediovidprom[1]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==11){
          array3medio[1]+=cantidad;
          //array3medioprom[1]+=Math.round(cantidad/estudiantes.length*100)/100;

          array3medioejer[1]+=tpo_ejercicios;
          //array3medioejerprom[1]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array3mediovid[1]+=tpo_videos;
          //array3mediovidprom[1]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==12){
          array4medio[1]+=cantidad;
          //array4medioprom[1]+=Math.round(cantidad/estudiantes.length*100)/100;

          array4medioejer[1]+=tpo_ejercicios;
          //array4medioejerprom[1]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array4mediovid[1]+=tpo_videos;
          //array4mediovidprom[1]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }


        arrayeaejer[level-1]=arrayeaejer[level-1]+tpo_ejercicios;
        //arrayeaejerprom[level-1]=arrayeaejerprom[level-1]+Math.round(tpo_ejercicios/estudiantes.length*100)/100;

        arrayeavid[level-1]=arrayeavid[level-1]+tpo_videos;
        //arrayeavidprom[level-1]=arrayeavidprom[level-1]+Math.round(tpo_videos/estudiantes.length*100)/100;
        
      }
      if (ee=="C.E.I."){
        colorcolumn[i]='#90ED7D';
        arraycei[level-1]=arraycei[level-1]+cantidad;
        //arrayceiprom[level-1]+=(Math.round(cantidad/estudiantes.length*100)/100);
        estudiantesnivelesinst[2]+=estudiantes.length;

        if (level==1){
          array1basico[2]+=cantidad;
          //array1basicoprom[2]+=Math.round(cantidad/estudiantes.length*100)/100;

          array1basicoejer[2]+=tpo_ejercicios;
          //array1basicoejerprom[2]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array1basicovid[2]+=tpo_videos;
          //array1basicovidprom[2]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==2){
          array2basico[2]+=cantidad;
          //array2basicoprom[2]+=Math.round(cantidad/estudiantes.length*100)/100;

          array2basicoejer[2]+=tpo_ejercicios;
          //array2basicoejerprom[2]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array2basicovid[2]+=tpo_videos;
          //array2basicovidprom[2]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==3){
          array3basico[2]+=cantidad;
          //array3basicoprom[2]+=Math.round(cantidad/estudiantes.length*100)/100;

          array3basicoejer[2]+=tpo_ejercicios;
          //array3basicoejerprom[2]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array3basicovid[2]+=tpo_videos;
          //array3basicovidprom[2]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==4){
          array4basico[2]+=cantidad;
          //array4basicoprom[2]+=Math.round(cantidad/estudiantes.length*100)/100;

          array4basicoejer[2]+=tpo_ejercicios;
          //array4basicoejerprom[2]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array4basicovid[2]+=tpo_videos;
          //array4basicovidprom[2]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==5){
          array5basico[2]+=cantidad;
          //array5basicoprom[2]+=Math.round(cantidad/estudiantes.length*100)/100;

          array5basicoejer[2]+=tpo_ejercicios;
          //array5basicoejerprom[2]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array5basicovid[2]+=tpo_videos;
          //array5basicovidprom[2]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==6){
          array6basico[2]+=cantidad;
          //array6basicoprom[2]+=Math.round(cantidad/estudiantes.length*100)/100;

          array6basicoejer[2]+=tpo_ejercicios;
          //array6basicoejerprom[2]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array6basicovid[2]+=tpo_videos;
          //array6basicovidprom[2]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==7){
          array7basico[2]+=cantidad;
          //array7basicoprom[2]+=Math.round(cantidad/estudiantes.length*100)/100;

          array7basicoejer[2]+=tpo_ejercicios;
          //array7basicoejerprom[2]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array7basicovid[2]+=tpo_videos;
          //array7basicovidprom[2]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==8){
          array8basico[2]+=cantidad;
          //array8basicoprom[2]+=Math.round(cantidad/estudiantes.length*100)/100;

          array8basicoejer[2]+=tpo_ejercicios;
          //array8basicoejerprom[2]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array8basicovid[2]+=tpo_videos;
          //array8basicovidprom[2]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==9){
          array1medio[2]+=cantidad;
          //array1medioprom[2]+=Math.round(cantidad/estudiantes.length*100)/100;

          array1medioejer[2]+=tpo_ejercicios;
          //array1medioejerprom[2]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array1mediovid[2]+=tpo_videos;
          //array1mediovidprom[2]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==10){
          array2medio[2]+=cantidad;
          //array2medioprom[2]+=Math.round(cantidad/estudiantes.length*100)/100;

          array2medioejer[2]+=tpo_ejercicios;
          //array2medioejerprom[2]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array2mediovid[2]+=tpo_videos;
          //array2mediovidprom[2]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==11){
          array3medio[2]+=cantidad;
          //array3medioprom[2]+=Math.round(cantidad/estudiantes.length*100)/100;

          array3medioejer[2]+=tpo_ejercicios;
          //array3medioejerprom[2]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array3mediovid[2]+=tpo_videos;
          //array3mediovidprom[2]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==12){
          array4medio[2]+=cantidad;
          //array4medioprom[2]+=Math.round(cantidad/estudiantes.length*100)/100;

          array4medioejer[2]+=tpo_ejercicios;
          //array4medioejerprom[2]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array4mediovid[2]+=tpo_videos;
          //array4mediovidprom[2]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }

        arrayceiejer[level-1]=arrayceiejer[level-1]+tpo_ejercicios;
        //arrayceiejerprom[level-1]=arrayceiejerprom[level-1]+Math.round(tpo_ejercicios/estudiantes.length*100)/100;

        arrayceivid[level-1]=arrayceivid[level-1]+tpo_videos;
        //arrayceividprom[level-1]=arrayceividprom[level-1]+Math.round(tpo_videos/estudiantes.length*100)/100;
      }
      if (ee=="L.A.V."){
        colorcolumn[i]='#F7A35C';
        arraylav[level-1]=arraylav[level-1]+cantidad;
        //arraylavprom[level-1]+=(Math.round(cantidad/estudiantes.length*100)/100);
        estudiantesnivelesinst[3]+=estudiantes.length;

        if (level==1){
          array1basico[3]+=cantidad;
          //array1basicoprom[3]+=Math.round(cantidad/estudiantes.length*100)/100;

          array1basicoejer[3]+=tpo_ejercicios;
          //array1basicoejerprom[3]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array1basicovid[3]+=tpo_videos;
          //array1basicovidprom[3]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==2){
          array2basico[3]+=cantidad;
          //array2basicoprom[3]+=Math.round(cantidad/estudiantes.length*100)/100;

          array2basicoejer[3]+=tpo_ejercicios;
          //array2basicoejerprom[3]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array2basicovid[3]+=tpo_videos;
          //array2basicovidprom[3]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==3){
          array3basico[3]+=cantidad;
          //array3basicoprom[3]+=Math.round(cantidad/estudiantes.length*100)/100;

          array3basicoejer[3]+=tpo_ejercicios;
          //array3basicoejerprom[3]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array3basicovid[3]+=tpo_videos;
          //array3basicovidprom[3]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==4){
          array4basico[3]+=cantidad;
          //array4basicoprom[3]+=Math.round(cantidad/estudiantes.length*100)/100;

          array4basicoejer[3]+=tpo_ejercicios;
          //array4basicoejerprom[3]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array4basicovid[3]+=tpo_videos;
          //array4basicovidprom[3]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==5){
          array5basico[3]+=cantidad;
          //array5basicoprom[3]+=Math.round(cantidad/estudiantes.length*100)/100;

          array5basicoejer[3]+=tpo_ejercicios;
          //array5basicoejerprom[3]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array5basicovid[3]+=tpo_videos;
          //array5basicovidprom[3]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==6){
          array6basico[3]+=cantidad;
          //array6basicoprom[3]+=Math.round(cantidad/estudiantes.length*100)/100;

          array6basicoejer[3]+=tpo_ejercicios;
          //array6basicoejerprom[3]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array6basicovid[3]+=tpo_videos;
          //array6basicovidprom[3]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==7){
          array7basico[3]+=cantidad;
          //array7basicoprom[3]+=Math.round(cantidad/estudiantes.length*100)/100;

          array7basicoejer[3]+=tpo_ejercicios;
          //array7basicoejerprom[3]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array7basicovid[3]+=tpo_videos;
          //array7basicovidprom[3]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==8){
          array8basico[3]+=cantidad;
          //array8basicoprom[3]+=Math.round(cantidad/estudiantes.length*100)/100;

          array8basicoejer[3]+=tpo_ejercicios;
          //array8basicoejerprom[3]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array8basicovid[3]+=tpo_videos;
          //array8basicovidprom[3]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==9){
          array1medio[3]+=cantidad;
          //array1medioprom[3]+=Math.round(cantidad/estudiantes.length*100)/100;

          array1medioejer[3]+=tpo_ejercicios;
          //array1medioejerprom[3]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array1mediovid[3]+=tpo_videos;
          //array1mediovidprom[3]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==10){
          array2medio[3]+=cantidad;
          //array2medioprom[3]+=Math.round(cantidad/estudiantes.length*100)/100;

          array2medioejer[3]+=tpo_ejercicios;
          //array2medioejerprom[3]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array2mediovid[3]+=tpo_videos;
          //array2mediovidprom[3]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==11){
          array3medio[3]+=cantidad;
          //array3medioprom[3]+=Math.round(cantidad/estudiantes.length*100)/100;

          array3medioejer[3]+=tpo_ejercicios;
          //array3medioejerprom[3]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array3mediovid[3]+=tpo_videos;
          //array3mediovidprom[3]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==12){
          array4medio[3]+=cantidad;
          //array4medioprom[3]+=Math.round(cantidad/estudiantes.length*100)/100;

          array4medioejer[3]+=tpo_ejercicios;
          //array4medioejerprom[3]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array4mediovid[3]+=tpo_videos;
          //array4mediovidprom[3]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }

        arraylavejer[level-1]=arraylavejer[level-1]+tpo_ejercicios;
        //arraylavejerprom[level-1]=arraylavejerprom[level-1]+Math.round(tpo_ejercicios/estudiantes.length*100)/100;

        arraylavvid[level-1]=arraylavvid[level-1]+tpo_videos;
        //arraylavvidprom[level-1]=arraylavvidprom[level-1]+Math.round(tpo_videos/estudiantes.length*100)/100;
      
      }
      if (ee=="R.A.P."){
        colorcolumn[i]='#8085E9';
        arrayrap[level-1]=arrayrap[level-1]+cantidad;
        //arrayrapprom[level-1]+=(Math.round(cantidad/estudiantes.length*100)/100);
        estudiantesnivelesinst[4]+=estudiantes.length;

        if (level==1){
          array1basico[4]+=cantidad;
          //array1basicoprom[4]+=Math.round(cantidad/estudiantes.length*100)/100;

          array1basicoejer[4]+=tpo_ejercicios;
          //array1basicoejerprom[4]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array1basicovid[4]+=tpo_videos;
          //array1basicovidprom[4]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==2){
          array2basico[4]+=cantidad;
          //array2basicoprom[4]+=Math.round(cantidad/estudiantes.length*100)/100;

          array2basicoejer[4]+=tpo_ejercicios;
          //array2basicoejerprom[4]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array2basicovid[4]+=tpo_videos;
          //array2basicovidprom[4]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==3){
          array3basico[4]+=cantidad;
          //array3basicoprom[4]+=Math.round(cantidad/estudiantes.length*100)/100;

          array3basicoejer[4]+=tpo_ejercicios;
          //array3basicoejerprom[4]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array3basicovid[4]+=tpo_videos;
          //array3basicovidprom[4]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==4){
          array4basico[4]+=cantidad;
          //array4basicoprom[4]+=Math.round(cantidad/estudiantes.length*100)/100;

          array4basicoejer[4]+=tpo_ejercicios;
          //array4basicoejerprom[4]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array4basicovid[4]+=tpo_videos;
          //array4basicovidprom[4]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==5){
          array5basico[4]+=cantidad;
          //array5basicoprom[4]+=Math.round(cantidad/estudiantes.length*100)/100;

          array5basicoejer[4]+=tpo_ejercicios;
          //array5basicoejerprom[4]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array5basicovid[4]+=tpo_videos;
          //array5basicovidprom[4]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==6){
          array6basico[4]+=cantidad;
          //array6basicoprom[4]+=Math.round(cantidad/estudiantes.length*100)/100;

          array6basicoejer[4]+=tpo_ejercicios;
          //array6basicoejerprom[4]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array6basicovid[4]+=tpo_videos;
          //array6basicovidprom[4]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==7){
          array7basico[4]+=cantidad;
          //array7basicoprom[4]+=Math.round(cantidad/estudiantes.length*100)/100;

          array7basicoejer[4]+=tpo_ejercicios;
          //array7basicoejerprom[4]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array7basicovid[4]+=tpo_videos;
          //array7basicovidprom[4]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==8){
          array8basico[4]+=cantidad;
          //array8basicoprom[4]+=Math.round(cantidad/estudiantes.length*100)/100;

          array8basicoejer[4]+=tpo_ejercicios;
          //array8basicoejerprom[4]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array8basicovid[4]+=tpo_videos;
          //array8basicovidprom[4]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==9){
          array1medio[4]+=cantidad;
          //array1medioprom[4]+=Math.round(cantidad/estudiantes.length*100)/100;

          array1medioejer[4]+=tpo_ejercicios;
          //array1medioejerprom[4]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array1mediovid[4]+=tpo_videos;
          //array1mediovidprom[4]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==10){
          array2medio[4]+=cantidad;
          //array2medioprom[4]+=Math.round(cantidad/estudiantes.length*100)/100;

          array2medioejer[4]+=tpo_ejercicios;
          //array2medioejerprom[4]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array2mediovid[4]+=tpo_videos;
          //array2mediovidprom[4]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==11){
          array3medio[4]+=cantidad;
          //array3medioprom[4]+=Math.round(cantidad/estudiantes.length*100)/100;

          array3medioejer[4]+=tpo_ejercicios;
          //array3medioejerprom[4]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array3mediovid[4]+=tpo_videos;
          //array3mediovidprom[4]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==12){
          array4medio[4]+=cantidad;
          //array4medioprom[4]+=Math.round(cantidad/estudiantes.length*100)/100;

          array4medioejer[4]+=tpo_ejercicios;
          //array4medioejerprom[4]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array4mediovid[4]+=tpo_videos;
          //array4mediovidprom[4]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }

        arrayrapejer[level-1]=arrayrapejer[level-1]+tpo_ejercicios;
        //arrayrapejerprom[level-1]=arrayrapejerprom[level-1]+Math.round(tpo_ejercicios/estudiantes.length*100)/100;

        arrayrapvid[level-1]=arrayrapvid[level-1]+tpo_videos;
        //arrayrapvidprom[level-1]=arrayrapvidprom[level-1]+Math.round(tpo_videos/estudiantes.length*100)/100;
        
      }
      if (ee=="L.G.M."){
        colorcolumn[i]='#F15C80';
        arraygm[level-1]=arraygm[level-1]+cantidad;
        //arraygmprom[level-1]+=(Math.round(cantidad/estudiantes.length*100)/100);
        estudiantesnivelesinst[5]+=estudiantes.length;

        if (level==1){
          array1basico[5]+=cantidad;
          //array1basicoprom[5]+=Math.round(cantidad/estudiantes.length*100)/100;

          array1basicoejer[5]+=tpo_ejercicios;
          //array1basicoejerprom[5]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array1basicovid[5]+=tpo_videos;
          //array1basicovidprom[5]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==2){
          array2basico[5]+=cantidad;
          //array2basicoprom[5]+=Math.round(cantidad/estudiantes.length*100)/100;

          array2basicoejer[5]+=tpo_ejercicios;
          //array2basicoejerprom[5]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array2basicovid[5]+=tpo_videos;
          //array2basicovidprom[5]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==3){
          array3basico[5]+=cantidad;
          //array3basicoprom[5]+=Math.round(cantidad/estudiantes.length*100)/100;

          array3basicoejer[5]+=tpo_ejercicios;
          //array3basicoejerprom[5]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array3basicovid[5]+=tpo_videos;
          //array3basicovidprom[5]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==4){
          array4basico[5]+=cantidad;
          //array4basicoprom[5]+=Math.round(cantidad/estudiantes.length*100)/100;

          array4basicoejer[5]+=tpo_ejercicios;
          //array4basicoejerprom[5]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array4basicovid[5]+=tpo_videos;
          //array4basicovidprom[5]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==5){
          array5basico[5]+=cantidad;
          //array5basicoprom[5]+=Math.round(cantidad/estudiantes.length*100)/100;

          array5basicoejer[5]+=tpo_ejercicios;
          //array5basicoejerprom[5]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array5basicovid[5]+=tpo_videos;
          //array5basicovidprom[5]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==6){
          array6basico[5]+=cantidad;
          //array6basicoprom[5]+=Math.round(cantidad/estudiantes.length*100)/100;

          array6basicoejer[5]+=tpo_ejercicios;
          //array6basicoejerprom[5]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array6basicovid[5]+=tpo_videos;
          //array6basicovidprom[5]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==7){
          array7basico[5]+=cantidad;
          //array7basicoprom[5]+=Math.round(cantidad/estudiantes.length*100)/100;

          array7basicoejer[5]+=tpo_ejercicios;
          //array7basicoejerprom[5]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array7basicovid[5]+=tpo_videos;
          //array7basicovidprom[5]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==8){
          array8basico[5]+=cantidad;
          //array8basicoprom[5]+=Math.round(cantidad/estudiantes.length*100)/100;

          array8basicoejer[5]+=tpo_ejercicios;
         // array8basicoejerprom[5]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array8basicovid[5]+=tpo_videos;
          //array8basicovidprom[5]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==9){
          array1medio[5]+=cantidad;
          //array1medioprom[5]+=Math.round(cantidad/estudiantes.length*100)/100;

          array1medioejer[5]+=tpo_ejercicios;
          //array1medioejerprom[5]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array1mediovid[5]+=tpo_videos;
          //array1mediovidprom[5]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==10){
          array2medio[5]+=cantidad;
          //array2medioprom[5]+=Math.round(cantidad/estudiantes.length*100)/100;

          array2medioejer[5]+=tpo_ejercicios;
          //array2medioejerprom[5]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array2mediovid[5]+=tpo_videos;
          //array2mediovidprom[5]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==11){
          array3medio[5]+=cantidad;
          //array3medioprom[5]+=Math.round(cantidad/estudiantes.length*100)/100;

          array3medioejer[5]+=tpo_ejercicios;
          //array3medioejerprom[5]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array3mediovid[5]+=tpo_videos;
          //array3mediovidprom[5]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==12){
          array4medio[5]+=cantidad;
          //array4medioprom[5]+=Math.round(cantidad/estudiantes.length*100)/100;

          array4medioejer[5]+=tpo_ejercicios;
          //array4medioejerprom[5]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array4mediovid[5]+=tpo_videos;
          //array4mediovidprom[5]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        
        arraygmejer[level-1]=arraygmejer[level-1]+tpo_ejercicios;
        //arraygmejerprom[level-1]=arraygmejerprom[level-1]+Math.round(tpo_ejercicios/estudiantes.length*100)/100;

        arraygmvid[level-1]=arraygmvid[level-1]+tpo_videos;
        //arraygmvidprom[level-1]=arraygmvidprom[level-1]+Math.round(tpo_videos/estudiantes.length*100)/100;
        
      }
      if (ee=="BA-Khan"){
        colorcolumn[i]='#E4D354';
        arraybakhan[level-1]=arraybakhan[level-1]+cantidad;
        //arraybakhanprom[level-1]+=(Math.round(cantidad/estudiantes.length*100)/100);
        estudiantesnivelesinst[6]+=estudiantes.length;

        if (level==1){
          array1basico[6]+=cantidad;
          //array1basicoprom[6]+=Math.round(cantidad/estudiantes.length*100)/100;

          array1basicoejer[6]+=tpo_ejercicios;
          //array1basicoejerprom[6]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array1basicovid[6]+=tpo_videos;
          //array1basicovidprom[6]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==2){
          array2basico[6]+=cantidad;
          //array2basicoprom[6]+=Math.round(cantidad/estudiantes.length*100)/100;

          array2basicoejer[6]+=tpo_ejercicios;
          //array2basicoejerprom[6]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array2basicovid[6]+=tpo_videos;
          //array2basicovidprom[6]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==3){
          array3basico[6]+=cantidad;
          //array3basicoprom[6]+=Math.round(cantidad/estudiantes.length*100)/100;

          array3basicoejer[6]+=tpo_ejercicios;
          //array3basicoejerprom[6]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array3basicovid[6]+=tpo_videos;
          //array3basicovidprom[6]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==4){
          array4basico[6]+=cantidad;
          //array4basicoprom[6]+=Math.round(cantidad/estudiantes.length*100)/100;

          array4basicoejer[6]+=tpo_ejercicios;
          //array4basicoejerprom[6]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array4basicovid[6]+=tpo_videos;
          //array4basicovidprom[6]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==5){
          array5basico[6]+=cantidad;
          //array5basicoprom[6]+=Math.round(cantidad/estudiantes.length*100)/100;

          array5basicoejer[6]+=tpo_ejercicios;
          //array5basicoejerprom[6]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array5basicovid[6]+=tpo_videos;
          //array5basicovidprom[6]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==6){
          array6basico[6]+=cantidad;
          //array6basicoprom[6]+=Math.round(cantidad/estudiantes.length*100)/100;

          array6basicoejer[6]+=tpo_ejercicios;
          //array6basicoejerprom[6]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array6basicovid[6]+=tpo_videos;
          //array6basicovidprom[6]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==7){
          array7basico[6]+=cantidad;
          //array7basicoprom[6]+=Math.round(cantidad/estudiantes.length*100)/100;

          array7basicoejer[6]+=tpo_ejercicios;
          //array7basicoejerprom[6]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array7basicovid[6]+=tpo_videos;
          //array7basicovidprom[6]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==8){
          array8basico[6]+=cantidad;
          //array8basicoprom[6]+=Math.round(cantidad/estudiantes.length*100)/100;

          array8basicoejer[6]+=tpo_ejercicios;
          //array8basicoejerprom[6]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array8basicovid[6]+=tpo_videos;
          //array8basicovidprom[6]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==9){
          array1medio[6]+=cantidad;
          //array1medioprom[6]+=Math.round(cantidad/estudiantes.length*100)/100;

          array1medioejer[6]+=tpo_ejercicios;
          //array1medioejerprom[6]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array1mediovid[6]+=tpo_videos;
          //array1mediovidprom[6]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==10){
          array2medio[6]+=cantidad;
          //array2medioprom[6]+=Math.round(cantidad/estudiantes.length*100)/100;

          array2medioejer[6]+=tpo_ejercicios;
          //array2medioejerprom[6]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array2mediovid[6]+=tpo_videos;
          //array2mediovidprom[6]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==11){
          array3medio[6]+=cantidad;
          //array3medioprom[6]+=Math.round(cantidad/estudiantes.length*100)/100;

          array3medioejer[6]+=tpo_ejercicios;
          //array3medioejerprom[6]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array3mediovid[6]+=tpo_videos;
          //array3mediovidprom[6]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }
        if (level==12){
          array4medio[6]+=cantidad;
          //array4medioprom[6]+=Math.round(cantidad/estudiantes.length*100)/100;

          array4medioejer[6]+=tpo_ejercicios;
          //array4medioejerprom[6]+=Math.round(tpo_ejercicios/estudiantes.length*100)/100;

          array4mediovid[6]+=tpo_videos;
          //array4mediovidprom[6]+=Math.round(tpo_videos/estudiantes.length*100)/100;
        }

        arraybakhanejer[level-1]=arraybakhanejer[level-1]+tpo_ejercicios;
        //arraybakhanejerprom[level-1]=arraybakhanejerprom[level-1]+Math.round(tpo_ejercicios/estudiantes.length*100)/100;

        arraybakhanvid[level-1]=arraybakhanvid[level-1]+tpo_videos;
        //arraybakhanvidprom[level-1]=arraybakhanvidprom[level-1]+Math.round(tpo_videos/estudiantes.length*100)/100;
        
      }

      arrayte[i]={"name":nombre, "y": tpo_ejercicios, "drilldown":nombre, "cantidad":estudiantes.length, "trabajaron":estudtrabtpoejer, "maximo":maxtpoejer, "minimo":mintpoejer, "promedio":tpo_ejercicios/estudiantes.length, "cantclase":cantidad_clase, "tpo_esperado":tiempo_esperado, "establecimiento": ee};
      serietpo[i]={"name":nombre, "id":nombre, "data":tpoest, "tooltip":{"pointFormat": 'Tiempo de ejercicios: <b>{point.y:,.2f}</b>'}};

      arraytv[i]={"name":nombre, "y": tpo_videos, "drilldown":nombre, "cantidad":estudiantes.length, "trabajaron":estudtrabtpovid, "maximo":maxtpovid, "minimo":mintpovid, "promedio":tpo_videos/estudiantes.length, "cantclase":cantidad_clase, "est_vid_out":clase[i]["estudiantes_out_vid"], "establecimiento": ee};
      serievid[i]={"name":nombre, "id":nombre, "data":videst, "tooltip":{"pointFormat": 'Tiempo de videos: <b>{point.y:,.2f}</b>'}};

      arraycant[i]={"name":nombre, "y": cantidad, "drilldown":nombre, "cantidad":estudiantes.length, "trabajaron":estudtrabcantejer, "maximo":maxtotejer, "minimo":mintotejer, "promedio":cantidad/estudiantes.length, "cantclase":cantidad_clase, "est_out": clase[i]["estudiantes_out"], "establecimiento": ee}
      serie[i]={"name":nombre, "id":nombre, "data":datosest, "tooltip":{"pointFormat": 'Cantidad de ejercicios: <b>{point.y:,.0f} ejercicios</b>'}};

      arraycantidad[i]=cantidad;
      arraytpoejercicios[i]=tpo_ejercicios;
      arraytpovideos[i]=tpo_videos;
      arraynombres[i]=nombre;

      var arrayskill;
      //var misiones = clase[i]["misiones"];
      //var pointarrayte = 'Tiempo de ejercicios: <b>{point.y:,.0f} segundos</b><br> Cantidad de estudiantes: <b>{point.cantidad}</b><br> Estudiantes que trabajaron: <b>{point.trabajaron}</b> <br>Máximo: <b>{point.maximo:,.0f} segundos</b><br> Mínimo: <b>{point.minimo:,.0f} segundos</b><br> Promedio: <b>{point.promedio:,.1f} segundos</b> <br>Cantidad de clases: <b>{point.cantclase} clases</b> <br>Tiempo promedio esperado: <b>{point.tpo_esperado:,.0f} segundos</b>';

      /*if (clase[i]["estudiantes_out_vid"]==0){
        var pointarraytv = 'Tiempo de videos: <b>{point.y:,.0f} segundos</b><br> Cantidad de estudiantes: <b>{point.cantidad}</b><br> Estudiantes que trabajaron: <b>{point.trabajaron}</b> <br>Máximo: <b>{point.maximo:,.0f} segundos</b><br> Mínimo: <b>{point.minimo:,.0f} segundos</b><br> Promedio: <b>{point.promedio:,.1f} segundos</b> <br>Cantidad de clases: <b>{point.cantclase} clases</b>';
      }
      else{
        var pointarraytv = 'Tiempo de videos: <b>{point.y:,.0f} segundos</b><br> Cantidad de estudiantes: <b>{point.cantidad}</b><br> Estudiantes que trabajaron: <b>{point.trabajaron}</b> <br>Máximo: <b>{point.maximo:,.0f} segundos</b><br> Mínimo: <b>{point.minimo:,.0f} segundos</b><br> Promedio: <b>{point.promedio:,.1f} segundos</b> <br>Cantidad de clases: <b>{point.cantclase} clases</b> <br>Estudiantes fuera de horario de clase: <b>{point.est_vid_out}</b>';
      }*/
      
      if (clase[i]["estudiantes_out"]==0){
        var pointarraycant = 'Cantidad de ejercicios: <b>{point.y} ejercicios</b><br> Cantidad de estudiantes: <b>{point.cantidad}</b><br> Estudiantes que trabajaron: <b>{point.trabajaron}</b> <br>Máximo: <b>{point.maximo} ejercicios</b><br> Mínimo: <b>{point.minimo} ejercicios</b><br> Promedio: <b>{point.promedio:,.1f} ejercicios</b> <br>Cantidad de clases: <b>{point.cantclase} clases</b>';
      }
      else{
        var pointarraycant = 'Cantidad de ejercicios: <b>{point.y} ejercicios</b><br> Cantidad de estudiantes: <b>{point.cantidad}</b><br> Estudiantes que trabajaron: <b>{point.trabajaron}</b> <br>Máximo: <b>{point.maximo} ejercicios</b><br> Mínimo: <b>{point.minimo} ejercicios</b><br> Promedio: <b>{point.promedio:,.1f} ejercicios</b> <br>Cantidad de clases: <b>{point.cantclase} clases</b> <br>Estudiantes fuera de horario de clase: <b>{point.est_out}</b>';
      }
      /*
      for (var k=0;k<misiones.length;k++){
        arrayskill = false;
        var habilidades=misiones[k]["habilidades"]
        for (var l=0;l<habilidades.length;l++){
          var maestria1=habilidades[l]["nivel"]["mastery1"];
          var maestria2=habilidades[l]["nivel"]["mastery2"];
          var dominado=habilidades[l]["nivel"]["mastery3"];
          var practicado=habilidades[l]["nivel"]["practiced"];
          var noempezado=habilidades[l]["nivel"]["unstarted"];
          var enproblemas=habilidades[l]["nivel"]["struggling"];
          if (maestria1>0 || maestria2>0 || dominado>0 || practicado>0 || noempezado>0 || enproblemas>0){
            arrayskill=true;
          }
        }
        if (arrayskill===false){
          delete misiones[k];
        }
      }

      var valormision=0;
      var arreglocurso=[];
      for (var m=0;m<misiones.length;m++){
        try{
          var largo=misiones[m]["habilidades"].length
          //datos[0][n]=largo;
          //datos[1][n]=curso;
          //console.log(misiones[m]["mision"])
          if (mission.indexOf(misiones[m]["mision"])===-1){
            mission.push(misiones[m]["mision"])
          }
          //datos[2][n]=misiones[m]["mision"];
          //n++;
          var datap=[];
          for (var p=0;p<largo;p++){
            var id = misiones[m]["habilidades"][p]["id"]
            var M3 = misiones[m]["habilidades"][p]["nivel"]["mastery3"]
            var M2 = misiones[m]["habilidades"][p]["nivel"]["mastery2"]
            var M1 = misiones[m]["habilidades"][p]["nivel"]["mastery1"]
            var PR = misiones[m]["habilidades"][p]["nivel"]["practiced"]
            var UN = misiones[m]["habilidades"][p]["nivel"]["unstarted"]
            var ST = misiones[m]["habilidades"][p]["nivel"]["struggling"]
            var nombre = misiones[m]["habilidades"][p]["nombre_skill"]
            //console.log(nombre)
            datap[p]={"id":id, "A":parseInt(M3*100/estudiantes.length), "B":parseInt(M2*100/estudiantes.length), "C":parseInt(M1*100/estudiantes.length), "D":parseInt(PR*100/estudiantes.length), "E":parseInt(UN*100/estudiantes.length), "F":parseInt(ST*100/estudiantes.length), "G":100-parseInt(M1*100/estudiantes.length)-parseInt(M2*100/estudiantes.length)-parseInt(M3*100/estudiantes.length)-parseInt(PR*100/estudiantes.length)-parseInt(UN*100/estudiantes.length)-parseInt(ST*100/estudiantes.length), "mision":misiones[m]["mision"], "curso":clase[i]["nombre"], "establecimiento":clase[i]["establecimiento"],"nombre":nombre};
            //n++;
          }
          arreglocurso[valormision]=datap;

          valormision++;
        }
        catch(e){
          continue;
        }
      }
      arregloclase[i]=arreglocurso;*/
    }
    arraycontainertodo[0]={'name': 'Cantidad de Ejercicios', 'data': arraycantidad, 'type':'column', 'yAxis': 1};
    arraycontainertodo[1]={'name': 'Tiempo de Ejercicios', 'data': arraytpoejercicios, 'type':'spline', 'color':'#AA4643', 'yAxis':2, 'marker':{'enabled':true}, 'lineWidth': 0};
    arraycontainertodo[2]={'name': 'Tiempo de Videos', 'data': arraytpovideos, 'type':'spline', 'color':'#89A54E', 'marker':{'enabled':true}, 'lineWidth':0};

    var arraypromedio= new Array(12).fill(0);
    for (var i = 0; i < arraylsmb.length; i++) {
      var average=(arraylsmb[i]+arrayea[i]+arraycei[i]+arraylav[i]+arrayrap[i]+arraygm[i]+arraybakhan[i])/estudiantesniveles[i];
      arraylsmbprom[i]=Math.round(arraylsmb[i]/estudiantesniveles[i]*100)/100;
      arrayeaprom[i]=Math.round(arrayea[i]/estudiantesniveles[i]*100)/100;
      arrayceiprom[i]=Math.round(arraycei[i]/estudiantesniveles[i]*100)/100;
      arraylavprom[i]=Math.round(arraylav[i]/estudiantesniveles[i]*100)/100;
      arrayrapprom[i]=Math.round(arrayrap[i]/estudiantesniveles[i]*100)/100;
      arraygmprom[i]=Math.round(arraygm[i]/estudiantesniveles[i]*100)/100;
      arraybakhanprom[i]=Math.round(arraybakhan[i]/estudiantesniveles[i]*100)/100;

      arraylsmbejerprom[i]=Math.round(arraylsmbejer[i]/estudiantesniveles[i]*100)/100;
      arrayeaejerprom[i]=Math.round(arrayeaejer[i]/estudiantesniveles[i]*100)/100;
      arrayceiejerprom[i]=Math.round(arrayceiejer[i]/estudiantesniveles[i]*100)/100;
      arraylavejerprom[i]=Math.round(arraylavejer[i]/estudiantesniveles[i]*100)/100;
      arrayrapejerprom[i]=Math.round(arrayrapejer[i]/estudiantesniveles[i]*100)/100;
      arraygmejerprom[i]=Math.round(arraygmejer[i]/estudiantesniveles[i]*100)/100;
      arraybakhanejerprom[i]=Math.round(arraybakhanejer[i]/estudiantesniveles[i]*100)/100;

      arraylsmbvidprom[i]=Math.round(arraylsmbvid[i]/estudiantesniveles[i]*100)/100;
      arrayeavidprom[i]=Math.round(arrayeavid[i]/estudiantesniveles[i]*100)/100;
      arrayceividprom[i]=Math.round(arrayceivid[i]/estudiantesniveles[i]*100)/100;
      arraylavvidprom[i]=Math.round(arraylavvid[i]/estudiantesniveles[i]*100)/100;
      arrayrapvidprom[i]=Math.round(arrayrapvid[i]/estudiantesniveles[i]*100)/100;
      arraygmvidprom[i]=Math.round(arraygmvid[i]/estudiantesniveles[i]*100)/100;
      arraybakhanvidprom[i]=Math.round(arraybakhanvid[i]/estudiantesniveles[i]*100)/100;

      if (isNaN(arraylsmbprom[i])){
        arraylsmbprom[i]=0;
      }
      if (isNaN(arrayeaprom[i])){
        arrayeaprom[i]=0;
      }
      if (isNaN(arrayceiprom[i])){
        arrayceiprom[i]=0;
      }
      if (isNaN(arraylavprom[i])){
        arraylavprom[i]=0;
      }
      if (isNaN(arrayrapprom[i])){
        arrayrapprom[i]=0;
      }
      if (isNaN(arraygmprom[i])){
        arraygmprom[i]=0;
      }
      if (isNaN(arraybakhanprom[i])){
        arraybakhanprom[i]=0;
      }

      if (isNaN(arraylsmbejerprom[i])){
        arraylsmbejerprom[i]=0;
      }
      if (isNaN(arrayeaejerprom[i])){
        arrayeaejerprom[i]=0;
      }
      if (isNaN(arrayceiejerprom[i])){
        arrayceiejerprom[i]=0;
      }
      if (isNaN(arraylavejerprom[i])){
        arraylavejerprom[i]=0;
      }
      if (isNaN(arrayrapejerprom[i])){
        arrayrapejerprom[i]=0;
      }
      if (isNaN(arraygmejerprom[i])){
        arraygmejerprom[i]=0;
      }
      if (isNaN(arraybakhanejerprom[i])){
        arraybakhanejerprom[i]=0;
      }

      if (isNaN(arraylsmbvidprom[i])){
        arraylsmbvidprom[i]=0;
      }
      if (isNaN(arrayeavidprom[i])){
        arrayeavidprom[i]=0;
      }
      if (isNaN(arrayceividprom[i])){
        arrayceividprom[i]=0;
      }
      if (isNaN(arraylavvidprom[i])){
        arraylavvidprom[i]=0;
      }
      if (isNaN(arrayrapvidprom[i])){
        arrayrapvidprom[i]=0;
      }
      if (isNaN(arraygmvidprom[i])){
        arraygmvidprom[i]=0;
      }
      if (isNaN(arraybakhanvidprom[i])){
        arraybakhanvidprom[i]=0;
      }

      if (isNaN(average)){
        arraypromedio[i]=0;
      }
      else{
        arraypromedio[i]=Math.round(average*100)/100;
      }
    }
    var categoriasdxn = ['1ro basico','2do basico','3ro basico','4to basico','5to basico','6to basico','7mo basico','8vo basico','1ro medio','2do medio','3ro medio','4to medio'];
    var realarraylsmb=[];
    var realarrayea=[];
    var realarraycei=[];
    var realarraylav=[];
    var realarrayrap=[];
    var realarraygm=[];
    var realarraybakhan=[];
    var realarraylsmbprom=[];
    var realarrayeaprom=[];
    var realarrayceiprom=[];
    var realarraylavprom=[];
    var realarrayrapprom=[];
    var realarraygmprom=[];
    var realarraybakhanprom=[];
    var categoriasrealdxn=[];
    var realarraypromedio=[];
    var realarraypromedioejer=[];
    var realarraypromediovid=[];
    var realestudiantesxnivel=[];

    var realarraylsmbejer=[];
    var realarrayeaejer=[];
    var realarrayceiejer=[];
    var realarraylavejer=[];
    var realarrayrapejer=[];
    var realarraygmejer=[];
    var realarraybakhanejer=[];
    var realarraylsmbejerprom=[];
    var realarrayeaejerprom=[];
    var realarrayceiejerprom=[];
    var realarraylavejerprom=[];
    var realarrayrapejerprom=[];
    var realarraygmejerprom=[];
    var realarraybakhanejerprom=[];

    var realarraylsmbvid=[];
    var realarrayeavid=[];
    var realarrayceivid=[];
    var realarraylavvid=[];
    var realarrayrapvid=[];
    var realarraygmvid=[];
    var realarraybakhanvid=[];
    var realarraylsmbvidprom=[];
    var realarrayeavidprom=[];
    var realarrayceividprom=[];
    var realarraylavvidprom=[];
    var realarrayrapvidprom=[];
    var realarraygmvidprom=[];
    var realarraybakhanvidprom=[];

    var arraypromedioejer = new Array(12).fill(0);
    for (var i = 0; i < arraylsmbejer.length; i++) {
      var average=(arraylsmbejer[i]+arrayeaejer[i]+arrayceiejer[i]+arraylavejer[i]+arrayrapejer[i]+arraygmejer[i]+arraybakhanejer[i])/estudiantesniveles[i];
      if (isNaN(average)){
        arraypromedioejer[i]=0;
      }
      else{
        arraypromedioejer[i]=Math.round(average*100)/100;
      }
    }

    var arraypromediovid = new Array(12).fill(0);
    for (var i = 0; i < arraylsmbvid.length; i++) {
      var average=(arraylsmbvid[i]+arrayeavid[i]+arrayceivid[i]+arraylavvid[i]+arrayrapvid[i]+arraygmvid[i]+arraybakhanvid[i])/estudiantesniveles[i];
      if (isNaN(average)){
        arraypromediovid[i]=0;
      }
      else{
        arraypromediovid[i]=Math.round(average*100)/100;
      }
    }

    var count = 0;
    for (var i = 0; i < estudiantesniveles.length; i++) {
      if(estudiantesniveles[i]!=0){
        realarraylsmb[count]=arraylsmb[i];
        realarrayea[count]=arrayea[i];
        realarraycei[count]=arraycei[i];
        realarraylav[count]=arraylav[i];
        realarrayrap[count]=arrayrap[i];
        realarraygm[count]=arraygm[i];
        realarraybakhan[count]=arraybakhan[i];
        realarraylsmbprom[count]=arraylsmbprom[i];
        realarrayeaprom[count]=arrayeaprom[i];
        realarrayceiprom[count]=arrayceiprom[i];
        realarraylavprom[count]=arraylavprom[i];
        realarrayrapprom[count]=arrayrapprom[i];
        realarraygmprom[count]=arraygmprom[i];
        realarraybakhanprom[count]=arraybakhanprom[i];

        realarraylsmbejer[count]=arraylsmbejer[i];
        realarrayeaejer[count]=arrayeaejer[i];
        realarrayceiejer[count]=arrayceiejer[i];
        realarraylavejer[count]=arraylavejer[i];
        realarrayrapejer[count]=arrayrapejer[i];
        realarraygmejer[count]=arraygmejer[i];
        realarraybakhanejer[count]=arraybakhanejer[i];
        realarraylsmbejerprom[count]=arraylsmbejerprom[i];
        realarrayeaejerprom[count]=arrayeaejerprom[i];
        realarrayceiejerprom[count]=arrayceiejerprom[i];
        realarraylavejerprom[count]=arraylavejerprom[i];
        realarrayrapejerprom[count]=arrayrapejerprom[i];
        realarraygmejerprom[count]=arraygmejerprom[i];
        realarraybakhanejerprom[count]=arraybakhanejerprom[i];

        realarraylsmbvid[count]=arraylsmbvid[i];
        realarrayeavid[count]=arrayeavid[i];
        realarrayceivid[count]=arrayceivid[i];
        realarraylavvid[count]=arraylavvid[i];
        realarrayrapvid[count]=arrayrapvid[i];
        realarraygmvid[count]=arraygmvid[i];
        realarraybakhanvid[count]=arraybakhanvid[i];
        realarraylsmbvidprom[count]=arraylsmbvidprom[i];
        realarrayeavidprom[count]=arrayeavidprom[i];
        realarrayceividprom[count]=arrayceividprom[i];
        realarraylavvidprom[count]=arraylavvidprom[i];
        realarrayrapvidprom[count]=arrayrapvidprom[i];
        realarraygmvidprom[count]=arraygmvidprom[i];
        realarraybakhanvidprom[count]=arraybakhanvidprom[i];

        categoriasrealdxn[count]=categoriasdxn[i];
        realarraypromedio[count]=arraypromedio[i];
        realarraypromedioejer[count]=arraypromedioejer[i];
        realarraypromediovid[count]=arraypromediovid[i];
        realestudiantesxnivel[count]=estudiantesniveles[i];
        count++;
      }
    }

    distxnivel[0]={'name':'LSMB', 'data':realarraylsmb, 'type':'column', 'yAxis':1};
    distxnivel[1]={'name':'E.A.', 'data':realarrayea, 'type':'column', 'yAxis':1};
    distxnivel[2]={'name':'C.E.I.', 'data':realarraycei, 'type':'column', 'yAxis':1};
    distxnivel[3]={'name':'L.A.V.', 'data':realarraylav, 'type':'column', 'yAxis':1};
    distxnivel[4]={'name':'R.A.P.', 'data':realarrayrap, 'type':'column', 'yAxis':1};
    distxnivel[5]={'name':'L.G.M.', 'data':realarraygm, 'type':'column', 'yAxis':1};
    distxnivel[6]={'name':'Ba-Khan', 'data':realarraybakhan, 'type':'column', 'yAxis':1};
    distxnivel[7]={'name':'Promedio Ejercicios', 'data':realarraypromedio, 'type':'spline', 'color':'#AA4643', 'yAxis':2, 'marker':{'enabled':true}, 'lineWidth': 0};
    distxnivel[8]={'name':'Cantidad de Estudiantes', 'data':realestudiantesxnivel, 'type':'spline', 'color':'#89A54E', 'marker':{'enabled':true}, 'lineWidth': 0};

    var contador=0;
    for (var i = 0; i < distxnivel.length; i++) {
      var verificador = true;
      for (var j = 0; j < distxnivel[i]['data'].length; j++) {
        if(distxnivel[i]['data'][j]!=0){
          verificador=false;
        }
      };
      if (verificador==true){
        elementremove[contador]=i;
        contador++;
      }
    };
    for (var i = 0; i < elementremove.length; i++) {
      distxnivel.splice(elementremove[i]-i,1);
    };

    distxnivelprom[0]={'name':'LSMB', 'data':realarraylsmbprom, 'type':'column', 'yAxis':1};
    distxnivelprom[1]={'name':'E.A.', 'data':realarrayeaprom, 'type':'column', 'yAxis':1};
    distxnivelprom[2]={'name':'C.E.I.', 'data':realarrayceiprom, 'type':'column', 'yAxis':1};
    distxnivelprom[3]={'name':'L.A.V.', 'data':realarraylavprom, 'type':'column', 'yAxis':1};
    distxnivelprom[4]={'name':'R.A.P.', 'data':realarrayrapprom, 'type':'column', 'yAxis':1};
    distxnivelprom[5]={'name':'L.G.M.', 'data':realarraygmprom, 'type':'column', 'yAxis':1};
    distxnivelprom[6]={'name':'Ba-Khan', 'data':realarraybakhanprom, 'type':'column', 'yAxis':1};
    distxnivelprom[7]={'name':'Promedio Ejercicios', 'data':realarraypromedio, 'type':'spline', 'color':'#AA4643', 'yAxis':2, 'marker':{'enabled':true}, 'lineWidth': 0};
    distxnivelprom[8]={'name':'Cantidad de Estudiantes', 'data':realestudiantesxnivel, 'type':'spline', 'color':'#89A54E', 'marker':{'enabled':true}, 'lineWidth': 0};

    var contadorprom=0;
    for (var i = 0; i < distxnivelprom.length; i++) {
      var verificador = true;
      for (var j = 0; j < distxnivelprom[i]['data'].length; j++) {
        if(distxnivelprom[i]['data'][j]!=0){
          verificador=false;
        }
      };
      if (verificador==true){
        elementremoveprom[contadorprom]=i;
        contadorprom++;
      }
    };
    for (var i = 0; i < elementremoveprom.length; i++) {
      distxnivelprom.splice(elementremoveprom[i]-i,1);
    };


    var arraypromedioinst= new Array(6).fill(0);
    for (var i = 0; i < array1basico.length; i++) {
      var average=(array1basico[i]+array2basico[i]+array3basico[i]+array4basico[i]+array5basico[i]+array6basico[i]+array7basico[i]+array8basico[i]+array1medio[i]+array2medio[i]+array3medio[i]+array4medio[i])/estudiantesnivelesinst[i];
      array1basicoprom[i] = Math.round(array1basico[i]/estudiantesniveles[0]*100)/100;
      array2basicoprom[i] = Math.round(array2basico[i]/estudiantesniveles[1]*100)/100;
      array3basicoprom[i] = Math.round(array3basico[i]/estudiantesniveles[2]*100)/100;
      array4basicoprom[i] = Math.round(array4basico[i]/estudiantesniveles[3]*100)/100;
      array5basicoprom[i] = Math.round(array5basico[i]/estudiantesniveles[4]*100)/100;
      array6basicoprom[i] = Math.round(array6basico[i]/estudiantesniveles[5]*100)/100;
      array7basicoprom[i] = Math.round(array7basico[i]/estudiantesniveles[6]*100)/100;
      array8basicoprom[i] = Math.round(array8basico[i]/estudiantesniveles[7]*100)/100;
      array1medioprom[i] = Math.round(array1medio[i]/estudiantesniveles[8]*100)/100;
      array2medioprom[i] = Math.round(array2medio[i]/estudiantesniveles[9]*100)/100;
      array3medioprom[i] = Math.round(array3medio[i]/estudiantesniveles[10]*100)/100;
      array4medioprom[i] = Math.round(array4medio[i]/estudiantesniveles[11]*100)/100;

      array1basicoejerprom[i] = Math.round(array1basicoejer[i]/estudiantesniveles[0]*100)/100;
      array2basicoejerprom[i] = Math.round(array2basicoejer[i]/estudiantesniveles[1]*100)/100;
      array3basicoejerprom[i] = Math.round(array3basicoejer[i]/estudiantesniveles[2]*100)/100;
      array4basicoejerprom[i] = Math.round(array4basicoejer[i]/estudiantesniveles[3]*100)/100;
      array5basicoejerprom[i] = Math.round(array5basicoejer[i]/estudiantesniveles[4]*100)/100;
      array6basicoejerprom[i] = Math.round(array6basicoejer[i]/estudiantesniveles[5]*100)/100;
      array7basicoejerprom[i] = Math.round(array7basicoejer[i]/estudiantesniveles[6]*100)/100;
      array8basicoejerprom[i] = Math.round(array8basicoejer[i]/estudiantesniveles[7]*100)/100;
      array1medioejerprom[i] = Math.round(array1medioejer[i]/estudiantesniveles[8]*100)/100;
      array2medioejerprom[i] = Math.round(array2medioejer[i]/estudiantesniveles[9]*100)/100;
      array3medioejerprom[i] = Math.round(array3medioejer[i]/estudiantesniveles[10]*100)/100;
      array4medioejerprom[i] = Math.round(array4medioejer[i]/estudiantesniveles[11]*100)/100;

      array1basicovidprom[i] = Math.round(array1basicovid[i]/estudiantesniveles[0]*100)/100;
      array2basicovidprom[i] = Math.round(array2basicovid[i]/estudiantesniveles[1]*100)/100;
      array3basicovidprom[i] = Math.round(array3basicovid[i]/estudiantesniveles[2]*100)/100;
      array4basicovidprom[i] = Math.round(array4basicovid[i]/estudiantesniveles[3]*100)/100;
      array5basicovidprom[i] = Math.round(array5basicovid[i]/estudiantesniveles[4]*100)/100;
      array6basicovidprom[i] = Math.round(array6basicovid[i]/estudiantesniveles[5]*100)/100;
      array7basicovidprom[i] = Math.round(array7basicovid[i]/estudiantesniveles[6]*100)/100;
      array8basicovidprom[i] = Math.round(array8basicovid[i]/estudiantesniveles[7]*100)/100;
      array1mediovidprom[i] = Math.round(array1mediovid[i]/estudiantesniveles[8]*100)/100;
      array2mediovidprom[i] = Math.round(array2mediovid[i]/estudiantesniveles[9]*100)/100;
      array3mediovidprom[i] = Math.round(array3mediovid[i]/estudiantesniveles[10]*100)/100;
      array4mediovidprom[i] = Math.round(array4mediovid[i]/estudiantesniveles[11]*100)/100;

      //console.log(estudiantesnivelesinst);
      if (isNaN(array1basicoprom[i])){
        array1basicoprom[i]=0;
      }
      if (isNaN(array2basicoprom[i])){
        array2basicoprom[i]=0;
      }
      if (isNaN(array3basicoprom[i])){
        array3basicoprom[i]=0;
      }
      if (isNaN(array4basicoprom[i])){
        array4basicoprom[i]=0;
      }
      if (isNaN(array5basicoprom[i])){
        array5basicoprom[i]=0;
      }
      if (isNaN(array6basicoprom[i])){
        array6basicoprom[i]=0;
      }
      if (isNaN(array7basicoprom[i])){
        array7basicoprom[i]=0;
      }
      if (isNaN(array8basicoprom[i])){
        array8basicoprom[i]=0;
      }
      if (isNaN(array1medioprom[i])){
        array1medioprom[i]=0;
      }
      if (isNaN(array2medioprom[i])){
        array2medioprom[i]=0;
      }
      if (isNaN(array3medioprom[i])){
        array3medioprom[i]=0;
      }
      if (isNaN(array4medioprom[i])){
        array4medioprom[i]=0;
      }

      if (isNaN(array1basicoejerprom[i])){
        array1basicoejerprom[i]=0;
      }
      if (isNaN(array2basicoejerprom[i])){
        array2basicoejerprom[i]=0;
      }
      if (isNaN(array3basicoejerprom[i])){
        array3basicoejerprom[i]=0;
      }
      if (isNaN(array4basicoejerprom[i])){
        array4basicoejerprom[i]=0;
      }
      if (isNaN(array5basicoejerprom[i])){
        array5basicoejerprom[i]=0;
      }
      if (isNaN(array6basicoejerprom[i])){
        array6basicoejerprom[i]=0;
      }
      if (isNaN(array7basicoejerprom[i])){
        array7basicoejerprom[i]=0;
      }
      if (isNaN(array8basicoejerprom[i])){
        array8basicoejerprom[i]=0;
      }
      if (isNaN(array1medioejerprom[i])){
        array1medioejerprom[i]=0;
      }
      if (isNaN(array2medioejerprom[i])){
        array2medioejerprom[i]=0;
      }
      if (isNaN(array3medioejerprom[i])){
        array3medioejerprom[i]=0;
      }
      if (isNaN(array4medioejerprom[i])){
        array4medioejerprom[i]=0;
      }

      if (isNaN(array1basicovidprom[i])){
        array1basicovidprom[i]=0;
      }
      if (isNaN(array2basicovidprom[i])){
        array2basicovidprom[i]=0;
      }
      if (isNaN(array3basicovidprom[i])){
        array3basicovidprom[i]=0;
      }
      if (isNaN(array4basicovidprom[i])){
        array4basicovidprom[i]=0;
      }
      if (isNaN(array5basicovidprom[i])){
        array5basicovidprom[i]=0;
      }
      if (isNaN(array6basicovidprom[i])){
        array6basicovidprom[i]=0;
      }
      if (isNaN(array7basicovidprom[i])){
        array7basicovidprom[i]=0;
      }
      if (isNaN(array8basicovidprom[i])){
        array8basicovidprom[i]=0;
      }
      if (isNaN(array1mediovidprom[i])){
        array1mediovidprom[i]=0;
      }
      if (isNaN(array2mediovidprom[i])){
        array2mediovidprom[i]=0;
      }
      if (isNaN(array3mediovidprom[i])){
        array3mediovidprom[i]=0;
      }
      if (isNaN(array4mediovidprom[i])){
        array4mediovidprom[i]=0;
      }

      if (isNaN(average)){
        arraypromedioinst[i]=0;
      }
      else{
        arraypromedioinst[i]=Math.round(average*100)/100;
      }
    }
    //console.log(array1medioprom);
    //console.log(array2medioprom);

    var categoriasdxi = ['LSMB', 'E.A.', 'C.E.I.', 'L.A.V.', 'R.A.P.', 'L.G.M.', 'Ba-Khan'];
    var realarray1basico=[];
    var realarray2basico=[];
    var realarray3basico=[];
    var realarray4basico=[];
    var realarray5basico=[];
    var realarray6basico=[];
    var realarray7basico=[];
    var realarray8basico=[];
    var realarray1medio=[];
    var realarray2medio=[];
    var realarray3medio=[];
    var realarray4medio=[];
    var realarray1basicoprom=[];
    var realarray2basicoprom=[];
    var realarray3basicoprom=[];
    var realarray4basicoprom=[];
    var realarray5basicoprom=[];
    var realarray6basicoprom=[];
    var realarray7basicoprom=[];
    var realarray8basicoprom=[];
    var realarray1medioprom=[];
    var realarray2medioprom=[];
    var realarray3medioprom=[];
    var realarray4medioprom=[];

    var realarray1basicoejer=[];
    var realarray2basicoejer=[];
    var realarray3basicoejer=[];
    var realarray4basicoejer=[];
    var realarray5basicoejer=[];
    var realarray6basicoejer=[];
    var realarray7basicoejer=[];
    var realarray8basicoejer=[];
    var realarray1medioejer=[];
    var realarray2medioejer=[];
    var realarray3medioejer=[];
    var realarray4medioejer=[];
    var realarray1basicoejerprom=[];
    var realarray2basicoejerprom=[];
    var realarray3basicoejerprom=[];
    var realarray4basicoejerprom=[];
    var realarray5basicoejerprom=[];
    var realarray6basicoejerprom=[];
    var realarray7basicoejerprom=[];
    var realarray8basicoejerprom=[];
    var realarray1medioejerprom=[];
    var realarray2medioejerprom=[];
    var realarray3medioejerprom=[];
    var realarray4medioejerprom=[];

    var realarray1basicovid=[];
    var realarray2basicovid=[];
    var realarray3basicovid=[];
    var realarray4basicovid=[];
    var realarray5basicovid=[];
    var realarray6basicovid=[];
    var realarray7basicovid=[];
    var realarray8basicovid=[];
    var realarray1mediovid=[];
    var realarray2mediovid=[];
    var realarray3mediovid=[];
    var realarray4mediovid=[];
    var realarray1basicovidprom=[];
    var realarray2basicovidprom=[];
    var realarray3basicovidprom=[];
    var realarray4basicovidprom=[];
    var realarray5basicovidprom=[];
    var realarray6basicovidprom=[];
    var realarray7basicovidprom=[];
    var realarray8basicovidprom=[];
    var realarray1mediovidprom=[];
    var realarray2mediovidprom=[];
    var realarray3mediovidprom=[];
    var realarray4mediovidprom=[];

    var realarraypromedioinst=[];
    var realarraypromedioejerinst=[];
    var realarraypromediovidinst=[];
    var realestudiantesxnivelinst=[];
    var categoriasdxireal=[];
    var countinst = 0;

    var arraypromedioejerinst= new Array(6).fill(0);
    for (var i = 0; i < array1basicoejer.length; i++) {
      var average=(array1basicoejer[i]+array2basicoejer[i]+array3basicoejer[i]+array4basicoejer[i]+array5basicoejer[i]+array6basicoejer[i]+array7basicoejer[i]+array8basicoejer[i]+array1medioejer[i]+array2medioejer[i]+array3medioejer[i]+array4medioejer[i])/estudiantesnivelesinst[i];
      if (isNaN(average)){
        arraypromedioejerinst[i]=0;
      }
      else{
        arraypromedioejerinst[i]=Math.round(average*100)/100;
      }
    }

    var arraypromediovidinst= new Array(6).fill(0);
    for (var i = 0; i < array1basicoejer.length; i++) {
      var average=(array1basicovid[i]+array2basicovid[i]+array3basicovid[i]+array4basicovid[i]+array5basicovid[i]+array6basicovid[i]+array7basicovid[i]+array8basicovid[i]+array1mediovid[i]+array2mediovid[i]+array3mediovid[i]+array4mediovid[i])/estudiantesnivelesinst[i];
      if (isNaN(average)){
        arraypromediovidinst[i]=0;
      }
      else{
        arraypromediovidinst[i]=Math.round(average*100)/100;
      }
    }

    for (var i = 0; i < estudiantesnivelesinst.length; i++) {
      if(estudiantesnivelesinst[i]!=0){
        realarray1basico[countinst]=array1basico[i];
        realarray2basico[countinst]=array2basico[i];
        realarray3basico[countinst]=array3basico[i];
        realarray4basico[countinst]=array4basico[i];
        realarray5basico[countinst]=array5basico[i];
        realarray6basico[countinst]=array6basico[i];
        realarray7basico[countinst]=array7basico[i];
        realarray8basico[countinst]=array8basico[i];
        realarray1medio[countinst]=array1medio[i];
        realarray2medio[countinst]=array2medio[i];
        realarray3medio[countinst]=array3medio[i];
        realarray4medio[countinst]=array4medio[i];
        realarray1basicoprom[countinst]=array1basicoprom[i];
        realarray2basicoprom[countinst]=array2basicoprom[i];
        realarray3basicoprom[countinst]=array3basicoprom[i];
        realarray4basicoprom[countinst]=array4basicoprom[i];
        realarray5basicoprom[countinst]=array5basicoprom[i];
        realarray6basicoprom[countinst]=array6basicoprom[i];
        realarray7basicoprom[countinst]=array7basicoprom[i];
        realarray8basicoprom[countinst]=array8basicoprom[i];
        realarray1medioprom[countinst]=array1medioprom[i];
        realarray2medioprom[countinst]=array2medioprom[i];
        realarray3medioprom[countinst]=array3medioprom[i];
        realarray4medioprom[countinst]=array4medioprom[i];

        realarray1basicoejer[countinst]=array1basicoejer[i];
        realarray2basicoejer[countinst]=array2basicoejer[i];
        realarray3basicoejer[countinst]=array3basicoejer[i];
        realarray4basicoejer[countinst]=array4basicoejer[i];
        realarray5basicoejer[countinst]=array5basicoejer[i];
        realarray6basicoejer[countinst]=array6basicoejer[i];
        realarray7basicoejer[countinst]=array7basicoejer[i];
        realarray8basicoejer[countinst]=array8basicoejer[i];
        realarray1medioejer[countinst]=array1medioejer[i];
        realarray2medioejer[countinst]=array2medioejer[i];
        realarray3medioejer[countinst]=array3medioejer[i];
        realarray4medioejer[countinst]=array4medioejer[i];
        realarray1basicoejerprom[countinst]=array1basicoejerprom[i];
        realarray2basicoejerprom[countinst]=array2basicoejerprom[i];
        realarray3basicoejerprom[countinst]=array3basicoejerprom[i];
        realarray4basicoejerprom[countinst]=array4basicoejerprom[i];
        realarray5basicoejerprom[countinst]=array5basicoejerprom[i];
        realarray6basicoejerprom[countinst]=array6basicoejerprom[i];
        realarray7basicoejerprom[countinst]=array7basicoejerprom[i];
        realarray8basicoejerprom[countinst]=array8basicoejerprom[i];
        realarray1medioejerprom[countinst]=array1medioejerprom[i];
        realarray2medioejerprom[countinst]=array2medioejerprom[i];
        realarray3medioejerprom[countinst]=array3medioejerprom[i];
        realarray4medioejerprom[countinst]=array4medioejerprom[i];

        realarray1basicovid[countinst]=array1basicovid[i];
        realarray2basicovid[countinst]=array2basicovid[i];
        realarray3basicovid[countinst]=array3basicovid[i];
        realarray4basicovid[countinst]=array4basicovid[i];
        realarray5basicovid[countinst]=array5basicovid[i];
        realarray6basicovid[countinst]=array6basicovid[i];
        realarray7basicovid[countinst]=array7basicovid[i];
        realarray8basicovid[countinst]=array8basicovid[i];
        realarray1mediovid[countinst]=array1mediovid[i];
        realarray2mediovid[countinst]=array2mediovid[i];
        realarray3mediovid[countinst]=array3mediovid[i];
        realarray4mediovid[countinst]=array4mediovid[i];
        realarray1basicovidprom[countinst]=array1basicovidprom[i];
        realarray2basicovidprom[countinst]=array2basicovidprom[i];
        realarray3basicovidprom[countinst]=array3basicovidprom[i];
        realarray4basicovidprom[countinst]=array4basicovidprom[i];
        realarray5basicovidprom[countinst]=array5basicovidprom[i];
        realarray6basicovidprom[countinst]=array6basicovidprom[i];
        realarray7basicovidprom[countinst]=array7basicovidprom[i];
        realarray8basicovidprom[countinst]=array8basicovidprom[i];
        realarray1mediovidprom[countinst]=array1mediovidprom[i];
        realarray2mediovidprom[countinst]=array2mediovidprom[i];
        realarray3mediovidprom[countinst]=array3mediovidprom[i];
        realarray4mediovidprom[countinst]=array4mediovidprom[i];

        realarraypromedioinst[countinst]=arraypromedioinst[i];
        realarraypromedioejerinst[countinst]=arraypromedioejerinst[i];
        realarraypromediovidinst[countinst]=arraypromediovidinst[i];

        realestudiantesxnivelinst[countinst]=estudiantesnivelesinst[i];
        categoriasdxireal[countinst]=categoriasdxi[i];
        countinst++;
      }
    }

    distxinst[0]={'name':'1ro basico', 'data':realarray1basico, 'type':'column', 'yAxis':1};
    distxinst[1]={'name':'2do basico', 'data':realarray2basico, 'type':'column', 'yAxis':1};
    distxinst[2]={'name':'3ro basico', 'data':realarray3basico, 'type':'column', 'yAxis':1};
    distxinst[3]={'name':'4to basico', 'data':realarray4basico, 'type':'column', 'yAxis':1};
    distxinst[4]={'name':'5to basico', 'data':realarray5basico, 'type':'column', 'yAxis':1};
    distxinst[5]={'name':'6to basico', 'data':realarray6basico, 'type':'column', 'yAxis':1};
    distxinst[6]={'name':'7mo basico', 'data':realarray7basico, 'type':'column', 'yAxis':1};
    distxinst[7]={'name':'8vo basico', 'data':realarray8basico, 'type':'column', 'yAxis':1};
    distxinst[8]={'name':'1ro medio', 'data':realarray1medio, 'type':'column', 'yAxis':1};
    distxinst[9]={'name':'2do medio', 'data':realarray2medio, 'type':'column', 'yAxis':1};
    distxinst[10]={'name':'3ro medio', 'data':realarray3medio, 'type':'column', 'yAxis':1};
    distxinst[11]={'name':'4to medio', 'data':realarray4medio, 'type':'column', 'yAxis':1};
    distxinst[12]={'name':'Promedio Ejercicios', 'data':realarraypromedioinst, 'type':'spline', 'color':'#AA4643', 'yAxis':2, 'marker':{'enabled':true}, 'lineWidth': 0};
    distxinst[13]={'name':'Cantidad de Estudiantes', 'data':realestudiantesxnivelinst, 'type':'spline', 'color':'#89A54E', 'marker':{'enabled':true}, 'lineWidth': 0};

    var contadorinst=0;
    for (var i = 0; i < distxinst.length; i++) {
      var verificador = true;
      for (var j = 0; j < distxinst[i]['data'].length; j++) {
        if(distxinst[i]['data'][j]!=0){
          verificador=false;
        }
      };
      if (verificador==true){
        elementremoveinst[contadorinst]=i;
        contadorinst++;
      }
    };
    for (var i = 0; i < elementremoveinst.length; i++) {
      distxinst.splice(elementremoveinst[i]-i,1);
    };

    distxinstprom[0]={'name':'1ro basico', 'data':realarray1basicoprom, 'type':'column', 'yAxis':1};
    distxinstprom[1]={'name':'2do basico', 'data':realarray2basicoprom, 'type':'column', 'yAxis':1};
    distxinstprom[2]={'name':'3ro basico', 'data':realarray3basicoprom, 'type':'column', 'yAxis':1};
    distxinstprom[3]={'name':'4to basico', 'data':realarray4basicoprom, 'type':'column', 'yAxis':1};
    distxinstprom[4]={'name':'5to basico', 'data':realarray5basicoprom, 'type':'column', 'yAxis':1};
    distxinstprom[5]={'name':'6to basico', 'data':realarray6basicoprom, 'type':'column', 'yAxis':1};
    distxinstprom[6]={'name':'7mo basico', 'data':realarray7basicoprom, 'type':'column', 'yAxis':1};
    distxinstprom[7]={'name':'8vo basico', 'data':realarray8basicoprom, 'type':'column', 'yAxis':1};
    distxinstprom[8]={'name':'1ro medio', 'data':realarray1medioprom, 'type':'column', 'yAxis':1};
    distxinstprom[9]={'name':'2do medio', 'data':realarray2medioprom, 'type':'column', 'yAxis':1};
    distxinstprom[10]={'name':'3ro medio', 'data':realarray3medioprom, 'type':'column', 'yAxis':1};
    distxinstprom[11]={'name':'4to medio', 'data':realarray4medioprom, 'type':'column', 'yAxis':1};
    distxinstprom[12]={'name':'Promedio Ejercicios', 'data':realarraypromedioinst, 'type':'spline', 'color':'#AA4643', 'yAxis':2, 'marker':{'enabled':true}, 'lineWidth': 0};
    distxinstprom[13]={'name':'Cantidad de Estudiantes', 'data':realestudiantesxnivelinst, 'type':'spline', 'color':'#89A54E', 'marker':{'enabled':true}, 'lineWidth': 0};

    //console.log(distxinstprom);
    var contadorinstprom=0;
    for (var i = 0; i < distxinstprom.length; i++) {
      var verificador = true;
      for (var j = 0; j < distxinstprom[i]['data'].length; j++) {
        if(distxinstprom[i]['data'][j]!=0){
          verificador=false;
        }
      };
      if (verificador==true){
        elementremoveinstprom[contadorinstprom]=i;
        contadorinstprom++;
      }
    };
    for (var i = 0; i < elementremoveinstprom.length; i++) {
      distxinstprom.splice(elementremoveinstprom[i]-i,1);
    };

    distxnivelejer[0]={'name':'LSMB', 'data':realarraylsmbejer, 'type':'column', 'yAxis':1};
    distxnivelejer[1]={'name':'E.A.', 'data':realarrayeaejer, 'type':'column', 'yAxis':1};
    distxnivelejer[2]={'name':'C.E.I.', 'data':realarrayceiejer, 'type':'column', 'yAxis':1};
    distxnivelejer[3]={'name':'L.A.V.', 'data':realarraylavejer, 'type':'column', 'yAxis':1};
    distxnivelejer[4]={'name':'R.A.P.', 'data':realarrayrapejer, 'type':'column', 'yAxis':1};
    distxnivelejer[5]={'name':'L.G.M.', 'data':realarraygmejer, 'type':'column', 'yAxis':1};
    distxnivelejer[6]={'name':'Ba-Khan', 'data':realarraybakhanejer, 'type':'column', 'yAxis':1};
    distxnivelejer[7]={'name':'Promedio Tiempo de Ejercicios', 'data':realarraypromedioejer, 'type':'spline', 'color':'#AA4643', 'yAxis':2, 'marker':{'enabled':true}, 'lineWidth': 0};
    distxnivelejer[8]={'name':'Cantidad de Estudiantes', 'data':realestudiantesxnivel, 'type':'spline', 'color':'#89A54E', 'marker':{'enabled':true}, 'lineWidth': 0};

    var contadorejer=0;
    for (var i = 0; i < distxnivelejer.length; i++) {
      var verificador = true;
      for (var j = 0; j < distxnivelejer[i]['data'].length; j++) {
        if(distxnivelejer[i]['data'][j]!=0){
          verificador=false;
        }
      };
      if (verificador==true){
        elementremoveejer[contadorejer]=i;
        contadorejer++;
      }
    };
    for (var i = 0; i < elementremoveejer.length; i++) {
      distxnivelejer.splice(elementremoveejer[i]-i,1);
    };

    distxnivelejerprom[0]={'name':'LSMB', 'data':realarraylsmbejerprom, 'type':'column', 'yAxis':1};
    distxnivelejerprom[1]={'name':'E.A.', 'data':realarrayeaejerprom, 'type':'column', 'yAxis':1};
    distxnivelejerprom[2]={'name':'C.E.I.', 'data':realarrayceiejerprom, 'type':'column', 'yAxis':1};
    distxnivelejerprom[3]={'name':'L.A.V.', 'data':realarraylavejerprom, 'type':'column', 'yAxis':1};
    distxnivelejerprom[4]={'name':'R.A.P.', 'data':realarrayrapejerprom, 'type':'column', 'yAxis':1};
    distxnivelejerprom[5]={'name':'L.G.M.', 'data':realarraygmejerprom, 'type':'column', 'yAxis':1};
    distxnivelejerprom[6]={'name':'Ba-Khan', 'data':realarraybakhanejerprom, 'type':'column', 'yAxis':1};
    distxnivelejerprom[7]={'name':'Promedio Tiempo de Ejercicios', 'data':realarraypromedioejer, 'type':'spline', 'color':'#AA4643', 'yAxis':2, 'marker':{'enabled':true}, 'lineWidth': 0};
    distxnivelejerprom[8]={'name':'Cantidad de Estudiantes', 'data':realestudiantesxnivel, 'type':'spline', 'color':'#89A54E', 'marker':{'enabled':true}, 'lineWidth': 0};

    var contadorejerprom=0;
    for (var i = 0; i < distxnivelejerprom.length; i++) {
      var verificador = true;
      for (var j = 0; j < distxnivelejerprom[i]['data'].length; j++) {
        if(distxnivelejerprom[i]['data'][j]!=0){
          verificador=false;
        }
      };
      if (verificador==true){
        elementremoveejerprom[contadorejerprom]=i;
        contadorejerprom++;
      }
    };
    for (var i = 0; i < elementremoveejerprom.length; i++) {
      distxnivelejerprom.splice(elementremoveejerprom[i]-i,1);
    };

    

    distxinstejer[0]={'name':'1ro basico', 'data':realarray1basicoejer, 'type':'column', 'yAxis':1};
    distxinstejer[1]={'name':'2do basico', 'data':realarray2basicoejer, 'type':'column', 'yAxis':1};
    distxinstejer[2]={'name':'3ro basico', 'data':realarray3basicoejer, 'type':'column', 'yAxis':1};
    distxinstejer[3]={'name':'4to basico', 'data':realarray4basicoejer, 'type':'column', 'yAxis':1};
    distxinstejer[4]={'name':'5to basico', 'data':realarray5basicoejer, 'type':'column', 'yAxis':1};
    distxinstejer[5]={'name':'6to basico', 'data':realarray6basicoejer, 'type':'column', 'yAxis':1};
    distxinstejer[6]={'name':'7mo basico', 'data':realarray7basicoejer, 'type':'column', 'yAxis':1};
    distxinstejer[7]={'name':'8vo basico', 'data':realarray8basicoejer, 'type':'column', 'yAxis':1};
    distxinstejer[8]={'name':'1ro medio', 'data':realarray1medioejer, 'type':'column', 'yAxis':1};
    distxinstejer[9]={'name':'2do medio', 'data':realarray2medioejer, 'type':'column', 'yAxis':1};
    distxinstejer[10]={'name':'3ro medio', 'data':realarray3medioejer, 'type':'column', 'yAxis':1};
    distxinstejer[11]={'name':'4to medio', 'data':realarray4medioejer, 'type':'column', 'yAxis':1};
    distxinstejer[12]={'name':'Promedio Tiempo de Ejercicios', 'data':realarraypromedioejerinst, 'type':'spline', 'color':'#AA4643', 'yAxis':2, 'marker':{'enabled':true}, 'lineWidth': 0};
    distxinstejer[13]={'name':'Cantidad de Estudiantes', 'data':realestudiantesxnivelinst, 'type':'spline', 'color':'#89A54E', 'marker':{'enabled':true}, 'lineWidth': 0};

    var contadorinstejer=0;
    for (var i = 0; i < distxinstejer.length; i++) {
      var verificador = true;
      for (var j = 0; j < distxinstejer[i]['data'].length; j++) {
        if(distxinstejer[i]['data'][j]!=0){
          verificador=false;
        }
      };
      if (verificador==true){
        elementremoveinstejer[contadorinstejer]=i;
        contadorinstejer++;
      }
    };
    for (var i = 0; i < elementremoveinstejer.length; i++) {
      distxinstejer.splice(elementremoveinstejer[i]-i,1);
    };

    distxinstejerprom[0]={'name':'1ro basico', 'data':realarray1basicoejerprom, 'type':'column', 'yAxis':1};
    distxinstejerprom[1]={'name':'2do basico', 'data':realarray2basicoejerprom, 'type':'column', 'yAxis':1};
    distxinstejerprom[2]={'name':'3ro basico', 'data':realarray3basicoejerprom, 'type':'column', 'yAxis':1};
    distxinstejerprom[3]={'name':'4to basico', 'data':realarray4basicoejerprom, 'type':'column', 'yAxis':1};
    distxinstejerprom[4]={'name':'5to basico', 'data':realarray5basicoejerprom, 'type':'column', 'yAxis':1};
    distxinstejerprom[5]={'name':'6to basico', 'data':realarray6basicoejerprom, 'type':'column', 'yAxis':1};
    distxinstejerprom[6]={'name':'7mo basico', 'data':realarray7basicoejerprom, 'type':'column', 'yAxis':1};
    distxinstejerprom[7]={'name':'8vo basico', 'data':realarray8basicoejerprom, 'type':'column', 'yAxis':1};
    distxinstejerprom[8]={'name':'1ro medio', 'data':realarray1medioejerprom, 'type':'column', 'yAxis':1};
    distxinstejerprom[9]={'name':'2do medio', 'data':realarray2medioejerprom, 'type':'column', 'yAxis':1};
    distxinstejerprom[10]={'name':'3ro medio', 'data':realarray3medioejerprom, 'type':'column', 'yAxis':1};
    distxinstejerprom[11]={'name':'4to medio', 'data':realarray4medioejerprom, 'type':'column', 'yAxis':1};
    distxinstejerprom[12]={'name':'Promedio Tiempo de Ejercicios', 'data':realarraypromedioejerinst, 'type':'spline', 'color':'#AA4643', 'yAxis':2, 'marker':{'enabled':true}, 'lineWidth': 0};
    distxinstejerprom[13]={'name':'Cantidad de Estudiantes', 'data':realestudiantesxnivelinst, 'type':'spline', 'color':'#89A54E', 'marker':{'enabled':true}, 'lineWidth': 0};

    var contadorinstejerprom=0;
    for (var i = 0; i < distxinstejerprom.length; i++) {
      var verificador = true;
      for (var j = 0; j < distxinstejerprom[i]['data'].length; j++) {
        if(distxinstejerprom[i]['data'][j]!=0){
          verificador=false;
        }
      };
      if (verificador==true){
        elementremoveinstejerprom[contadorinstejerprom]=i;
        contadorinstejerprom++;
      }
    };
    for (var i = 0; i < elementremoveinstejerprom.length; i++) {
      distxinstejerprom.splice(elementremoveinstejerprom[i]-i,1);
    };

    distxnivelvid[0]={'name':'LSMB', 'data':realarraylsmbvid, 'type':'column', 'yAxis':1};
    distxnivelvid[1]={'name':'E.A.', 'data':realarrayeavid, 'type':'column', 'yAxis':1};
    distxnivelvid[2]={'name':'C.E.I.', 'data':realarrayceivid, 'type':'column', 'yAxis':1};
    distxnivelvid[3]={'name':'L.A.V.', 'data':realarraylavvid, 'type':'column', 'yAxis':1};
    distxnivelvid[4]={'name':'R.A.P.', 'data':realarrayrapvid, 'type':'column', 'yAxis':1};
    distxnivelvid[5]={'name':'L.G.M.', 'data':realarraygmvid, 'type':'column', 'yAxis':1};
    distxnivelvid[6]={'name':'Ba-Khan', 'data':realarraybakhanvid, 'type':'column', 'yAxis':1};
    distxnivelvid[7]={'name':'Promedio Tiempo de Videos', 'data':realarraypromediovid, 'type':'spline', 'color':'#AA4643', 'yAxis':2, 'marker':{'enabled':true}, 'lineWidth': 0};
    distxnivelvid[8]={'name':'Cantidad de Estudiantes', 'data':realestudiantesxnivel, 'type':'spline', 'color':'#89A54E', 'marker':{'enabled':true}, 'lineWidth': 0};

    var contadorvid=0;
    for (var i = 0; i < distxnivelvid.length; i++) {
      var verificador = true;
      for (var j = 0; j < distxnivelvid[i]['data'].length; j++) {
        if(distxnivelvid[i]['data'][j]!=0){
          verificador=false;
        }
      };
      if (verificador==true){
        elementremovevid[contadorvid]=i;
        contadorvid++;
      }
    };
    for (var i = 0; i < elementremovevid.length; i++) {
      distxnivelvid.splice(elementremovevid[i]-i,1);
    };

    distxnivelvidprom[0]={'name':'LSMB', 'data':realarraylsmbvidprom, 'type':'column', 'yAxis':1};
    distxnivelvidprom[1]={'name':'E.A.', 'data':realarrayeavidprom, 'type':'column', 'yAxis':1};
    distxnivelvidprom[2]={'name':'C.E.I.', 'data':realarrayceividprom, 'type':'column', 'yAxis':1};
    distxnivelvidprom[3]={'name':'L.A.V.', 'data':realarraylavvidprom, 'type':'column', 'yAxis':1};
    distxnivelvidprom[4]={'name':'R.A.P.', 'data':realarrayrapvidprom, 'type':'column', 'yAxis':1};
    distxnivelvidprom[5]={'name':'L.G.M.', 'data':realarraygmvidprom, 'type':'column', 'yAxis':1};
    distxnivelvidprom[6]={'name':'Ba-Khan', 'data':realarraybakhanvidprom, 'type':'column', 'yAxis':1};
    distxnivelvidprom[7]={'name':'Promedio Tiempo de Videos', 'data':realarraypromediovid, 'type':'spline', 'color':'#AA4643', 'yAxis':2, 'marker':{'enabled':true}, 'lineWidth': 0};
    distxnivelvidprom[8]={'name':'Cantidad de Estudiantes', 'data':realestudiantesxnivel, 'type':'spline', 'color':'#89A54E', 'marker':{'enabled':true}, 'lineWidth': 0};

    var contadorvidprom=0;
    for (var i = 0; i < distxnivelvidprom.length; i++) {
      var verificador = true;
      for (var j = 0; j < distxnivelvidprom[i]['data'].length; j++) {
        if(distxnivelvidprom[i]['data'][j]!=0){
          verificador=false;
        }
      };
      if (verificador==true){
        elementremovevidprom[contadorvidprom]=i;
        contadorvidprom++;
      }
    };
    for (var i = 0; i < elementremovevidprom.length; i++) {
      distxnivelvidprom.splice(elementremovevidprom[i]-i,1);
    };

    distxinstvid[0]={'name':'1ro basico', 'data':realarray1basicovid, 'type':'column', 'yAxis':1};
    distxinstvid[1]={'name':'2do basico', 'data':realarray2basicovid, 'type':'column', 'yAxis':1};
    distxinstvid[2]={'name':'3ro basico', 'data':realarray3basicovid, 'type':'column', 'yAxis':1};
    distxinstvid[3]={'name':'4to basico', 'data':realarray4basicovid, 'type':'column', 'yAxis':1};
    distxinstvid[4]={'name':'5to basico', 'data':realarray5basicovid, 'type':'column', 'yAxis':1};
    distxinstvid[5]={'name':'6to basico', 'data':realarray6basicovid, 'type':'column', 'yAxis':1};
    distxinstvid[6]={'name':'7mo basico', 'data':realarray7basicovid, 'type':'column', 'yAxis':1};
    distxinstvid[7]={'name':'8vo basico', 'data':realarray8basicovid, 'type':'column', 'yAxis':1};
    distxinstvid[8]={'name':'1ro medio', 'data':realarray1mediovid, 'type':'column', 'yAxis':1};
    distxinstvid[9]={'name':'2do medio', 'data':realarray2mediovid, 'type':'column', 'yAxis':1};
    distxinstvid[10]={'name':'3ro medio', 'data':realarray3mediovid, 'type':'column', 'yAxis':1};
    distxinstvid[11]={'name':'4to medio', 'data':realarray4mediovid, 'type':'column', 'yAxis':1};
    distxinstvid[12]={'name':'Promedio Tiempo de Videos', 'data':realarraypromediovidinst, 'type':'spline', 'color':'#AA4643', 'yAxis':2, 'marker':{'enabled':true}, 'lineWidth': 0};
    distxinstvid[13]={'name':'Cantidad de Estudiantes', 'data':realestudiantesxnivelinst, 'type':'spline', 'color':'#89A54E', 'marker':{'enabled':true}, 'lineWidth': 0};
    
    var contadorinstvid=0;
    for (var i = 0; i < distxinstvid.length; i++) {
      var verificador = true;
      for (var j = 0; j < distxinstvid[i]['data'].length; j++) {
        if(distxinstvid[i]['data'][j]!=0){
          verificador=false;
        }
      };
      if (verificador==true){
        elementremoveinstvid[contadorinstvid]=i;
        contadorinstvid++;
      }
    };
    for (var i = 0; i < elementremoveinstvid.length; i++) {
      distxinstvid.splice(elementremoveinstvid[i]-i,1);
    };

    distxinstvidprom[0]={'name':'1ro basico', 'data':realarray1basicovidprom, 'type':'column', 'yAxis':1};
    distxinstvidprom[1]={'name':'2do basico', 'data':realarray2basicovidprom, 'type':'column', 'yAxis':1};
    distxinstvidprom[2]={'name':'3ro basico', 'data':realarray3basicovidprom, 'type':'column', 'yAxis':1};
    distxinstvidprom[3]={'name':'4to basico', 'data':realarray4basicovidprom, 'type':'column', 'yAxis':1};
    distxinstvidprom[4]={'name':'5to basico', 'data':realarray5basicovidprom, 'type':'column', 'yAxis':1};
    distxinstvidprom[5]={'name':'6to basico', 'data':realarray6basicovidprom, 'type':'column', 'yAxis':1};
    distxinstvidprom[6]={'name':'7mo basico', 'data':realarray7basicovidprom, 'type':'column', 'yAxis':1};
    distxinstvidprom[7]={'name':'8vo basico', 'data':realarray8basicovidprom, 'type':'column', 'yAxis':1};
    distxinstvidprom[8]={'name':'1ro medio', 'data':realarray1mediovidprom, 'type':'column', 'yAxis':1};
    distxinstvidprom[9]={'name':'2do medio', 'data':realarray2mediovidprom, 'type':'column', 'yAxis':1};
    distxinstvidprom[10]={'name':'3ro medio', 'data':realarray3mediovidprom, 'type':'column', 'yAxis':1};
    distxinstvidprom[11]={'name':'4to medio', 'data':realarray4mediovidprom, 'type':'column', 'yAxis':1};
    distxinstvidprom[12]={'name':'Promedio Tiempo de Videos', 'data':realarraypromediovidinst, 'type':'spline', 'color':'#AA4643', 'yAxis':2, 'marker':{'enabled':true}, 'lineWidth': 0};
    distxinstvidprom[13]={'name':'Cantidad de Estudiantes', 'data':realestudiantesxnivelinst, 'type':'spline', 'color':'#89A54E', 'marker':{'enabled':true}, 'lineWidth': 0};
    
    var contadorinstvidprom=0;
    for (var i = 0; i < distxinstvidprom.length; i++) {
      var verificador = true;
      for (var j = 0; j < distxinstvidprom[i]['data'].length; j++) {
        if(distxinstvidprom[i]['data'][j]!=0){
          verificador=false;
        }
      };
      if (verificador==true){
        elementremoveinstvidprom[contadorinstvidprom]=i;
        contadorinstvidprom++;
      }
    };
    for (var i = 0; i < elementremoveinstvidprom.length; i++) {
      distxinstvidprom.splice(elementremoveinstvidprom[i]-i,1);
    };

  }
  else{
    if(json["students"]){
      var student = json["students"]
      for (var j=0;j<student.length;j++){
        var name=student[j]["name"]
        var tpo_ejercicios = student[j]["tiempo_ejercicios"]
        var tpo_videos = student[j]["tiempo_videos"]
        var cantidad = student[j]["total_ejercicios"]
        arrayte[j]=[name, tpo_ejercicios]
        arraytv[j]=[name, tpo_videos]
        arraycant[j]=[name, cantidad]
      }
    }
    var pointarrayte='Tiempo de ejercicios: <b>{point.y:,.0f} segundos</b>';
    var pointarraytv = 'Tiempo de videos: <b>{point.y:,.0f} segundos</b>';
    var pointarraycant = 'Cantidad de ejercicios: <b>{point.y} ejercicios</b>';
  }
  
  /*try{
    var nombremision = 'sin nombre';
    var dataq=arregloclase;
    for (var t = 0; t < mission.length; t++) {
      //mission[i]
      for (var i = 0; i < dataq.length; i++) {
        //console.log(curso=dataq[i][0][0]["curso"]); //nombre curso
        var misiones = dataq[i];
        for (var j = 0; j < misiones.length; j++) {
          //console.log(misiones[j][0]["mision"]); //nombre mision
          
          if (mission[t]==misiones[j][0]["mision"]){
            var habilidades = misiones[j];
            var data=[];
            for (var k = 0; k < habilidades.length; k++) {
              var id = habilidades[k]["id"];
              var A = habilidades[k]["A"];
              var B = habilidades[k]["B"];
              var C = habilidades[k]["C"];
              var D = habilidades[k]["D"];
              var E = habilidades[k]["E"];
              var F = habilidades[k]["F"];
              var G = habilidades[k]["G"];
              var mision = misiones[j][0]["mision"];
              var curso = dataq[i][0][0]["curso"];
              var nombre = habilidades[k]["nombre"];
              var establecimiento = dataq[i][0][0]["establecimiento"];
              //console.log(nombre)
              data[k]={"id":id, "A":A, "B":B, "C":C, "D":D, "E":E, "F":F, "G":G, "mis":mision, "cur":curso+" - "+establecimiento, "nombre":nombre}
            }

            var xData = ["A", "B", "C", "D", "E", "F", "G"];
            var margin = {top: 10, right: 200, bottom: 0, left: 0},
            width = 1200 - margin.left - margin.right,
            height = 15;
                  //height = 60 - margin.top - margin.bottom;
            var x = d3.scale.ordinal()
                  .rangeRoundBands([0, width], 0.09);
            var y = d3.scale.linear()
                  .rangeRound([height, 0]);
            var color = d3.scale.ordinal()
                  .range(["#1C758A", "#29ABCA", "#58C4DD", "#9CDCEB", "#808080", "#C30202","#B0B0B0"]);
            var xAxis = d3.svg.axis()
                  .scale(x)
                  .orient("bottom");

            var svg = d3.select("#chart").append("svg")
                    .attr("width", width + margin.left + margin.right)
                    .attr("height", height + margin.top + margin.bottom)
                    .append("g")
                    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");       

            var dataIntermediate = xData.map(function (c) {
                return data.map(function (d) {
                    return {x: d.id, y: d[c], nombre:d.nombre, A: d.A, B: d.B, C: d.C, D: d.D, E: d.E, F: d.F, G: d.G, cur: d.cur};
                });
            });

            var dataStackLayout = d3.layout.stack()(dataIntermediate);

            x.domain(dataStackLayout[0].map(function (d) {
                return d.x;
            }));

            y.domain([0,
                d3.max(dataStackLayout[dataStackLayout.length - 1],
                        function (d) { return d.y0 + d.y;})
                ])
              .nice();

            var layer = svg.selectAll(".stack")
                    .data(dataStackLayout)
                    .enter().append("g")
                    .attr("class", "stack")
                    .style("fill", function (d, i) {
                        return color(i);
                    });

            if (nombremision==misiones[j][0]["mision"]){
              nombremision = misiones[j][0]["mision"];
            }
            else{
              var text = layer
                    .append('text')
                    .text(mission[t])
                    .attr("y", height-5)
                    .style('fill', 'black')
              nombremision = misiones[j][0]["mision"];
            }

            layer.selectAll("rect")
                    .data(function (d) {
                      //console.log(d);
                        return d;
                    })
                    .enter().append("rect")
                    .attr("x", function (d, i) {
                        return 4.2*i+200;
                    })
                    .attr("y", function (d) {
                        return y(d.y + d.y0);
                    })
                    .attr("height", function (d) {
                        return y(d.y0) - y(d.y + d.y0);
                    })
                    .attr("width", 3.2);
            $('rect').tipsy({
              gravity: $.fn.tipsy.autoNS,
              opacity: 1,
              html: true, 
              title: function(){
                var d = this.__data__;
                tooltp =("<ul><li style='text-align:center;'><font color='#000000'>Curso: </font>"+d.cur+"</li><li style='text-align:left;'><strong><font color='#000000'>Habilidad: </font>"+d.nombre+"</li><li style='text-align:left;'><strong><font color='#1C758A'>Dominado: </font>"+d.A+"%</li><li style='text-align:left;'><strong><font color='#29ABCA'>Nivel 2: </font>"+d.B+"%</li><li style='text-align:left;'><strong><font color='#58C4DD'>Nivel 1: </font>"+d.C+"%</li><li style='text-align:left;'><strong><font color='#9CDCEB'>Practicado: </font>"+d.D+"%</li><li style='text-align:left;'><strong><font color='#808080'>Necesita práctica: </font>"+d.E+"%</li><li style='text-align:left;'><strong><font color='#C30202'>En dificultad: </font>"+d.F+"%</li><li style='text-align:left;'><strong><font color='#B0B0B0'>Sin datos: </font>"+d.G+"%</li></strong></ul>");
                return tooltp
              }
            });

            var textcurso = layer
                    .append('text')
                    .text(curso+' - '+establecimiento)
                    .attr("x", 1000)
                    .attr("y", height/2)
                    .style("font-size", "12px")
                    //.style("font-family", "sans-serif")
                    .style('fill', 'black');

            svg.append("g")
                    .attr("class", "axis")
                    .attr("transform", "translate(0," + height + ")");

          }
        }
      }
    }
}
  catch(e){
    console.log(e);
  }*/

  var maxte=0;
  for (var j=0;j<arrayte.length;j++){
    if (arrayte[j]["y"]>maxte){
      maxte = arrayte[j]["y"];
    }
  }
  if (maxte>=3600){
    for (var j=0;j<arrayte.length;j++){
      arrayte[j]["y"]=arrayte[j]["y"]/3600;
    }
    for (var k = 0; k < serietpo.length; k++) {
      var datadrill = serietpo[k]["data"];
      for (var l = 0; l < datadrill.length; l++) {
        datadrill[l][1]=datadrill[l][1]/3600;
      }
    }
    //serietpo[i]["data"]=serietpo[i]["data"]/3600;
    var ejerText= 'Tiempo (horas)';
    //var ejerPoint = 'Tiempo de ejercicios: <b>{point.y:,.2f} horas</b>';
    var formato = '{point.y:,.2f}';
    var pointarrayte = 'Tiempo de ejercicios: <b>{point.y:,.2f} horas</b><br> Total de estudiantes: <b>{point.cantidad}</b><br> Estudiantes que trabajaron: <b>{point.trabajaron}</b> <br>Máximo: <b>{point.maximo:,.0f} segundos</b><br> Mínimo: <b>{point.minimo:,.0f} segundos</b><br> Promedio: <b>{point.promedio:,.1f} segundos</b> <br>Cantidad de clases: <b>{point.cantclase} clases</b> <br>Tiempo promedio esperado: <b>{point.tpo_esperado:,.0f} segundos</b>';
  }
  else if(maxte<3600 && maxte>=60){
    for (var j=0;j<arrayte.length;j++){
      arrayte[j]["y"]=arrayte[j]["y"]/60;
    }
    for (var k = 0; k < serietpo.length; k++) {
      var datadrill = serietpo[k]["data"];
      for (var l = 0; l < datadrill.length; l++) {
        datadrill[l][1]=datadrill[l][1]/60;
      }
    }
    var ejerText= 'Tiempo (minutos)';
    //var ejerPoint = 'Tiempo de ejercicios: <b>{point.y:,.2f} minutos</b>';
    var formato = '{point.y:,.2f}';
    var pointarrayte = 'Tiempo de ejercicios: <b>{point.y:,.2f} minutos</b><br> Total de estudiantes: <b>{point.cantidad}</b><br> Estudiantes que trabajaron: <b>{point.trabajaron}</b> <br>Máximo: <b>{point.maximo:,.0f} segundos</b><br> Mínimo: <b>{point.minimo:,.0f} segundos</b><br> Promedio: <b>{point.promedio:,.1f} segundos</b> <br>Cantidad de clases: <b>{point.cantclase} clases</b> <br>Tiempo promedio esperado: <b>{point.tpo_esperado:,.0f} segundos</b>';
  }
  else{
    var ejerText= 'Tiempo (segundos)';
    //var ejerPoint = 'Tiempo de ejercicios: <b>{point.y} segundos</b>';
    var formato = '{point.y:,.0f}';
    var pointarrayte = 'Tiempo de ejercicios: <b>{point.y:,.0f} segundos</b><br> Total de estudiantes: <b>{point.cantidad}</b><br> Estudiantes que trabajaron: <b>{point.trabajaron}</b> <br>Máximo: <b>{point.maximo:,.0f} segundos</b><br> Mínimo: <b>{point.minimo:,.0f} segundos</b><br> Promedio: <b>{point.promedio:,.1f} segundos</b> <br>Cantidad de clases: <b>{point.cantclase} clases</b> <br>Tiempo promedio esperado: <b>{point.tpo_esperado:,.0f} segundos</b>';
  }
  //console.log(maxte);

    var maxtv=0;
  for (var j=0;j<arraytv.length;j++){
    if (arraytv[j]["y"]>maxtv){
      maxtv = arraytv[j]["y"];
    }
  }
  if (maxtv>=3600){
    for (var j=0;j<arraytv.length;j++){
      arraytv[j]["y"]=arraytv[j]["y"]/3600;
    }
    for (var k = 0; k < serievid.length; k++) {
      var datadrill = serievid[k]["data"];
      for (var l = 0; l < datadrill.length; l++) {
        datadrill[l][1]=datadrill[l][1]/3600;
      }
    var pointarraytv = 'Tiempo de videos: <b>{point.y:,.2f} horas</b><br> Total de estudiantes: <b>{point.cantidad}</b><br> Estudiantes que trabajaron: <b>{point.trabajaron}</b> <br>Máximo: <b>{point.maximo:,.0f} segundos</b><br> Mínimo: <b>{point.minimo:,.0f} segundos</b><br> Promedio: <b>{point.promedio:,.1f} segundos</b> <br>Cantidad de clases: <b>{point.cantclase} clases</b> <br>Estudiantes fuera de horario de clase: <b>{point.est_vid_out}</b>';
    }
    var vidText= 'Tiempo (horas)';
    var formato = '{point.y:,.2f}';
  }
  else if(maxtv<3600 && maxtv>=60){
    for (var j=0;j<arraytv.length;j++){
      arraytv[j]["y"]=arraytv[j]["y"]/60;
    }
    for (var k = 0; k < serievid.length; k++) {
      var datadrill = serievid[k]["data"];
      for (var l = 0; l < datadrill.length; l++) {
        datadrill[l][1]=datadrill[l][1]/60;
      }
    var pointarraytv = 'Tiempo de videos: <b>{point.y:,.2f} minutos</b><br> Total de estudiantes: <b>{point.cantidad}</b><br> Estudiantes que trabajaron: <b>{point.trabajaron}</b> <br>Máximo: <b>{point.maximo:,.0f} segundos</b><br> Mínimo: <b>{point.minimo:,.0f} segundos</b><br> Promedio: <b>{point.promedio:,.1f} segundos</b> <br>Cantidad de clases: <b>{point.cantclase} clases</b> <br>Estudiantes fuera de horario de clase: <b>{point.est_vid_out}</b>';
    }
    var vidText= 'Tiempo (minutos)';
    var formato = '{point.y:,.2f}';
  }
  else{
    var vidText= 'Tiempo (segundos)';
    var formato = '{point.y:,.0f}';
    var pointarraytv = 'Tiempo de videos: <b>{point.y:,.0f} segundos</b><br> Total de estudiantes: <b>{point.cantidad}</b><br> Estudiantes que trabajaron: <b>{point.trabajaron}</b> <br>Máximo: <b>{point.maximo:,.0f} segundos</b><br> Mínimo: <b>{point.minimo:,.0f} segundos</b><br> Promedio: <b>{point.promedio:,.1f} segundos</b> <br>Cantidad de clases: <b>{point.cantclase} clases</b> <br>Estudiantes fuera de horario de clase: <b>{point.est_vid_out}</b>';
  }

  $(function () {
    Highcharts.setOptions({
          lang:{
          decimalPoint: ",",
          thousandsSep: ".",
          downloadJPEG: "Descargar imagen JPEG",
          downloadPDF: "Descargar documento PDF",
          downloadPNG: "Descargar imagen PNG",
          downloadSVG: "Descargar imagen vectorial SVG",
          printChart: "Imprimir gráfico",
          drillUpText: "Volver a {series.name}",
        }
      });
      var chart = new Highcharts.Chart({
          plotOptions: {
                column: {
                    stacking: 'normal'
                }
          },
          chart: {
              renderTo: 'containertodos',
              zoomType: 'xy'
              //type: 'column',
          },
          title: {
              text: 'Distribución de la información'
          },
          xAxis: [{
              categories: arraynombres
              //type: 'category'
          }],
          yAxis: [{ // Primary yAxis
              labels: {
                  style: {
                      color: '#89A54E'
                  }
              },
              title: {
                  text: 'Tiempo Total de Videos',
                  style: {
                      color: '#89A54E'
                  }
              },
              opposite: true,
              min: 0
  
          }, { // Secondary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Cantidad Total de Ejercicios',
                  style: {
                      color: '#4572A7'
                  }
              },
              labels: {
                  style: {
                      color: '#4572A7'
                  }
              }
  
          }, { // Tertiary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Tiempo Total de Ejercicios',
                  style: {
                      color: '#AA4643'
                  }
              },
              labels: {
                  style: {
                      color: '#AA4643'
                  }
              },
              opposite: true,
              min: 0
          }],
          tooltip: {
              shared: true
          },
          legend: {
              enabled: true
          },
          series: arraycontainertodo
      });
  });

  $(function () {
    Highcharts.setOptions({
          lang:{
          decimalPoint: ",",
          thousandsSep: ".",
          downloadJPEG: "Descargar imagen JPEG",
          downloadPDF: "Descargar documento PDF",
          downloadPNG: "Descargar imagen PNG",
          downloadSVG: "Descargar imagen vectorial SVG",
          printChart: "Imprimir gráfico",
          drillUpText: "Volver a {series.name}"
        }
      });
      var chart = new Highcharts.Chart({
        chart: {
            renderTo: 'containerej',
            type: 'column',
            events: {
              drilldown: function(e){
                $('#ordenartot3').hide();
              },
              drillup: function(e){
                $('#ordenartot3').show();
              }
            }
        },
        title: {
            text: 'Tiempo de ejercicios'
        },
        subtitle: {
            text: 'Fuente: <a href="https://es.khanacademy.org/">Khan Academy</a>'
        },
        xAxis: {
            type: 'category',
            labels: {
                rotation: -45,
                style: {
                    fontSize: '11px',
                    fontFamily: 'Verdana, sans-serif'
                }
            }
        },
        yAxis: {
            min: 0,
            title: {
                //text: 'Tiempo (segundos)'
                text: ejerText
            }
        },
        legend: {
            enabled: false
        },
        colors: colorcolumn,
        series: [{
            name: 'Cursos',
            data: arrayte,
            colorByPoint: true,
            dataLabels: {
                enabled: true,
                rotation: -90,
                //color: 'KhanBlue',
                align: 'right',
                //format: '{point.y:,.0f}', // one decimal
                format: formato,
                y: 10, // 10 pixels down from the top
                style: {
                    fontSize: '11px',
                    fontFamily: 'Verdana, sans-serif'
                }
            },
            tooltip: {
            pointFormat: pointarrayte
            }
        }],
        drilldown: {
            series: serietpo
        }
    });
      function sortTotal(valor){
      //aqui va algo
      if (valor=="0"){
        arrayte.sort(function(a,b){
          return ((a.name < b.name) ? -1 : ((a.name > b.name) ? 1 : 0));
        });
      }
      if (valor=="1"){
        arrayte.sort(function(a,b){
          return parseInt(a.y) - parseInt(b.y);
        });
      }
      if (valor=="2"){
        arrayte.sort(function(a,b){
          return parseInt(b.y) - parseInt(a.y);
        });
      }
      for (var i = 0; i < arrayte.length; i++) {
        if (arrayte[i]['establecimiento']=="LSMB"){
          colorcolumn[i]='#7CB5EC';
        }
        if (arrayte[i]['establecimiento']=="E.A."){
          colorcolumn[i]='#434348';
        }
        if (arrayte[i]['establecimiento']=="C.E.I."){
          colorcolumn[i]='#90ED7D';
        }
        if (arrayte[i]['establecimiento']=="L.A.V."){
          colorcolumn[i]='#F7A35C';
        }
        if (arrayte[i]['establecimiento']=="R.A.P."){
          colorcolumn[i]='#8085E9';
        }
        if (arrayte[i]['establecimiento']=="L.G.M."){
          colorcolumn[i]='#F15C80';
        }
        if (arrayte[i]['establecimiento']=="BA-Khan"){
          colorcolumn[i]='#E4D354';
        }
      }
      return [arrayte,colorcolumn];
    }

    $('#ordenartot3').change(function(){
      var retorno = sortTotal($('select#ordenartot3 option:selected').val());
      //console.log(retorno);
      chart.series[0].update(retorno);
    })
  });

  $(function () {
    Highcharts.setOptions({
          lang:{
          decimalPoint: ",",
          thousandsSep: ".",
          downloadJPEG: "Descargar imagen JPEG",
          downloadPDF: "Descargar documento PDF",
          downloadPNG: "Descargar imagen PNG",
          downloadSVG: "Descargar imagen vectorial SVG",
          printChart: "Imprimir gráfico",
          drillUpText: "Volver a {series.name}",
        }
      });
      var chart = new Highcharts.Chart({
          plotOptions: {
                column: {
                    stacking: 'normal'
                }
          },
          chart: {
              renderTo: 'containerejernivel',
              zoomType: 'xy'
              //type: 'column',
          },
          title: {
              text: 'Distribución de Tiempo de Ejercicios Total Realizados por Nivel'
          },
          xAxis: [{
              categories: categoriasrealdxn
          }],
          yAxis: [{ // Primary yAxis
              labels: {
                  style: {
                      color: '#89A54E'
                  }
              },
              title: {
                  text: 'Cantidad de Estudiantes',
                  style: {
                      color: '#89A54E'
                  }
              },
              opposite: true,
              min: 0
  
          }, { // Secondary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Tiempo Total por Nivel',
                  style: {
                      color: '#4572A7'
                  }
              },
              labels: {
                  style: {
                      color: '#4572A7'
                  }
              }
  
          }, { // Tertiary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Promedio de Tiempo de Ejercicios',
                  style: {
                      color: '#AA4643'
                  }
              },
              labels: {
                  style: {
                      color: '#AA4643'
                  }
              },
              opposite: true,
              min: 0
          }],
          tooltip: {
              shared: true
          },
          legend: {
              enabled: true
          },
          series: distxnivelejer
      });
  });

  $(function () {
    Highcharts.setOptions({
          lang:{
          decimalPoint: ",",
          thousandsSep: ".",
          downloadJPEG: "Descargar imagen JPEG",
          downloadPDF: "Descargar documento PDF",
          downloadPNG: "Descargar imagen PNG",
          downloadSVG: "Descargar imagen vectorial SVG",
          printChart: "Imprimir gráfico",
          drillUpText: "Volver a {series.name}",
        }
      });
      var chart = new Highcharts.Chart({
          plotOptions: {
                column: {
                    stacking: 'normal'
                }
          },
          chart: {
              renderTo: 'containerejernivelprom',
              zoomType: 'xy'
              //type: 'column',
          },
          title: {
              text: 'Distribución de Tiempo de Ejercicios Promedio Realizados por Nivel'
          },
          xAxis: [{
              categories: categoriasrealdxn
          }],
          yAxis: [{ // Primary yAxis
              labels: {
                  style: {
                      color: '#89A54E'
                  }
              },
              title: {
                  text: 'Cantidad de Estudiantes',
                  style: {
                      color: '#89A54E'
                  }
              },
              opposite: true,
              min: 0
  
          }, { // Secondary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Tiempo Promedio por Nivel',
                  style: {
                      color: '#4572A7'
                  }
              },
              labels: {
                  style: {
                      color: '#4572A7'
                  }
              }
  
          }, { // Tertiary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Promedio de Tiempo de Ejercicios',
                  style: {
                      color: '#AA4643'
                  }
              },
              labels: {
                  style: {
                      color: '#AA4643'
                  }
              },
              opposite: true,
              min: 0
          }],
          tooltip: {
              shared: true
          },
          legend: {
              enabled: true
          },
          series: distxnivelejerprom
      });
  });

  $(function () {
    Highcharts.setOptions({
          lang:{
          decimalPoint: ",",
          thousandsSep: ".",
          downloadJPEG: "Descargar imagen JPEG",
          downloadPDF: "Descargar documento PDF",
          downloadPNG: "Descargar imagen PNG",
          downloadSVG: "Descargar imagen vectorial SVG",
          printChart: "Imprimir gráfico",
          drillUpText: "Volver a {series.name}",
        }
      });
      var chart = new Highcharts.Chart({
          plotOptions: {
                column: {
                    stacking: 'normal'
                }
          },
          chart: {
              renderTo: 'containerejerinst',
              zoomType: 'xy'
              //type: 'column',
          },
          title: {
              text: 'Distribución de Tiempo de Ejercicios Total Realizados por Institución'
          },
          xAxis: [{
              categories: categoriasdxireal
          }],
          yAxis: [{ // Primary yAxis
              labels: {
                  style: {
                      color: '#89A54E'
                  }
              },
              title: {
                  text: 'Cantidad de Estudiantes',
                  style: {
                      color: '#89A54E'
                  }
              },
              opposite: true,
              min: 0
  
          }, { // Secondary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Tiempo Total por Institución',
                  style: {
                      color: '#4572A7'
                  }
              },
              labels: {
                  style: {
                      color: '#4572A7'
                  }
              }
  
          }, { // Tertiary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Promedio de Tiempo de Ejercicios',
                  style: {
                      color: '#AA4643'
                  }
              },
              labels: {
                  style: {
                      color: '#AA4643'
                  }
              },
              opposite: true,
              min: 0
          }],
          tooltip: {
              shared: true
          },
          legend: {
              enabled: true
          },
          series: distxinstejer
      });
  });

  $(function () {
    Highcharts.setOptions({
          lang:{
          decimalPoint: ",",
          thousandsSep: ".",
          downloadJPEG: "Descargar imagen JPEG",
          downloadPDF: "Descargar documento PDF",
          downloadPNG: "Descargar imagen PNG",
          downloadSVG: "Descargar imagen vectorial SVG",
          printChart: "Imprimir gráfico",
          drillUpText: "Volver a {series.name}",
        }
      });
      var chart = new Highcharts.Chart({
          plotOptions: {
                column: {
                    stacking: 'normal'
                }
          },
          chart: {
              renderTo: 'containerejerinstprom',
              zoomType: 'xy'
              //type: 'column',
          },
          title: {
              text: 'Distribución de Tiempo de Ejercicios Promedio Realizados por Institución'
          },
          xAxis: [{
              categories: categoriasdxireal
          }],
          yAxis: [{ // Primary yAxis
              labels: {
                  style: {
                      color: '#89A54E'
                  }
              },
              title: {
                  text: 'Cantidad de Estudiantes',
                  style: {
                      color: '#89A54E'
                  }
              },
              opposite: true,
              min: 0
  
          }, { // Secondary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Tiempo Promedio por Institución',
                  style: {
                      color: '#4572A7'
                  }
              },
              labels: {
                  style: {
                      color: '#4572A7'
                  }
              }
  
          }, { // Tertiary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Promedio de Tiempo de Ejercicios',
                  style: {
                      color: '#AA4643'
                  }
              },
              labels: {
                  style: {
                      color: '#AA4643'
                  }
              },
              opposite: true,
              min: 0
          }],
          tooltip: {
              shared: true
          },
          legend: {
              enabled: true
          },
          series: distxinstejerprom
      });
  });

  $(function () {
    Highcharts.setOptions({
          lang:{
          decimalPoint: ",",
          thousandsSep: ".",
          downloadJPEG: "Descargar imagen JPEG",
          downloadPDF: "Descargar documento PDF",
          downloadPNG: "Descargar imagen PNG",
          downloadSVG: "Descargar imagen vectorial SVG",
          printChart: "Imprimir gráfico",
          drillUpText: "Volver a {series.name}",
        }
      });
      var chart = new Highcharts.Chart({
        chart: {
            renderTo: 'containervid',
            type: 'column',
            events: {
              drilldown: function(e){
                $('#ordenarvid3').hide();
              },
              drillup: function(e){
                $('#ordenarvid3').show();
              }
            }
        },
        title: {
            text: 'Tiempo de videos'
        },
        subtitle: {
            text: 'Fuente: <a href="https://es.khanacademy.org/">Khan Academy</a>'
        },
        xAxis: {
            type: 'category',
            labels: {
                rotation: -45,
                style: {
                    fontSize: '11px',
                    fontFamily: 'Verdana, sans-serif'
                }
            }
        },
        yAxis: {
            min: 0,
            title: {
                //text: 'Tiempo (segundos)'
                text: vidText
            }
        },
        legend: {
            enabled: false
        },
        colors: colorcolumn,
        series: [{
            name: 'Cursos',
            data: arraytv,
            colorByPoint: true,
            dataLabels: {
                enabled: true,
                rotation: -90,
                //color: 'KhanBlue',
                align: 'right',
                //format: '{point.y:,.0f}', // one decimal
                format: formato,
                y: 10, // 10 pixels down from the top
                style: {
                    fontSize: '11px',
                    fontFamily: 'Verdana, sans-serif'
                }
            },
            tooltip: {
            pointFormat: pointarraytv
            }
        }],
        drilldown: {
            series: serievid
          }
    });
      function sortTotal(valor){
      //aqui va algo
      if (valor=="0"){
        arraytv.sort(function(a,b){
          return ((a.name < b.name) ? -1 : ((a.name > b.name) ? 1 : 0));
        });
      }
      if (valor=="1"){
        arraytv.sort(function(a,b){
          return parseInt(a.y) - parseInt(b.y);
        });
      }
      if (valor=="2"){
        arraytv.sort(function(a,b){
          return parseInt(b.y) - parseInt(a.y);
        });
      }
      for (var i = 0; i < arraytv.length; i++) {
        if (arraytv[i]['establecimiento']=="LSMB"){
          colorcolumn[i]='#7CB5EC';
        }
        if (arraytv[i]['establecimiento']=="E.A."){
          colorcolumn[i]='#434348';
        }
        if (arraytv[i]['establecimiento']=="C.E.I."){
          colorcolumn[i]='#90ED7D';
        }
        if (arraytv[i]['establecimiento']=="L.A.V."){
          colorcolumn[i]='#F7A35C';
        }
        if (arraytv[i]['establecimiento']=="R.A.P."){
          colorcolumn[i]='#8085E9';
        }
        if (arraytv[i]['establecimiento']=="L.G.M."){
          colorcolumn[i]='#F15C80';
        }
        if (arraytv[i]['establecimiento']=="BA-Khan"){
          colorcolumn[i]='#E4D354';
        }
      }
      return [arrayte,colorcolumn];
    }

    $('#ordenarvid3').change(function(){
      var retorno = sortTotal($('select#ordenarvid3 option:selected').val());
      //console.log(retorno);
      chart.series[0].update(retorno);
    })
  });

  $(function () {
    Highcharts.setOptions({
          lang:{
          decimalPoint: ",",
          thousandsSep: ".",
          downloadJPEG: "Descargar imagen JPEG",
          downloadPDF: "Descargar documento PDF",
          downloadPNG: "Descargar imagen PNG",
          downloadSVG: "Descargar imagen vectorial SVG",
          printChart: "Imprimir gráfico",
          drillUpText: "Volver a {series.name}",
        }
      });
      var chart = new Highcharts.Chart({
          plotOptions: {
                column: {
                    stacking: 'normal'
                }
          },
          chart: {
              renderTo: 'containervidnivel',
              zoomType: 'xy'
              //type: 'column',
          },
          title: {
              text: 'Distribución de Tiempo de Videos Total Realizados por Nivel'
          },
          xAxis: [{
              categories: categoriasrealdxn
          }],
          yAxis: [{ // Primary yAxis
              labels: {
                  style: {
                      color: '#89A54E'
                  }
              },
              title: {
                  text: 'Cantidad de Estudiantes',
                  style: {
                      color: '#89A54E'
                  }
              },
              opposite: true,
              min: 0
  
          }, { // Secondary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Tiempo Total por Nivel',
                  style: {
                      color: '#4572A7'
                  }
              },
              labels: {
                  style: {
                      color: '#4572A7'
                  }
              }
  
          }, { // Tertiary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Promedio de Tiempo de Videos',
                  style: {
                      color: '#AA4643'
                  }
              },
              labels: {
                  style: {
                      color: '#AA4643'
                  }
              },
              opposite: true,
              min: 0
          }],
          tooltip: {
              shared: true
          },
          legend: {
              enabled: true
          },
          series: distxnivelvid
      });
  });

  $(function () {
    Highcharts.setOptions({
          lang:{
          decimalPoint: ",",
          thousandsSep: ".",
          downloadJPEG: "Descargar imagen JPEG",
          downloadPDF: "Descargar documento PDF",
          downloadPNG: "Descargar imagen PNG",
          downloadSVG: "Descargar imagen vectorial SVG",
          printChart: "Imprimir gráfico",
          drillUpText: "Volver a {series.name}",
        }
      });
      var chart = new Highcharts.Chart({
          plotOptions: {
                column: {
                    stacking: 'normal'
                }
          },
          chart: {
              renderTo: 'containervidnivelprom',
              zoomType: 'xy'
              //type: 'column',
          },
          title: {
              text: 'Distribución de Tiempo de Videos Promedio Realizados por Nivel'
          },
          xAxis: [{
              categories: categoriasrealdxn
          }],
          yAxis: [{ // Primary yAxis
              labels: {
                  style: {
                      color: '#89A54E'
                  }
              },
              title: {
                  text: 'Cantidad de Estudiantes',
                  style: {
                      color: '#89A54E'
                  }
              },
              opposite: true,
              min: 0
  
          }, { // Secondary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Tiempo Promedio por Nivel',
                  style: {
                      color: '#4572A7'
                  }
              },
              labels: {
                  style: {
                      color: '#4572A7'
                  }
              }
  
          }, { // Tertiary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Promedio de Tiempo de Videos',
                  style: {
                      color: '#AA4643'
                  }
              },
              labels: {
                  style: {
                      color: '#AA4643'
                  }
              },
              opposite: true,
              min: 0
          }],
          tooltip: {
              shared: true
          },
          legend: {
              enabled: true
          },
          series: distxnivelvidprom
      });
  });

  $(function () {
    Highcharts.setOptions({
          lang:{
          decimalPoint: ",",
          thousandsSep: ".",
          downloadJPEG: "Descargar imagen JPEG",
          downloadPDF: "Descargar documento PDF",
          downloadPNG: "Descargar imagen PNG",
          downloadSVG: "Descargar imagen vectorial SVG",
          printChart: "Imprimir gráfico",
          drillUpText: "Volver a {series.name}",
        }
      });
      var chart = new Highcharts.Chart({
          plotOptions: {
                column: {
                    stacking: 'normal'
                }
          },
          chart: {
              renderTo: 'containervidinst',
              zoomType: 'xy'
              //type: 'column',
          },
          title: {
              text: 'Distribución de Tiempo de Videos Total Realizados por Institución'
          },
          xAxis: [{
              categories: categoriasdxireal
          }],
          yAxis: [{ // Primary yAxis
              labels: {
                  style: {
                      color: '#89A54E'
                  }
              },
              title: {
                  text: 'Cantidad de Estudiantes',
                  style: {
                      color: '#89A54E'
                  }
              },
              opposite: true,
              min: 0
  
          }, { // Secondary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Tiempo Total por Institución',
                  style: {
                      color: '#4572A7'
                  }
              },
              labels: {
                  style: {
                      color: '#4572A7'
                  }
              }
  
          }, { // Tertiary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Promedio de Tiempo de Videos',
                  style: {
                      color: '#AA4643'
                  }
              },
              labels: {
                  style: {
                      color: '#AA4643'
                  }
              },
              opposite: true,
              min: 0
          }],
          tooltip: {
              shared: true
          },
          legend: {
              enabled: true
          },
          series: distxinstvid
      });
  });

  $(function () {
    Highcharts.setOptions({
          lang:{
          decimalPoint: ",",
          thousandsSep: ".",
          downloadJPEG: "Descargar imagen JPEG",
          downloadPDF: "Descargar documento PDF",
          downloadPNG: "Descargar imagen PNG",
          downloadSVG: "Descargar imagen vectorial SVG",
          printChart: "Imprimir gráfico",
          drillUpText: "Volver a {series.name}",
        }
      });
      var chart = new Highcharts.Chart({
          plotOptions: {
                column: {
                    stacking: 'normal'
                }
          },
          chart: {
              renderTo: 'containervidinstprom',
              zoomType: 'xy'
              //type: 'column',
          },
          title: {
              text: 'Distribución de Tiempo de Videos Promedio Realizados por Institución'
          },
          xAxis: [{
              categories: categoriasdxireal
          }],
          yAxis: [{ // Primary yAxis
              labels: {
                  style: {
                      color: '#89A54E'
                  }
              },
              title: {
                  text: 'Cantidad de Estudiantes',
                  style: {
                      color: '#89A54E'
                  }
              },
              opposite: true,
              min: 0
  
          }, { // Secondary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Tiempo Promedio por Institución',
                  style: {
                      color: '#4572A7'
                  }
              },
              labels: {
                  style: {
                      color: '#4572A7'
                  }
              }
  
          }, { // Tertiary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Promedio de Tiempo de Videos',
                  style: {
                      color: '#AA4643'
                  }
              },
              labels: {
                  style: {
                      color: '#AA4643'
                  }
              },
              opposite: true,
              min: 0
          }],
          tooltip: {
              shared: true
          },
          legend: {
              enabled: true
          },
          series: distxinstvidprom
      });
  });

  $(function () {
    Highcharts.setOptions({
          lang:{
          decimalPoint: ",",
          thousandsSep: ".",
          downloadJPEG: "Descargar imagen JPEG",
          downloadPDF: "Descargar documento PDF",
          downloadPNG: "Descargar imagen PNG",
          downloadSVG: "Descargar imagen vectorial SVG",
          printChart: "Imprimir gráfico",
          drillUpText: "Volver a {series.name}",
        }
      });
    var chart = new Highcharts.Chart({
        chart: {
            renderTo: 'containertot',
            type: 'column',
            events: {
              drilldown: function(e){
                $('#ordenarcant3').hide();
              },
              drillup: function(e){
                $('#ordenarcant3').show();
              }
            }
        },
        title: {
            text: 'Cantidad de ejercicios'
        },
        subtitle: {
            text: 'Fuente: <a href="https://es.khanacademy.org/">Khan Academy</a>'
        },
        xAxis: {
            type: 'category',
            labels: {
                rotation: -45,
                style: {
                    fontSize: '11px',
                    fontFamily: 'Verdana, sans-serif'
                }
            }
        },
        yAxis: {
            min: 0,
            title: {
                text: 'Cantidad (ejercicios)'
            }
        },
        legend: {
            enabled: false
        },
        colors: colorcolumn,
        series: [{
            name: 'Cursos',
            data: arraycant,
            colorByPoint: true,
            dataLabels: {
                enabled: true,
                rotation: -90,
                //color: 'KhanBlue',
                align: 'right',
                format: '{point.y:,.0f}', // one decimal
                y: 10, // 10 pixels down from the top
                style: {
                    fontSize: '11px',
                    fontFamily: 'Verdana, sans-serif'
                }
            },
            tooltip: {
              pointFormat: pointarraycant
            },
        }],
        drilldown: {
            series: serie
          }
    });
    function sortTotal(valor){
      //aqui va algo
      if (valor=="0"){
        arraycant.sort(function(a,b){
          return ((a.name < b.name) ? -1 : ((a.name > b.name) ? 1 : 0));
        });
      }
      if (valor=="1"){
        arraycant.sort(function(a,b){
          return parseInt(a.y) - parseInt(b.y);
        });
      }
      if (valor=="2"){
        arraycant.sort(function(a,b){
          return parseInt(b.y) - parseInt(a.y);
        });
      }
      for (var i = 0; i < arraycant.length; i++) {
        if (arraycant[i]['establecimiento']=="LSMB"){
          colorcolumn[i]='#7CB5EC';
        }
        if (arraycant[i]['establecimiento']=="E.A."){
          colorcolumn[i]='#434348';
        }
        if (arraycant[i]['establecimiento']=="C.E.I."){
          colorcolumn[i]='#90ED7D';
        }
        if (arraycant[i]['establecimiento']=="L.A.V."){
          colorcolumn[i]='#F7A35C';
        }
        if (arraycant[i]['establecimiento']=="R.A.P."){
          colorcolumn[i]='#8085E9';
        }
        if (arraycant[i]['establecimiento']=="L.G.M."){
          colorcolumn[i]='#F15C80';
        }
        if (arraycant[i]['establecimiento']=="BA-Khan"){
          colorcolumn[i]='#E4D354';
        }
      }
      return [arraycant,colorcolumn];;
    }

    $('#ordenarcant3').change(function(){
      var retorno = sortTotal($('select#ordenarcant3 option:selected').val());
      chart.series[0].update(retorno);
    })
  });

  $(function () {
    Highcharts.setOptions({
          lang:{
          decimalPoint: ",",
          thousandsSep: ".",
          downloadJPEG: "Descargar imagen JPEG",
          downloadPDF: "Descargar documento PDF",
          downloadPNG: "Descargar imagen PNG",
          downloadSVG: "Descargar imagen vectorial SVG",
          printChart: "Imprimir gráfico",
          drillUpText: "Volver a {series.name}",
        }
      });
      var chart = new Highcharts.Chart({
          plotOptions: {
                column: {
                    stacking: 'normal'
                }
          },
          chart: {
              renderTo: 'containertotnivel',
              zoomType: 'xy'
              //type: 'column',
          },
          title: {
              text: 'Distribución de Ejercicios Total Realizados por Nivel'
          },
          xAxis: [{
              categories: categoriasrealdxn
          }],
          yAxis: [{ // Primary yAxis
              labels: {
                  style: {
                      color: '#89A54E'
                  }
              },
              title: {
                  text: 'Cantidad de Estudiantes',
                  style: {
                      color: '#89A54E'
                  }
              },
              opposite: true,
              min: 0
  
          }, { // Secondary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Cantidad Total por Nivel',
                  style: {
                      color: '#4572A7'
                  }
              },
              labels: {
                  style: {
                      color: '#4572A7'
                  }
              }
  
          }, { // Tertiary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Promedio de Ejercicios',
                  style: {
                      color: '#AA4643'
                  }
              },
              labels: {
                  style: {
                      color: '#AA4643'
                  }
              },
              opposite: true,
              min: 0
          }],
          tooltip: {
              shared: true
          },
          legend: {
            enabled: true
          },
          /*legend: {
              layout: 'vertical',
              align: 'left',
              x: 120,
              verticalAlign: 'top',
              y: 80,
              floating: true,
              backgroundColor: '#FFFFFF'
          },*/
          series: distxnivel
      });
  });

  $(function () {
    Highcharts.setOptions({
          lang:{
          decimalPoint: ",",
          thousandsSep: ".",
          downloadJPEG: "Descargar imagen JPEG",
          downloadPDF: "Descargar documento PDF",
          downloadPNG: "Descargar imagen PNG",
          downloadSVG: "Descargar imagen vectorial SVG",
          printChart: "Imprimir gráfico",
          drillUpText: "Volver a {series.name}",
        }
      });
      var chart = new Highcharts.Chart({
          plotOptions: {
                column: {
                    stacking: 'normal'
                }
          },
          chart: {
              renderTo: 'containertotnivelprom',
              zoomType: 'xy'
              //type: 'column',
          },
          title: {
              text: 'Distribución de Ejercicios Promedio Realizados por Nivel'
          },
          xAxis: [{
              categories: categoriasrealdxn
          }],
          yAxis: [{ // Primary yAxis
              labels: {
                  style: {
                      color: '#89A54E'
                  }
              },
              title: {
                  text: 'Cantidad de Estudiantes',
                  style: {
                      color: '#89A54E'
                  }
              },
              opposite: true,
              min: 0
  
          }, { // Secondary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Cantidad Promedio por Nivel',
                  style: {
                      color: '#4572A7'
                  }
              },
              labels: {
                  style: {
                      color: '#4572A7'
                  }
              }
  
          }, { // Tertiary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Promedio de Ejercicios',
                  style: {
                      color: '#AA4643'
                  }
              },
              labels: {
                  style: {
                      color: '#AA4643'
                  }
              },
              opposite: true,
              min: 0
          }],
          tooltip: {
              shared: true
          },
          legend: {
            enabled: true
          },
          series: distxnivelprom
      });
  });
  
  $(function () {
    Highcharts.setOptions({
          lang:{
          decimalPoint: ",",
          thousandsSep: ".",
          downloadJPEG: "Descargar imagen JPEG",
          downloadPDF: "Descargar documento PDF",
          downloadPNG: "Descargar imagen PNG",
          downloadSVG: "Descargar imagen vectorial SVG",
          printChart: "Imprimir gráfico",
          drillUpText: "Volver a {series.name}",
        }
      });
      var chart = new Highcharts.Chart({
          plotOptions: {
                column: {
                    stacking: 'normal'
                }
          },
          chart: {
              renderTo: 'containertotinst',
              zoomType: 'xy'
              //type: 'column',
          },
          title: {
              text: 'Distribución de Ejercicios Total Realizados por Institución'
          },
          xAxis: [{
              categories: categoriasdxireal
          }],
          yAxis: [{ // Primary yAxis
              labels: {
                  style: {
                      color: '#89A54E'
                  }
              },
              title: {
                  text: 'Cantidad de Estudiantes',
                  style: {
                      color: '#89A54E'
                  }
              },
              opposite: true,
              min: 0
  
          }, { // Secondary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Cantidad Total por Institución',
                  style: {
                      color: '#4572A7'
                  }
              },
              labels: {
                  style: {
                      color: '#4572A7'
                  }
              }
  
          }, { // Tertiary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Promedio de Ejercicios',
                  style: {
                      color: '#AA4643'
                  }
              },
              labels: {
                  style: {
                      color: '#AA4643'
                  }
              },
              opposite: true,
              min: 0
          }],
          tooltip: {
              shared: true
          },
          legend: {
            enabled: true
          },
          series: distxinst
      });
  });

  $(function () {
    Highcharts.setOptions({
          lang:{
          decimalPoint: ",",
          thousandsSep: ".",
          downloadJPEG: "Descargar imagen JPEG",
          downloadPDF: "Descargar documento PDF",
          downloadPNG: "Descargar imagen PNG",
          downloadSVG: "Descargar imagen vectorial SVG",
          printChart: "Imprimir gráfico",
          drillUpText: "Volver a {series.name}",
        }
      });
      var chart = new Highcharts.Chart({
          plotOptions: {
                column: {
                    stacking: 'normal'
                }
          },
          chart: {
              renderTo: 'containertotinstprom',
              zoomType: 'xy'
              //type: 'column',
          },
          title: {
              text: 'Distribución de Ejercicios Promedio Realizados por Institución'
          },
          xAxis: [{
              categories: categoriasdxireal
          }],
          yAxis: [{ // Primary yAxis
              labels: {
                  style: {
                      color: '#89A54E'
                  }
              },
              title: {
                  text: 'Cantidad de Estudiantes',
                  style: {
                      color: '#89A54E'
                  }
              },
              opposite: true,
              min: 0
  
          }, { // Secondary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Cantidad Promedio por Institución',
                  style: {
                      color: '#4572A7'
                  }
              },
              labels: {
                  style: {
                      color: '#4572A7'
                  }
              }
  
          }, { // Tertiary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Promedio de Ejercicios',
                  style: {
                      color: '#AA4643'
                  }
              },
              labels: {
                  style: {
                      color: '#AA4643'
                  }
              },
              opposite: true,
              min: 0
          }],
          tooltip: {
              shared: true
          },
          legend: {
            enabled: true
          },
          series: distxinstprom
      });
  });
}

function graficarcompara(json, clase){
  //console.log(json)
  $('#promediototaltot').empty();
  $('#promediototaltot2').empty();
  $('#promediototalej').empty();
  $('#promediototalej2').empty();
  $('#promediototalvid').empty();
  $('#promediototalvid2').empty();
  $('#ordenarcant').hide();
  $('#ordenarvid').hide();
  $('#ordenartot').hide();
  $('#ordenarcant3').hide();
  $('#ordenarvid3').hide();
  $('#ordenartot3').hide();
  //$('#containertodos').hide();
  var colorScale = d3.scale.ordinal().range(['#1c758a'])
    .domain(['KhanBlue']);
  var arrayte=[];
  var arraytv=[];
  var arraycant=[]; 
  var categorias=[];
  var subcategorias=[];
  var tpoejercicios1=[];
  var tpoejercicios2=[];
  var tpovideos1=[];
  var tpovideos2=[];
  var cantidad1=[];
  var cantidad2=[];
  var arraygrande=[];
  var arraygrandevideo=[];

  var j;
  if(json["clases"]){
    var clase = json["clases"]
    var tipo1 = clase[0]["tipo1"]
    var tipo2 = clase[0]["tipo2"]

    var totaltodos1=0;
    var promediotodos1=0;
    var maximotodos1=0;
    var minimotodos1=99999999;
    var totaltodos2=0;
    var promediotodos2=0;
    var maximotodos2=0;
    var minimotodos2=99999999;
    var promediomasalto1=0;
    var promediomasbajo1=99999999;
    var promediomasalto2=0;
    var promediomasbajo2=99999999;

    var totaltodos1v=0;
    var promediotodos1v=0;
    var maximotodos1v=0;
    var minimotodos1v=99999999;
    var totaltodos2v=0;
    var promediotodos2v=0;
    var maximotodos2v=0;
    var minimotodos2v=99999999;
    var promediomasalto1v=0;
    var promediomasbajo1v=99999999;
    var promediomasalto2v=0;
    var promediomasbajo2v=99999999;

    var totaltodos1t=0;
    var promediotodos1t=0;
    var maximotodos1t=0;
    var minimotodos1t=99999999;
    var totaltodos2t=0;
    var promediotodos2t=0;
    var maximotodos2t=0;
    var minimotodos2t=99999999;
    var promediomasalto1t=0;
    var promediomasbajo1t=99999999;
    var promediomasalto2t=0;
    var promediomasbajo2t=99999999;
    var totalestudiantes=0;
    var promediomaximoejer=0;
    var promediominimoejer=99999999;
    var promediomaximoejer2=0;
    var promediominimoejer2=99999999;
    var promediomaximovid=0;
    var promediominimovid=99999999;
    var promediomaximovid2=0;
    var promediominimovid2=99999999;
    var promediomaximotot=0;
    var promediominimotot=99999999;
    var promediomaximotot2=0;
    var promediominimotot2=99999999;

    var arraylsmb = new Array(12).fill(0);
    var arrayea = new Array(12).fill(0);
    var arraycei = new Array(12).fill(0);
    var arraylav = new Array(12).fill(0);
    var arrayrap = new Array(12).fill(0);
    var arraygm = new Array(12).fill(0);
    var arraybakhan = new Array(12).fill(0);

    var arraylsmb2 = new Array(12).fill(0);
    var arrayea2 = new Array(12).fill(0);
    var arraycei2 = new Array(12).fill(0);
    var arraylav2 = new Array(12).fill(0);
    var arrayrap2 = new Array(12).fill(0);
    var arraygm2 = new Array(12).fill(0);
    var arraybakhan2 = new Array(12).fill(0);

    var arraylsmbprom = new Array(12).fill(0);
    var arrayeaprom = new Array(12).fill(0);
    var arrayceiprom = new Array(12).fill(0);
    var arraylavprom = new Array(12).fill(0);
    var arrayrapprom = new Array(12).fill(0);
    var arraygmprom = new Array(12).fill(0);
    var arraybakhanprom = new Array(12).fill(0);

    var arraylsmbprom2 = new Array(12).fill(0);
    var arrayeaprom2 = new Array(12).fill(0);
    var arrayceiprom2 = new Array(12).fill(0);
    var arraylavprom2 = new Array(12).fill(0);
    var arrayrapprom2 = new Array(12).fill(0);
    var arraygmprom2 = new Array(12).fill(0);
    var arraybakhanprom2 = new Array(12).fill(0);

    var array1basico = new Array(7).fill(0);
    var array2basico = new Array(7).fill(0);
    var array3basico = new Array(7).fill(0);
    var array4basico = new Array(7).fill(0);
    var array5basico = new Array(7).fill(0);
    var array6basico = new Array(7).fill(0);
    var array7basico = new Array(7).fill(0);
    var array8basico = new Array(7).fill(0);
    var array1medio = new Array(7).fill(0);
    var array2medio = new Array(7).fill(0);
    var array3medio = new Array(7).fill(0);
    var array4medio = new Array(7).fill(0);

    var array1basico2 = new Array(7).fill(0);
    var array2basico2 = new Array(7).fill(0);
    var array3basico2 = new Array(7).fill(0);
    var array4basico2 = new Array(7).fill(0);
    var array5basico2 = new Array(7).fill(0);
    var array6basico2 = new Array(7).fill(0);
    var array7basico2 = new Array(7).fill(0);
    var array8basico2 = new Array(7).fill(0);
    var array1medio2 = new Array(7).fill(0);
    var array2medio2 = new Array(7).fill(0);
    var array3medio2 = new Array(7).fill(0);
    var array4medio2 = new Array(7).fill(0);

    var array1basicoprom = new Array(7).fill(0);
    var array2basicoprom = new Array(7).fill(0);
    var array3basicoprom = new Array(7).fill(0);
    var array4basicoprom = new Array(7).fill(0);
    var array5basicoprom = new Array(7).fill(0);
    var array6basicoprom = new Array(7).fill(0);
    var array7basicoprom = new Array(7).fill(0);
    var array8basicoprom = new Array(7).fill(0);
    var array1medioprom = new Array(7).fill(0);
    var array2medioprom = new Array(7).fill(0);
    var array3medioprom = new Array(7).fill(0);
    var array4medioprom = new Array(7).fill(0);

    var array1basicoprom2 = new Array(7).fill(0);
    var array2basicoprom2 = new Array(7).fill(0);
    var array3basicoprom2 = new Array(7).fill(0);
    var array4basicoprom2 = new Array(7).fill(0);
    var array5basicoprom2 = new Array(7).fill(0);
    var array6basicoprom2 = new Array(7).fill(0);
    var array7basicoprom2 = new Array(7).fill(0);
    var array8basicoprom2 = new Array(7).fill(0);
    var array1medioprom2 = new Array(7).fill(0);
    var array2medioprom2 = new Array(7).fill(0);
    var array3medioprom2 = new Array(7).fill(0);
    var array4medioprom2 = new Array(7).fill(0);

    var estudiantesniveles = new Array(12).fill(0);
    var estudiantesnivelesinst = new Array(7).fill(0);
    var distxnivel=[];
    var distxnivelprom=[];
    var distxinst=[];
    var distxinstprom=[];
    var elementremove = [];
    var elementremoveprom=[];
    var elementremoveinst=[];
    var elementremoveinstprom=[];

    var distxnivelejer=[];
    var distxnivelejerprom=[];
    var distxinstejer=[];
    var distxinstejerprom=[];
    var elementremoveejer = [];
    var elementremoveejerprom = [];
    var elementremoveinstejer = [];
    var elementremoveinstejerprom = [];

    var distxnivelvid=[];
    var distxnivelvidprom=[];
    var distxinstvid=[];
    var distxinstvidprom=[];
    var elementremovevid = [];
    var elementremovevidprom = [];
    var elementremoveinstvid = [];
    var elementremoveinstvidprom = [];

    var arraycontainertodo=[];

    var arraylsmbejer = new Array(12).fill(0);
    var arrayeaejer = new Array(12).fill(0);
    var arrayceiejer = new Array(12).fill(0);
    var arraylavejer = new Array(12).fill(0);
    var arrayrapejer = new Array(12).fill(0);
    var arraygmejer = new Array(12).fill(0);
    var arraybakhanejer = new Array(12).fill(0);
    var arraylsmbejer2 = new Array(12).fill(0);
    var arrayeaejer2 = new Array(12).fill(0);
    var arrayceiejer2 = new Array(12).fill(0);
    var arraylavejer2 = new Array(12).fill(0);
    var arrayrapejer2 = new Array(12).fill(0);
    var arraygmejer2 = new Array(12).fill(0);
    var arraybakhanejer2 = new Array(12).fill(0);

    var arraylsmbejerprom = new Array(12).fill(0);
    var arrayeaejerprom = new Array(12).fill(0);
    var arrayceiejerprom = new Array(12).fill(0);
    var arraylavejerprom = new Array(12).fill(0);
    var arrayrapejerprom = new Array(12).fill(0);
    var arraygmejerprom = new Array(12).fill(0);
    var arraybakhanejerprom = new Array(12).fill(0);
    var arraylsmbejerprom2 = new Array(12).fill(0);
    var arrayeaejerprom2 = new Array(12).fill(0);
    var arrayceiejerprom2 = new Array(12).fill(0);
    var arraylavejerprom2 = new Array(12).fill(0);
    var arrayrapejerprom2 = new Array(12).fill(0);
    var arraygmejerprom2 = new Array(12).fill(0);
    var arraybakhanejerprom2 = new Array(12).fill(0);

    var array1basicoejer = new Array(7).fill(0);
    var array2basicoejer = new Array(7).fill(0);
    var array3basicoejer = new Array(7).fill(0);
    var array4basicoejer = new Array(7).fill(0);
    var array5basicoejer = new Array(7).fill(0);
    var array6basicoejer = new Array(7).fill(0);
    var array7basicoejer = new Array(7).fill(0);
    var array8basicoejer = new Array(7).fill(0);
    var array1medioejer = new Array(7).fill(0);
    var array2medioejer = new Array(7).fill(0);
    var array3medioejer = new Array(7).fill(0);
    var array4medioejer = new Array(7).fill(0);
    var array1basicoejer2 = new Array(7).fill(0);
    var array2basicoejer2 = new Array(7).fill(0);
    var array3basicoejer2 = new Array(7).fill(0);
    var array4basicoejer2 = new Array(7).fill(0);
    var array5basicoejer2 = new Array(7).fill(0);
    var array6basicoejer2 = new Array(7).fill(0);
    var array7basicoejer2 = new Array(7).fill(0);
    var array8basicoejer2 = new Array(7).fill(0);
    var array1medioejer2 = new Array(7).fill(0);
    var array2medioejer2 = new Array(7).fill(0);
    var array3medioejer2 = new Array(7).fill(0);
    var array4medioejer2 = new Array(7).fill(0);

    var array1basicoejerprom = new Array(7).fill(0);
    var array2basicoejerprom = new Array(7).fill(0);
    var array3basicoejerprom = new Array(7).fill(0);
    var array4basicoejerprom = new Array(7).fill(0);
    var array5basicoejerprom = new Array(7).fill(0);
    var array6basicoejerprom = new Array(7).fill(0);
    var array7basicoejerprom = new Array(7).fill(0);
    var array8basicoejerprom = new Array(7).fill(0);
    var array1medioejerprom = new Array(7).fill(0);
    var array2medioejerprom = new Array(7).fill(0);
    var array3medioejerprom = new Array(7).fill(0);
    var array4medioejerprom = new Array(7).fill(0);
    var array1basicoejerprom2 = new Array(7).fill(0);
    var array2basicoejerprom2 = new Array(7).fill(0);
    var array3basicoejerprom2 = new Array(7).fill(0);
    var array4basicoejerprom2 = new Array(7).fill(0);
    var array5basicoejerprom2 = new Array(7).fill(0);
    var array6basicoejerprom2 = new Array(7).fill(0);
    var array7basicoejerprom2 = new Array(7).fill(0);
    var array8basicoejerprom2 = new Array(7).fill(0);
    var array1medioejerprom2 = new Array(7).fill(0);
    var array2medioejerprom2 = new Array(7).fill(0);
    var array3medioejerprom2 = new Array(7).fill(0);
    var array4medioejerprom2 = new Array(7).fill(0);

    var array1basicovid = new Array(7).fill(0);
    var array2basicovid = new Array(7).fill(0);
    var array3basicovid = new Array(7).fill(0);
    var array4basicovid = new Array(7).fill(0);
    var array5basicovid = new Array(7).fill(0);
    var array6basicovid = new Array(7).fill(0);
    var array7basicovid = new Array(7).fill(0);
    var array8basicovid = new Array(7).fill(0);
    var array1mediovid = new Array(7).fill(0);
    var array2mediovid = new Array(7).fill(0);
    var array3mediovid = new Array(7).fill(0);
    var array4mediovid = new Array(7).fill(0);
    var array1basicovid2 = new Array(7).fill(0);
    var array2basicovid2 = new Array(7).fill(0);
    var array3basicovid2 = new Array(7).fill(0);
    var array4basicovid2 = new Array(7).fill(0);
    var array5basicovid2 = new Array(7).fill(0);
    var array6basicovid2 = new Array(7).fill(0);
    var array7basicovid2 = new Array(7).fill(0);
    var array8basicovid2 = new Array(7).fill(0);
    var array1mediovid2 = new Array(7).fill(0);
    var array2mediovid2 = new Array(7).fill(0);
    var array3mediovid2 = new Array(7).fill(0);
    var array4mediovid2 = new Array(7).fill(0);

    var array1basicovidprom = new Array(7).fill(0);
    var array2basicovidprom = new Array(7).fill(0);
    var array3basicovidprom = new Array(7).fill(0);
    var array4basicovidprom = new Array(7).fill(0);
    var array5basicovidprom = new Array(7).fill(0);
    var array6basicovidprom = new Array(7).fill(0);
    var array7basicovidprom = new Array(7).fill(0);
    var array8basicovidprom = new Array(7).fill(0);
    var array1mediovidprom = new Array(7).fill(0);
    var array2mediovidprom = new Array(7).fill(0);
    var array3mediovidprom = new Array(7).fill(0);
    var array4mediovidprom = new Array(7).fill(0);
    var array1basicovidprom2 = new Array(7).fill(0);
    var array2basicovidprom2 = new Array(7).fill(0);
    var array3basicovidprom2 = new Array(7).fill(0);
    var array4basicovidprom2 = new Array(7).fill(0);
    var array5basicovidprom2 = new Array(7).fill(0);
    var array6basicovidprom2 = new Array(7).fill(0);
    var array7basicovidprom2 = new Array(7).fill(0);
    var array8basicovidprom2 = new Array(7).fill(0);
    var array1mediovidprom2 = new Array(7).fill(0);
    var array2mediovidprom2 = new Array(7).fill(0);
    var array3mediovidprom2 = new Array(7).fill(0);
    var array4mediovidprom2 = new Array(7).fill(0);

    var arraylsmbvid = new Array(12).fill(0);
    var arrayeavid = new Array(12).fill(0);
    var arrayceivid = new Array(12).fill(0);
    var arraylavvid = new Array(12).fill(0);
    var arrayrapvid = new Array(12).fill(0);
    var arraygmvid = new Array(12).fill(0);
    var arraybakhanvid = new Array(12).fill(0);
    var arraylsmbvid2 = new Array(12).fill(0);
    var arrayeavid2 = new Array(12).fill(0);
    var arrayceivid2 = new Array(12).fill(0);
    var arraylavvid2 = new Array(12).fill(0);
    var arrayrapvid2 = new Array(12).fill(0);
    var arraygmvid2 = new Array(12).fill(0);
    var arraybakhanvid2 = new Array(12).fill(0);

    var arraylsmbvidprom = new Array(12).fill(0);
    var arrayeavidprom = new Array(12).fill(0);
    var arrayceividprom = new Array(12).fill(0);
    var arraylavvidprom = new Array(12).fill(0);
    var arrayrapvidprom = new Array(12).fill(0);
    var arraygmvidprom = new Array(12).fill(0);
    var arraybakhanvidprom = new Array(12).fill(0);
    var arraylsmbvidprom2 = new Array(12).fill(0);
    var arrayeavidprom2 = new Array(12).fill(0);
    var arrayceividprom2 = new Array(12).fill(0);
    var arraylavvidprom2 = new Array(12).fill(0);
    var arrayrapvidprom2 = new Array(12).fill(0);
    var arraygmvidprom2 = new Array(12).fill(0);
    var arraybakhanvidprom2 = new Array(12).fill(0);

    var arraytpoejercicios1=[];
    var arraytpoejercicios2=[];
    var arraytpovideos1=[];
    var arraytpovideos2=[];
    var arraycantidad1=[];
    var arraycantidad2=[];

    for (var i=0;i<clase.length;i++){
      var estudiantes = clase[i]["students"];
      var level = clase[i]["level"]
      var ee = clase[i]["establecimiento"]
      var maxtpoejer1=0;
      var maxtpovid1=0;
      var maxtotejer1=0;
      var mintpoejer1=99999999;
      var mintpovid1=99999999;
      var mintotejer1=99999999;
      var estudtrabtpoejer1=0;
      var estudtrabtpovid1=0;
      var estudtrabcantejer1=0;
      var maxtpoejer2=0;
      var maxtpovid2=0;
      var maxtotejer2=0;
      var mintpoejer2=99999999;
      var mintpovid2=99999999;
      var mintotejer2=99999999;
      var estudtrabtpoejer2=0;
      var estudtrabtpovid2=0;
      var estudtrabcantejer2=0;
      totalestudiantes+=estudiantes.length;
      estudiantesniveles[level-1]+=estudiantes.length;
      for (j=0;j<estudiantes.length;j++){
        if (estudiantes[j]["total_ejercicios_1"]>maxtotejer1){
          maxtotejer1=estudiantes[j]["total_ejercicios_1"];
        }
        if (estudiantes[j]["tiempo_ejercicios_1"]>maxtpoejer1){
          maxtpoejer1=estudiantes[j]["tiempo_ejercicios_1"];
        }
        if (estudiantes[j]["tiempo_videos_1"]>maxtpovid1){
          maxtpovid1=estudiantes[j]["tiempo_videos_1"];
        }
        if (estudiantes[j]["total_ejercicios_1"]<mintotejer1 && estudiantes[j]["total_ejercicios_1"]!=0){
          mintotejer1=estudiantes[j]["total_ejercicios_1"];
        }
        if (estudiantes[j]["tiempo_ejercicios_1"]<mintpoejer1 && estudiantes[j]["tiempo_ejercicios_1"]!=0){
          mintpoejer1=estudiantes[j]["tiempo_ejercicios_1"];
        }
        if (estudiantes[j]["tiempo_videos_1"]<mintpovid1 && estudiantes[j]["tiempo_videos_1"]!=0){
          mintpovid1=estudiantes[j]["tiempo_videos_1"];
        }
        if (estudiantes[j]["total_ejercicios_1"]>0){
          estudtrabcantejer1++;
        }
        if (estudiantes[j]["tiempo_ejercicios_1"]>0){
          estudtrabtpoejer1++;
        }
        if (estudiantes[j]["tiempo_videos_1"]>0){
          estudtrabtpovid1++;
        }

        if (estudiantes[j]["total_ejercicios_2"]>maxtotejer2){
          maxtotejer2=estudiantes[j]["total_ejercicios_2"];
        }
        if (estudiantes[j]["tiempo_ejercicios_2"]>maxtpoejer2){
          maxtpoejer2=estudiantes[j]["tiempo_ejercicios_2"];
        }
        if (estudiantes[j]["tiempo_videos_2"]>maxtpovid2){
          maxtpovid2=estudiantes[j]["tiempo_videos_2"];
        }
        if (estudiantes[j]["total_ejercicios_2"]<mintotejer2 && estudiantes[j]["total_ejercicios_2"]!=0){
          mintotejer2=estudiantes[j]["total_ejercicios_2"];
        }
        if (estudiantes[j]["tiempo_ejercicios_2"]<mintpoejer2 && estudiantes[j]["tiempo_ejercicios_2"]!=0){
          mintpoejer2=estudiantes[j]["tiempo_ejercicios_2"];
        }
        if (estudiantes[j]["tiempo_videos_2"]<mintpovid1 && estudiantes[j]["tiempo_videos_2"]!=0){
          mintpovid2=estudiantes[j]["tiempo_videos_2"];
        }
        if (estudiantes[j]["total_ejercicios_2"]>0){
          estudtrabcantejer2++;
        }
        if (estudiantes[j]["tiempo_ejercicios_2"]>0){
          estudtrabtpoejer2++;
        }
        if (estudiantes[j]["tiempo_videos_2"]>0){
          estudtrabtpovid2++;
        }
      }
      if (mintpoejer1==99999999){
        mintpoejer1=0
      }
       if (mintpovid1==99999999){
        mintpovid1=0
      }
       if (mintotejer1==99999999){
        mintotejer1=0
      }
      if (mintpoejer2==99999999){
        mintpoejer2=0
      }
       if (mintpovid2==99999999){
        mintpovid2=0
      }
       if (mintotejer2==99999999){
        mintotejer2=0
      }
      var cntdd1 = clase[i]["total_ejercicios_clase_1"];
      var cntdd2 = clase[i]["total_ejercicios_clase_2"];
      var tpoejer1 = clase[i]["tiempo_ejercicios_clase_1"];
      var tpoejer2 = clase[i]["tiempo_ejercicios_clase_2"];
      var tpovid1 = clase[i]["tiempo_videos_clase_1"];
      var tpovid2 = clase[i]["tiempo_videos_clase_2"];

      var cntddprom1 = Math.round(clase[i]["total_ejercicios_clase_1"]/estudtrabcantejer1*100)/100;
      var cntddprom2 = Math.round(clase[i]["total_ejercicios_clase_2"]/estudtrabcantejer2*100)/100;
      var tpoejerprom1 = Math.round(clase[i]["tiempo_ejercicios_clase_1"]/estudtrabtpoejer1*100)/100;
      var tpoejerprom2 = Math.round(clase[i]["tiempo_ejercicios_clase_2"]/estudtrabtpoejer2*100)/100;
      var tpovidprom1 = Math.round(clase[i]["tiempo_videos_clase_1"]/estudtrabtpovid1*100)/100;
      var tpovidprom2 = Math.round(clase[i]["tiempo_videos_clase_2"]/estudtrabtpovid2*100)/100;

      if (ee=="LSMB"){
        arraylsmb[level-1]+=cntdd1;
        arraylsmb2[level-1]+=cntdd2;

        //arraylsmbprom[level-1]+=cntddprom1;
        //arraylsmbprom2[level-1]+=cntddprom2;

        estudiantesnivelesinst[0]+=estudiantes.length;

        arraylsmbejer[level-1]+=tpoejer1;
        arraylsmbejer2[level-1]+=tpoejer2;
        //arraylsmbejerprom[level-1]+=tpoejerprom1;
        //arraylsmbejerprom2[level-1]+=tpoejerprom2;

        arraylsmbvid[level-1]+=tpovid1;
        arraylsmbvid2[level-1]+=tpovid2;

        if (level==1){
          array1basico[0]+=cntdd1;
          //array1basicoprom[0]+=cntddprom1;

          array1basico2[0]+=cntdd2;
          //array1basicoprom2[0]+=cntddprom2;

          array1basicoejer[0]+=tpoejer1;
          array1basicoejer2[0]+=tpoejer2;

          array1basicovid[0]+=tpovid1;
          array1basicovid2[0]+=tpovid2;

          array1basicovidprom[0]+=tpovidprom1;
          array1basicovidprom2[0]+=tpovidprom2;
        }
        if (level==2){
          array2basico[0]+=cntdd1;
          //array2basicoprom[0]+=cntddprom1;

          array2basico2[0]+=cntdd2;
          //array2basicoprom2[0]+=cntddprom2;

          array2basicoejer[0]+=tpoejer1;
          array2basicoejer2[0]+=tpoejer2;

          array2basicovid[0]+=tpovid1;
          array2basicovid2[0]+=tpovid2;

          array2basicovidprom[0]+=tpovidprom1;
          array2basicovidprom2[0]+=tpovidprom2;
        }
        if (level==3){
          array3basico[0]+=cntdd1;
          //array3basicoprom[0]+=cntddprom1;

          array3basico2[0]+=cntdd2;
          //array3basicoprom2[0]+=cntddprom2;

          array3basicoejer[0]+=tpoejer1;
          array3basicoejer2[0]+=tpoejer2;

          array3basicovid[0]+=tpovid1;
          array3basicovid2[0]+=tpovid2;

          array3basicovidprom[0]+=tpovidprom1;
          array3basicovidprom2[0]+=tpovidprom2;
        }
        if (level==4){
          array4basico[0]+=cntdd1;
          //array4basicoprom[0]+=cntddprom1;

          array4basico2[0]+=cntdd2;
          //array4basicoprom2[0]+=cntddprom2;

          array4basicoejer[0]+=tpoejer1;
          array4basicoejer2[0]+=tpoejer2;

          array4basicovid[0]+=tpovid1;
          array4basicovid2[0]+=tpovid2;

          array4basicovidprom[0]+=tpovidprom1;
          array4basicovidprom2[0]+=tpovidprom2;
        }
        if (level==5){
          array5basico[0]+=cntdd1;
          //array5basicoprom[0]+=cntddprom1;

          array5basico2[0]+=cntdd2;
          //array5basicoprom2[0]+=cntddprom2;

          array5basicoejer[0]+=tpoejer1;
          array5basicoejer2[0]+=tpoejer2;

          array5basicovid[0]+=tpovid1;
          array5basicovid2[0]+=tpovid2;

          array5basicovidprom[0]+=tpovidprom1;
          array5basicovidprom2[0]+=tpovidprom2;
        }
        if (level==6){
          array6basico[0]+=cntdd1;
          //array6basicoprom[0]+=cntddprom1;

          array6basico2[0]+=cntdd2;
          //array6basicoprom2[0]+=cntddprom2;

          array6basicoejer[0]+=tpoejer1;
          array6basicoejer2[0]+=tpoejer2;

          array6basicovid[0]+=tpovid1;
          array6basicovid2[0]+=tpovid2;

          array6basicovidprom[0]+=tpovidprom1;
          array6basicovidprom2[0]+=tpovidprom2;
        }
        if (level==7){
          array7basico[0]+=cntdd1;
          //array7basicoprom[0]+=cntddprom1;

          array7basico2[0]+=cntdd2;
          //array7basicoprom2[0]+=cntddprom2;

          array7basicoejer[0]+=tpoejer1;
          array7basicoejer2[0]+=tpoejer2;

          array7basicovid[0]+=tpovid1;
          array7basicovid2[0]+=tpovid2;

          array7basicovidprom[0]+=tpovidprom1;
          array7basicovidprom2[0]+=tpovidprom2;
        }
        if (level==8){
          array8basico[0]+=cntdd1;
          //array8basicoprom[0]+=cntddprom1;

          array8basico2[0]+=cntdd2;
          //array8basicoprom2[0]+=cntddprom2;

          array8basicoejer[0]+=tpoejer1;
          array8basicoejer2[0]+=tpoejer2;

          array8basicovid[0]+=tpovid1;
          array8basicovid2[0]+=tpovid2;

          array8basicovidprom[0]+=tpovidprom1;
          array8basicovidprom2[0]+=tpovidprom2;
        }
        if (level==9){
          array1medio[0]+=cntdd1;
          //array1medioprom[0]+=cntddprom1;

          array1medio2[0]+=cntdd2;
          //array1medioprom2[0]+=cntddprom2;

          array1medioejer[0]+=tpoejer1;
          array1medioejer2[0]+=tpoejer2;

          array1mediovid[0]+=tpovid1;
          array1mediovid2[0]+=tpovid2;

          array1mediovidprom[0]+=tpovidprom1;
          array1mediovidprom2[0]+=tpovidprom2;
        }
        if (level==10){
          array2medio[0]+=cntdd1;
          //array2medioprom[0]+=cntddprom1;

          array2medio2[0]+=cntdd2;
          //array2medioprom2[0]+=cntddprom2;

          array2medioejer[0]+=tpoejer1;
          array2medioejer2[0]+=tpoejer2;

          array2mediovid[0]+=tpovid1;
          array2mediovid2[0]+=tpovid2;

          array2mediovidprom[0]+=tpovidprom1;
          array2mediovidprom2[0]+=tpovidprom2;
        }
        if (level==11){
          array3medio[0]+=cntdd1;
          //array3medioprom[0]+=cntddprom1;

          array3medio2[0]+=cntdd2;
          //array3medioprom2[0]+=cntddprom2;

          array3medioejer[0]+=tpoejer1;
          array3medioejer2[0]+=tpoejer2;

          array3mediovid[0]+=tpovid1;
          array3mediovid2[0]+=tpovid2;

          array3mediovidprom[0]+=tpovidprom1;
          array3mediovidprom2[0]+=tpovidprom2;
        }
        if (level==12){
          array4medio[0]+=cntdd1;
          //array4medioprom[0]+=cntddprom1;

          array4medio2[0]+=cntdd2;
          //array4medioprom2[0]+=cntddprom2;

          array4medioejer[0]+=tpoejer1;
          array4medioejer2[0]+=tpoejer2;

          array4mediovid[0]+=tpovid1;
          array4mediovid2[0]+=tpovid2;

          array4mediovidprom[0]+=tpovidprom1;
          array4mediovidprom2[0]+=tpovidprom2;
        }
      }
      if (ee=="E.A."){
        arrayea[level-1]+=cntdd1;
        arrayea2[level-1]+=cntdd2;

        //arrayeaprom[level-1]+=cntddprom1;
        //arrayeaprom2[level-1]+=cntddprom2;

        estudiantesnivelesinst[1]+=estudiantes.length;

        arrayeaejer[level-1]+=tpoejer1;
        arrayeaejer2[level-1]+=tpoejer2;
        //arrayeaejerprom[level-1]+=tpoejerprom1;
        //arrayeaejerprom2[level-1]+=tpoejerprom2;

        arrayeavid[level-1]+=tpovid1;
        arrayeavid2[level-1]+=tpovid2;

        if (level==1){
          array1basico[1]+=cntdd1;
          //array1basicoprom[1]+=cntddprom1;

          array1basico2[1]+=cntdd2;
          //array1basicoprom2[1]+=cntddprom2;

          array1basicoejer[1]+=tpoejer1;
          array1basicoejer2[1]+=tpoejer2;

          array1basicovid[1]+=tpovid1;
          array1basicovid2[1]+=tpovid2;

          array1basicovidprom[1]+=tpovidprom1;
          array1basicovidprom2[1]+=tpovidprom2;
        }
        if (level==2){
          array2basico[1]+=cntdd1;
          //array2basicoprom[1]+=cntddprom1;

          array2basico2[1]+=cntdd2;
          //array2basicoprom2[1]+=cntddprom2;

          array2basicoejer[1]+=tpoejer1;
          array2basicoejer2[1]+=tpoejer2;

          array2basicovid[1]+=tpovid1;
          array2basicovid2[1]+=tpovid2;

          array2basicovidprom[1]+=tpovidprom1;
          array2basicovidprom2[1]+=tpovidprom2;
        }
        if (level==3){
          array3basico[1]+=cntdd1;
          //array3basicoprom[1]+=cntddprom1;

          array3basico2[1]+=cntdd2;
          //array3basicoprom2[1]+=cntddprom2;

          array3basicoejer[1]+=tpoejer1;
          array3basicoejer2[1]+=tpoejer2;

          array3basicovid[1]+=tpovid1;
          array3basicovid2[1]+=tpovid2;

          array3basicovidprom[1]+=tpovidprom1;
          array3basicovidprom2[1]+=tpovidprom2;
        }
        if (level==4){
          array4basico[1]+=cntdd1;
          //array4basicoprom[1]+=cntddprom1;

          array4basico2[1]+=cntdd2;
          //array4basicoprom2[1]+=cntddprom2;

          array4basicoejer[1]+=tpoejer1;
          array4basicoejer2[1]+=tpoejer2;

          array4basicovid[1]+=tpovid1;
          array4basicovid2[1]+=tpovid2;

          array4basicovidprom[1]+=tpovidprom1;
          array4basicovidprom2[1]+=tpovidprom2;
        }
        if (level==5){
          array5basico[1]+=cntdd1;
          //array5basicoprom[1]+=cntddprom1;

          array5basico2[1]+=cntdd2;
          //array5basicoprom2[1]+=cntddprom2;

          array5basicoejer[1]+=tpoejer1;
          array5basicoejer2[1]+=tpoejer2;

          array5basicovid[1]+=tpovid1;
          array5basicovid2[1]+=tpovid2;

          array5basicovidprom[1]+=tpovidprom1;
          array5basicovidprom2[1]+=tpovidprom2;
        }
        if (level==6){
          array6basico[1]+=cntdd1;
          //array6basicoprom[1]+=cntddprom1;

          array6basico2[1]+=cntdd2;
          //array6basicoprom2[1]+=cntddprom2;

          array6basicoejer[1]+=tpoejer1;
          array6basicoejer2[1]+=tpoejer2;

          array6basicovid[1]+=tpovid1;
          array6basicovid2[1]+=tpovid2;

          array6basicovidprom[1]+=tpovidprom1;
          array6basicovidprom2[1]+=tpovidprom2;
        }
        if (level==7){
          array7basico[1]+=cntdd1;
          //array7basicoprom[1]+=cntddprom1;

          array7basico2[1]+=cntdd2;
          //array7basicoprom2[1]+=cntddprom2;

          array7basicoejer[1]+=tpoejer1;
          array7basicoejer2[1]+=tpoejer2;

          array7basicovid[1]+=tpovid1;
          array7basicovid2[1]+=tpovid2;

          array7basicovidprom[1]+=tpovidprom1;
          array7basicovidprom2[1]+=tpovidprom2;
        }
        if (level==8){
          array8basico[1]+=cntdd1;
          //array8basicoprom[1]+=cntddprom1;

          array8basico2[1]+=cntdd2;
          //array8basicoprom2[1]+=cntddprom2;

          array8basicoejer[1]+=tpoejer1;
          array8basicoejer2[1]+=tpoejer2;

          array8basicovid[1]+=tpovid1;
          array8basicovid2[1]+=tpovid2;

          array8basicovidprom[1]+=tpovidprom1;
          array8basicovidprom2[1]+=tpovidprom2;
        }
        if (level==9){
          array1medio[1]+=cntdd1;
          //array1medioprom[1]+=cntddprom1;

          array1medio2[1]+=cntdd2;
          //array1medioprom2[1]+=cntddprom2;

          array1medioejer[1]+=tpoejer1;
          array1medioejer2[1]+=tpoejer2;

          array1mediovid[1]+=tpovid1;
          array1mediovid2[1]+=tpovid2;

          array1mediovidprom[1]+=tpovidprom1;
          array1mediovidprom2[1]+=tpovidprom2;
        }
        if (level==10){
          array2medio[1]+=cntdd1;
          //array2medioprom[1]+=cntddprom1;

          array2medio2[1]+=cntdd2;
          //array2medioprom2[1]+=cntddprom2;

          array2medioejer[1]+=tpoejer1;
          array2medioejer2[1]+=tpoejer2;

          array2mediovid[1]+=tpovid1;
          array2mediovid2[1]+=tpovid2;

          array2mediovidprom[1]+=tpovidprom1;
          array2mediovidprom2[1]+=tpovidprom2;
        }
        if (level==11){
          array3medio[1]+=cntdd1;
          //array3medioprom[1]+=cntddprom1;

          array3medio2[1]+=cntdd2;
          //array3medioprom2[1]+=cntddprom2;

          array3medioejer[1]+=tpoejer1;
          array3medioejer2[1]+=tpoejer2;

          array3mediovid[1]+=tpovid1;
          array3mediovid2[1]+=tpovid2;

          array3mediovidprom[1]+=tpovidprom1;
          array3mediovidprom2[1]+=tpovidprom2;
        }
        if (level==12){
          array4medio[1]+=cntdd1;
          //array4medioprom[1]+=cntddprom1;

          array4medio2[1]+=cntdd2;
          //array4medioprom2[1]+=cntddprom2;

          array4medioejer[1]+=tpoejer1;
          array4medioejer2[1]+=tpoejer2;

          array4mediovid[1]+=tpovid1;
          array4mediovid2[1]+=tpovid2;

          array4mediovidprom[1]+=tpovidprom1;
          array4mediovidprom2[1]+=tpovidprom2;
        }
      }
      if (ee=="C.E.I."){
        arraycei[level-1]+=cntdd1;
        arraycei2[level-1]+=cntdd2;

        //arrayceiprom[level-1]+=cntddprom1;
        //arrayceiprom2[level-1]+=cntddprom2;

        estudiantesnivelesinst[2]+=estudiantes.length;

        arrayceiejer[level-1]+=tpoejer1;
        arrayceiejer2[level-1]+=tpoejer2;
        //arrayceiejerprom[level-1]+=tpoejerprom1;
        //arrayceiejerprom2[level-1]+=tpoejerprom2;

        arrayceivid[level-1]+=tpovid1;
        arrayceivid2[level-1]+=tpovid2;

        if (level==1){
          array1basico[2]+=cntdd1;
          //array1basicoprom[2]+=cntddprom1;

          array1basico2[2]+=cntdd2;
          //array1basicoprom2[2]+=cntddprom2;

          array1basicoejer[2]+=tpoejer1;
          array1basicoejer2[2]+=tpoejer2;

          array1basicovid[2]+=tpovid1;
          array1basicovid2[2]+=tpovid2;

          array1basicovidprom[2]+=tpovidprom1;
          array1basicovidprom2[2]+=tpovidprom2;
        }
        if (level==2){
          array2basico[2]+=cntdd1;
          //array2basicoprom[2]+=cntddprom1;

          array2basico2[2]+=cntdd2;
          //array2basicoprom2[2]+=cntddprom2;

          array2basicoejer[2]+=tpoejer1;
          array2basicoejer2[2]+=tpoejer2;

          array2basicovid[2]+=tpovid1;
          array2basicovid2[2]+=tpovid2;

          array2basicovidprom[2]+=tpovidprom1;
          array2basicovidprom2[2]+=tpovidprom2;
        }
        if (level==3){
          array3basico[2]+=cntdd1;
          //array3basicoprom[2]+=cntddprom1;

          array3basico2[2]+=cntdd2;
          //array3basicoprom2[2]+=cntddprom2;

          array3basicoejer[2]+=tpoejer1;
          array3basicoejer2[2]+=tpoejer2;

          array3basicovid[2]+=tpovid1;
          array3basicovid2[2]+=tpovid2;

          array3basicovidprom[2]+=tpovidprom1;
          array3basicovidprom2[2]+=tpovidprom2;
        }
        if (level==4){
          array4basico[2]+=cntdd1;
          //array4basicoprom[2]+=cntddprom1;

          array4basico2[2]+=cntdd2;
          //array4basicoprom2[2]+=cntddprom2;

          array4basicoejer[2]+=tpoejer1;
          array4basicoejer2[2]+=tpoejer2;

          array4basicovid[2]+=tpovid1;
          array4basicovid2[2]+=tpovid2;

          array4basicovidprom[2]+=tpovidprom1;
          array4basicovidprom2[2]+=tpovidprom2;
        }
        if (level==5){
          array5basico[2]+=cntdd1;
          //array5basicoprom[2]+=cntddprom1;

          array5basico2[2]+=cntdd2;
          //array5basicoprom2[2]+=cntddprom2;

          array5basicoejer[2]+=tpoejer1;
          array5basicoejer2[2]+=tpoejer2;

          array5basicovid[2]+=tpovid1;
          array5basicovid2[2]+=tpovid2;

          array5basicovidprom[2]+=tpovidprom1;
          array5basicovidprom2[2]+=tpovidprom2;
        }
        if (level==6){
          array6basico[2]+=cntdd1;
          //array6basicoprom[2]+=cntddprom1;

          array6basico2[2]+=cntdd2;
          //array6basicoprom2[2]+=cntddprom2;

          array6basicoejer[2]+=tpoejer1;
          array6basicoejer2[2]+=tpoejer2;

          array6basicovid[2]+=tpovid1;
          array6basicovid2[2]+=tpovid2;

          array6basicovidprom[2]+=tpovidprom1;
          array6basicovidprom2[2]+=tpovidprom2;
        }
        if (level==7){
          array7basico[2]+=cntdd1;
          //array7basicoprom[2]+=cntddprom1;

          array7basico2[2]+=cntdd2;
          //array7basicoprom2[2]+=cntddprom2;

          array7basicoejer[2]+=tpoejer1;
          array7basicoejer2[2]+=tpoejer2;

          array7basicovid[2]+=tpovid1;
          array7basicovid2[2]+=tpovid2;

          array7basicovidprom[2]+=tpovidprom1;
          array7basicovidprom2[2]+=tpovidprom2;
        }
        if (level==8){
          array8basico[2]+=cntdd1;
          //array8basicoprom[2]+=cntddprom1;

          array8basico2[2]+=cntdd2;
          //array8basicoprom2[2]+=cntddprom2;

          array8basicoejer[2]+=tpoejer1;
          array8basicoejer2[2]+=tpoejer2;

          array8basicovid[2]+=tpovid1;
          array8basicovid2[2]+=tpovid2;

          array8basicovidprom[2]+=tpovidprom1;
          array8basicovidprom2[2]+=tpovidprom2;
        }
        if (level==9){
          array1medio[2]+=cntdd1;
          //array1medioprom[2]+=cntddprom1;

          array1medio2[2]+=cntdd2;
          //array1medioprom2[2]+=cntddprom2;

          array1medioejer[2]+=tpoejer1;
          array1medioejer2[2]+=tpoejer2;

          array1mediovid[2]+=tpovid1;
          array1mediovid2[2]+=tpovid2;

          array1mediovidprom[2]+=tpovidprom1;
          array1mediovidprom2[2]+=tpovidprom2;
        }
        if (level==10){
          array2medio[2]+=cntdd1;
          //array2medioprom[2]+=cntddprom1;

          array2medio2[2]+=cntdd2;
          //array2medioprom2[2]+=cntddprom2;

          array2medioejer[2]+=tpoejer1;
          array2medioejer2[2]+=tpoejer2;

          array2mediovid[2]+=tpovid1;
          array2mediovid2[2]+=tpovid2;

          array2mediovidprom[2]+=tpovidprom1;
          array2mediovidprom2[2]+=tpovidprom2;
        }
        if (level==11){
          array3medio[2]+=cntdd1;
          //array3medioprom[2]+=cntddprom1;

          array3medio2[2]+=cntdd2;
          //array3medioprom2[2]+=cntddprom2;

          array3medioejer[2]+=tpoejer1;
          array3medioejer2[2]+=tpoejer2;

          array3mediovid[2]+=tpovid1;
          array3mediovid2[2]+=tpovid2;

          array3mediovidprom[2]+=tpovidprom1;
          array3mediovidprom2[2]+=tpovidprom2;
        }
        if (level==12){
          array4medio[2]+=cntdd1;
          //array4medioprom[2]+=cntddprom1;

          array4medio2[2]+=cntdd2;
          //array4medioprom2[2]+=cntddprom2;

          array4medioejer[2]+=tpoejer1;
          array4medioejer2[2]+=tpoejer2;

          array4mediovid[2]+=tpovid1;
          array4mediovid2[2]+=tpovid2;

          array4mediovidprom[2]+=tpovidprom1;
          array4mediovidprom2[2]+=tpovidprom2;
        }
      }
      if (ee=="L.A.V."){
        arraylav[level-1]+=cntdd1;
        arraylav2[level-1]+=cntdd2;

        //arraylavprom[level-1]+=cntddprom1;
        //arraylavprom2[level-1]+=cntddprom2;

        estudiantesnivelesinst[3]+=estudiantes.length;

        arraylavejer[level-1]+=tpoejer1;
        arraylavejer2[level-1]+=tpoejer2;
        //arraylavejerprom[level-1]+=tpoejerprom1;
        //arraylavejerprom2[level-1]+=tpoejerprom2;

        arraylavvid[level-1]+=tpovid1;
        arraylavvid2[level-1]+=tpovid2;

        if (level==1){
          array1basico[3]+=cntdd1;
          //array1basicoprom[3]+=cntddprom1;

          array1basico2[3]+=cntdd2;
          //array1basicoprom2[3]+=cntddprom2;

          array1basicoejer[3]+=tpoejer1;
          array1basicoejer2[3]+=tpoejer2;

          array1basicovid[3]+=tpovid1;
          array1basicovid2[3]+=tpovid2;

          array1basicovidprom[3]+=tpovidprom1;
          array1basicovidprom2[3]+=tpovidprom2;
        }
        if (level==2){
          array2basico[3]+=cntdd1;
          //array2basicoprom[3]+=cntddprom1;

          array2basico2[3]+=cntdd2;
          //array2basicoprom2[3]+=cntddprom2;

          array2basicoejer[3]+=tpoejer1;
          array2basicoejer2[3]+=tpoejer2;

          array2basicovid[3]+=tpovid1;
          array2basicovid2[3]+=tpovid2;

          array2basicovidprom[3]+=tpovidprom1;
          array2basicovidprom2[3]+=tpovidprom2;
        }
        if (level==3){
          array3basico[3]+=cntdd1;
          //array3basicoprom[3]+=cntddprom1;

          array3basico2[3]+=cntdd2;
          //array3basicoprom2[3]+=cntddprom2;

          array3basicoejer[3]+=tpoejer1;
          array3basicoejer2[3]+=tpoejer2;

          array3basicovid[3]+=tpovid1;
          array3basicovid2[3]+=tpovid2;

          array3basicovidprom[3]+=tpovidprom1;
          array3basicovidprom2[3]+=tpovidprom2;
        }
        if (level==4){
          array4basico[3]+=cntdd1;
          //array4basicoprom[3]+=cntddprom1;

          array4basico2[3]+=cntdd2;
          //array4basicoprom2[3]+=cntddprom2;

          array4basicoejer[3]+=tpoejer1;
          array4basicoejer2[3]+=tpoejer2;

          array4basicovid[3]+=tpovid1;
          array4basicovid2[3]+=tpovid2;

          array4basicovidprom[3]+=tpovidprom1;
          array4basicovidprom2[3]+=tpovidprom2;
        }
        if (level==5){
          array5basico[3]+=cntdd1;
          //array5basicoprom[3]+=cntddprom1;

          array5basico2[3]+=cntdd2;
          //array5basicoprom2[3]+=cntddprom2;

          array5basicoejer[3]+=tpoejer1;
          array5basicoejer2[3]+=tpoejer2;

          array5basicovid[3]+=tpovid1;
          array5basicovid2[3]+=tpovid2;

          array5basicovidprom[3]+=tpovidprom1;
          array5basicovidprom2[3]+=tpovidprom2;
        }
        if (level==6){
          array6basico[3]+=cntdd1;
          //array6basicoprom[3]+=cntddprom1;

          array6basico2[3]+=cntdd2;
          //array6basicoprom2[3]+=cntddprom2;

          array6basicoejer[3]+=tpoejer1;
          array6basicoejer2[3]+=tpoejer2;

          array6basicovid[3]+=tpovid1;
          array6basicovid2[3]+=tpovid2;

          array6basicovidprom[3]+=tpovidprom1;
          array6basicovidprom2[3]+=tpovidprom2;
        }
        if (level==7){
          array7basico[3]+=cntdd1;
          //array7basicoprom[3]+=cntddprom1;

          array7basico2[3]+=cntdd2;
          //array7basicoprom2[3]+=cntddprom2;

          array7basicoejer[3]+=tpoejer1;
          array7basicoejer2[3]+=tpoejer2;

          array7basicovid[3]+=tpovid1;
          array7basicovid2[3]+=tpovid2;

          array7basicovidprom[3]+=tpovidprom1;
          array7basicovidprom2[3]+=tpovidprom2;
        }
        if (level==8){
          array8basico[3]+=cntdd1;
          //array8basicoprom[3]+=cntddprom1;

          array8basico2[3]+=cntdd2;
          //array8basicoprom2[3]+=cntddprom2;

          array8basicoejer[3]+=tpoejer1;
          array8basicoejer2[3]+=tpoejer2;

          array8basicovid[3]+=tpovid1;
          array8basicovid2[3]+=tpovid2;

          array8basicovidprom[3]+=tpovidprom1;
          array8basicovidprom2[3]+=tpovidprom2;
        }
        if (level==9){
          array1medio[3]+=cntdd1;
          //array1medioprom[3]+=cntddprom1;

          array1medio2[3]+=cntdd2;
          //array1medioprom2[3]+=cntddprom2;

          array1medioejer[3]+=tpoejer1;
          array1medioejer2[3]+=tpoejer2;

          array1mediovid[3]+=tpovid1;
          array1mediovid2[3]+=tpovid2;

          array1mediovidprom[3]+=tpovidprom1;
          array1mediovidprom2[3]+=tpovidprom2;
        }
        if (level==10){
          array2medio[3]+=cntdd1;
          //array2medioprom[3]+=cntddprom1;

          array2medio2[3]+=cntdd2;
          //array2medioprom2[3]+=cntddprom2;

          array2medioejer[3]+=tpoejer1;
          array2medioejer2[3]+=tpoejer2;

          array2mediovid[3]+=tpovid1;
          array2mediovid2[3]+=tpovid2;

          array2mediovidprom[3]+=tpovidprom1;
          array2mediovidprom2[3]+=tpovidprom2;
        }
        if (level==11){
          array3medio[3]+=cntdd1;
          //array3medioprom[3]+=cntddprom1;

          array3medio2[3]+=cntdd2;
          //array3medioprom2[3]+=cntddprom2;

          array3medioejer[3]+=tpoejer1;
          array3medioejer2[3]+=tpoejer2;

          array3mediovid[3]+=tpovid1;
          array3mediovid2[3]+=tpovid2;

          array3mediovidprom[3]+=tpovidprom1;
          array3mediovidprom2[3]+=tpovidprom2;
        }
        if (level==12){
          array4medio[3]+=cntdd1;
          //array4medioprom[3]+=cntddprom1;

          array4medio2[3]+=cntdd2;
          //array4medioprom2[3]+=cntddprom2;

          array4medioejer[3]+=tpoejer1;
          array4medioejer2[3]+=tpoejer2;

          array4mediovid[3]+=tpovid1;
          array4mediovid2[3]+=tpovid2;

          array4mediovidprom[3]+=tpovidprom1;
          array4mediovidprom2[3]+=tpovidprom2;
        }
      }
      if (ee=="R.A.P."){
        arrayrap[level-1]+=cntdd1;
        arrayrap2[level-1]+=cntdd2;

        //arrayrapprom[level-1]+=cntddprom1;
        //arrayrapprom2[level-1]+=cntddprom2;

        estudiantesnivelesinst[4]+=estudiantes.length;

        arrayrapejer[level-1]+=tpoejer1;
        arrayrapejer2[level-1]+=tpoejer2;
        //arrayrapejerprom[level-1]+=tpoejerprom1;
        //arrayrapejerprom2[level-1]+=tpoejerprom2;

        arrayrapvid[level-1]+=tpovid1;
        arrayrapvid2[level-1]+=tpovid2;

        if (level==1){
          array1basico[4]+=cntdd1;
          //array1basicoprom[4]+=cntddprom1;

          array1basico2[4]+=cntdd2;
          //array1basicoprom2[4]+=cntddprom2;

          array1basicoejer[4]+=tpoejer1;
          array1basicoejer2[4]+=tpoejer2;

          array1basicovid[4]+=tpovid1;
          array1basicovid2[4]+=tpovid2;

          array1basicovidprom[4]+=tpovidprom1;
          array1basicovidprom2[4]+=tpovidprom2;
        }
        if (level==2){
          array2basico[4]+=cntdd1;
          //array2basicoprom[4]+=cntddprom1;

          array2basico2[4]+=cntdd2;
          //array2basicoprom2[4]+=cntddprom2;

          array2basicoejer[4]+=tpoejer1;
          array2basicoejer2[4]+=tpoejer2;

          array2basicovid[4]+=tpovid1;
          array2basicovid2[4]+=tpovid2;

          array2basicovidprom[4]+=tpovidprom1;
          array2basicovidprom2[4]+=tpovidprom2;
        }
        if (level==3){
          array3basico[4]+=cntdd1;
          //array3basicoprom[4]+=cntddprom1;

          array3basico2[4]+=cntdd2;
          //array3basicoprom2[4]+=cntddprom2;

          array3basicoejer[4]+=tpoejer1;
          array3basicoejer2[4]+=tpoejer2;

          array3basicovid[4]+=tpovid1;
          array3basicovid2[4]+=tpovid2;

          array3basicovidprom[4]+=tpovidprom1;
          array3basicovidprom2[4]+=tpovidprom2;
        }
        if (level==4){
          array4basico[4]+=cntdd1;
          //array4basicoprom[4]+=cntddprom1;

          array4basico2[4]+=cntdd2;
          //array4basicoprom2[4]+=cntddprom2;

          array4basicoejer[4]+=tpoejer1;
          array4basicoejer2[4]+=tpoejer2;

          array4basicovid[4]+=tpovid1;
          array4basicovid2[4]+=tpovid2;

          array4basicovidprom[4]+=tpovidprom1;
          array4basicovidprom2[4]+=tpovidprom2;
        }
        if (level==5){
          array5basico[4]+=cntdd1;
          //array5basicoprom[4]+=cntddprom1;

          array5basico2[4]+=cntdd2;
          //array5basicoprom2[4]+=cntddprom2;

          array5basicoejer[4]+=tpoejer1;
          array5basicoejer2[4]+=tpoejer2;

          array5basicovid[4]+=tpovid1;
          array5basicovid2[4]+=tpovid2;

          array5basicovidprom[4]+=tpovidprom1;
          array5basicovidprom2[4]+=tpovidprom2;
        }
        if (level==6){
          array6basico[4]+=cntdd1;
          //array6basicoprom[4]+=cntddprom1;

          array6basico2[4]+=cntdd2;
          //array6basicoprom2[4]+=cntddprom2;

          array6basicoejer[4]+=tpoejer1;
          array6basicoejer2[4]+=tpoejer2;

          array6basicovid[4]+=tpovid1;
          array6basicovid2[4]+=tpovid2;

          array6basicovidprom[4]+=tpovidprom1;
          array6basicovidprom2[4]+=tpovidprom2;
        }
        if (level==7){
          array7basico[4]+=cntdd1;
          //array7basicoprom[4]+=cntddprom1;

          array7basico2[4]+=cntdd2;
          //array7basicoprom2[4]+=cntddprom2;

          array7basicoejer[4]+=tpoejer1;
          array7basicoejer2[4]+=tpoejer2;

          array7basicovid[4]+=tpovid1;
          array7basicovid2[4]+=tpovid2;

          array7basicovidprom[4]+=tpovidprom1;
          array7basicovidprom2[4]+=tpovidprom2;
        }
        if (level==8){
          array8basico[4]+=cntdd1;
          //array8basicoprom[4]+=cntddprom1;

          array8basico2[4]+=cntdd2;
          //array8basicoprom2[4]+=cntddprom2;

          array8basicoejer[4]+=tpoejer1;
          array8basicoejer2[4]+=tpoejer2;

          array8basicovid[4]+=tpovid1;
          array8basicovid2[4]+=tpovid2;

          array8basicovidprom[4]+=tpovidprom1;
          array8basicovidprom2[4]+=tpovidprom2;
        }
        if (level==9){
          array1medio[4]+=cntdd1;
          //array1medioprom[4]+=cntddprom1;

          array1medio2[4]+=cntdd2;
          //array1medioprom2[4]+=cntddprom2;

          array1medioejer[4]+=tpoejer1;
          array1medioejer2[4]+=tpoejer2;

          array1mediovid[4]+=tpovid1;
          array1mediovid2[4]+=tpovid2;

          array1mediovidprom[4]+=tpovidprom1;
          array1mediovidprom2[4]+=tpovidprom2;
        }
        if (level==10){
          array2medio[4]+=cntdd1;
          //array2medioprom[4]+=cntddprom1;

          array2medio2[4]+=cntdd2;
          //array2medioprom2[4]+=cntddprom2;

          array2medioejer[4]+=tpoejer1;
          array2medioejer2[4]+=tpoejer2;

          array2mediovid[4]+=tpovid1;
          array2mediovid2[4]+=tpovid2;
        }
        if (level==11){
          array3medio[4]+=cntdd1;
          //array3medioprom[4]+=cntddprom1;

          array3medio2[4]+=cntdd2;
          //array3medioprom2[4]+=cntddprom2;

          array3medioejer[4]+=tpoejer1;
          array3medioejer2[4]+=tpoejer2;

          array3mediovid[4]+=tpovid1;
          array3mediovid2[4]+=tpovid2;

          array3mediovidprom[4]+=tpovidprom1;
          array3mediovidprom2[4]+=tpovidprom2;
        }
        if (level==12){
          array4medio[4]+=cntdd1;
          //array4medioprom[4]+=cntddprom1;

          array4medio2[4]+=cntdd2;
          //array4medioprom2[4]+=cntddprom2;

          array4medioejer[4]+=tpoejer1;
          array4medioejer2[4]+=tpoejer2;

          array4mediovid[4]+=tpovid1;
          array4mediovid2[4]+=tpovid2;

          array4mediovidprom[4]+=tpovidprom1;
          array4mediovidprom2[4]+=tpovidprom2;
        }
      }
      if (ee=="L.G.M."){
        arraygm[level-1]+=cntdd1;
        arraygm2[level-1]+=cntdd2;

        //arraygmprom[level-1]+=cntddprom1;
        //arraygmprom2[level-1]+=cntddprom2;

        estudiantesnivelesinst[5]+=estudiantes.length;

        arraygmejer[level-1]+=tpoejer1;
        arraygmejer2[level-1]+=tpoejer2;
        //arraygmejerprom[level-1]+=tpoejerprom1;
        //arraygmejerprom2[level-1]+=tpoejerprom2;

        arraygmvid[level-1]+=tpovid1;
        arraygmvid2[level-1]+=tpovid2;

        if (level==1){
          array1basico[5]+=cntdd1;
          //array1basicoprom[5]+=cntddprom1;

          array1basico2[5]+=cntdd2;
          //array1basicoprom2[5]+=cntddprom2;

          array1basicoejer[5]+=tpoejer1;
          array1basicoejer2[5]+=tpoejer2;

          array1basicovid[5]+=tpovid1;
          array1basicovid2[5]+=tpovid2;

          array1basicovidprom[5]+=tpovidprom1;
          array1basicovidprom2[5]+=tpovidprom2;
        }
        if (level==2){
          array2basico[5]+=cntdd1;
          //array2basicoprom[5]+=cntddprom1;

          array2basico2[5]+=cntdd2;
          //array2basicoprom2[5]+=cntddprom2;

          array2basicoejer[5]+=tpoejer1;
          array2basicoejer2[5]+=tpoejer2;

          array2basicovid[5]+=tpovid1;
          array2basicovid2[5]+=tpovid2;

          array2basicovidprom[5]+=tpovidprom1;
          array2basicovidprom2[5]+=tpovidprom2;
        }
        if (level==3){
          array3basico[5]+=cntdd1;
          //array3basicoprom[5]+=cntddprom1;

          array3basico2[5]+=cntdd2;
          //array3basicoprom2[5]+=cntddprom2;

          array3basicoejer[5]+=tpoejer1;
          array3basicoejer2[5]+=tpoejer2;

          array3basicovid[5]+=tpovid1;
          array3basicovid2[5]+=tpovid2;

          array3basicovidprom[5]+=tpovidprom1;
          array3basicovidprom2[5]+=tpovidprom2;
        }
        if (level==4){
          array4basico[5]+=cntdd1;
          //array4basicoprom[5]+=cntddprom1;

          array4basico2[5]+=cntdd2;
          //array4basicoprom2[5]+=cntddprom2;

          array4basicoejer[5]+=tpoejer1;
          array4basicoejer2[5]+=tpoejer2;

          array4basicovid[5]+=tpovid1;
          array4basicovid2[5]+=tpovid2;

          array4basicovidprom[5]+=tpovidprom1;
          array4basicovidprom2[5]+=tpovidprom2;
        }
        if (level==5){
          array5basico[5]+=cntdd1;
          //array5basicoprom[5]+=cntddprom1;

          array5basico2[5]+=cntdd2;
          //array5basicoprom2[5]+=cntddprom2;

          array5basicoejer[5]+=tpoejer1;
          array5basicoejer2[5]+=tpoejer2;

          array5basicovid[5]+=tpovid1;
          array5basicovid2[5]+=tpovid2;

          array5basicovidprom[5]+=tpovidprom1;
          array5basicovidprom2[5]+=tpovidprom2;
        }
        if (level==6){
          array6basico[5]+=cntdd1;
          //array6basicoprom[5]+=cntddprom1;

          array6basico2[5]+=cntdd2;
          //array6basicoprom2[5]+=cntddprom2;

          array6basicoejer[5]+=tpoejer1;
          array6basicoejer2[5]+=tpoejer2;

          array6basicovid[5]+=tpovid1;
          array6basicovid2[5]+=tpovid2;

          array6basicovidprom[5]+=tpovidprom1;
          array6basicovidprom2[5]+=tpovidprom2;
        }
        if (level==7){
          array7basico[5]+=cntdd1;
          //array7basicoprom[5]+=cntddprom1;

          array7basico2[5]+=cntdd2;
          //array7basicoprom2[5]+=cntddprom2;

          array7basicoejer[5]+=tpoejer1;
          array7basicoejer2[5]+=tpoejer2;

          array7basicovid[5]+=tpovid1;
          array7basicovid2[5]+=tpovid2;

          array7basicovidprom[5]+=tpovidprom1;
          array7basicovidprom2[5]+=tpovidprom2;
        }
        if (level==8){
          array8basico[5]+=cntdd1;
          //array8basicoprom[5]+=cntddprom1;

          array8basico2[5]+=cntdd2;
          //array8basicoprom2[5]+=cntddprom2;

          array8basicoejer[5]+=tpoejer1;
          array8basicoejer2[5]+=tpoejer2;

          array8basicovid[5]+=tpovid1;
          array8basicovid2[5]+=tpovid2;

          array8basicovidprom[5]+=tpovidprom1;
          array8basicovidprom2[5]+=tpovidprom2;
        }
        if (level==9){
          array1medio[5]+=cntdd1;
          //array1medioprom[5]+=cntddprom1;

          array1medio2[5]+=cntdd2;
          //array1medioprom2[5]+=cntddprom2;

          array1medioejer[5]+=tpoejer1;
          array1medioejer2[5]+=tpoejer2;

          array1mediovid[5]+=tpovid1;
          array1mediovid2[5]+=tpovid2;

          array1mediovidprom[5]+=tpovidprom1;
          array1mediovidprom2[5]+=tpovidprom2;
        }
        if (level==10){
          array2medio[5]+=cntdd1;
          //array2medioprom[5]+=cntddprom1;

          array2medio2[5]+=cntdd2;
          //array2medioprom2[5]+=cntddprom2;

          array2medioejer[5]+=tpoejer1;
          array2medioejer2[5]+=tpoejer2;

          array2mediovid[5]+=tpovid1;
          array2mediovid2[5]+=tpovid2;

          array2mediovidprom[5]+=tpovidprom1;
          array2mediovidprom2[5]+=tpovidprom2;
        }
        if (level==11){
          array3medio[5]+=cntdd1;
          //array3medioprom[5]+=cntddprom1;

          array3medio2[5]+=cntdd2;
          //array3medioprom2[5]+=cntddprom2;

          array3medioejer[5]+=tpoejer1;
          array3medioejer2[5]+=tpoejer2;

          array3mediovid[5]+=tpovid1;
          array3mediovid2[5]+=tpovid2;

          array3mediovidprom[5]+=tpovidprom1;
          array3mediovidprom2[5]+=tpovidprom2;
        }
        if (level==12){
          array4medio[5]+=cntdd1;
          //array4medioprom[5]+=cntddprom1;

          array4medio2[5]+=cntdd2;
          //array4medioprom2[5]+=cntddprom2;

          array4medioejer[5]+=tpoejer1;
          array4medioejer2[5]+=tpoejer2;

          array4mediovid[5]+=tpovid1;
          array4mediovid2[5]+=tpovid2;

          array4mediovidprom[5]+=tpovidprom1;
          array4mediovidprom2[5]+=tpovidprom2;
        }
      }
      if (ee=="BA-Khan"){
        arraybakhan[level-1]+=cntdd1;
        arraybakhan2[level-1]+=cntdd2;

        //arraybakhanprom[level-1]+=cntddprom1;
        //arraybakhanprom2[level-1]+=cntddprom2;

        estudiantesnivelesinst[6]+=estudiantes.length;

        arraybakhanejer[level-1]+=tpoejer1;
        arraybakhanejer2[level-1]+=tpoejer2;
        //arraybakhanejerprom[level-1]+=tpoejerprom1;
        //arraybakhanejerprom2[level-1]+=tpoejerprom2;

        arraybakhanvid[level-1]+=tpovid1;
        arraybakhanvid2[level-1]+=tpovid2;

        if (level==1){
          array1basico[6]+=cntdd1;
          //array1basicoprom[6]+=cntddprom1;

          array1basico2[6]+=cntdd2;
          //array1basicoprom2[6]+=cntddprom2;

          array1basicoejer[6]+=tpoejer1;
          array1basicoejer2[6]+=tpoejer2;

          array1basicovid[6]+=tpovid1;
          array1basicovid2[6]+=tpovid2;

          array1basicovidprom[6]+=tpovidprom1;
          array1basicovidprom2[6]+=tpovidprom2;
        }
        if (level==2){
          array2basico[6]+=cntdd1;
          //array2basicoprom[6]+=cntddprom1;

          array2basico2[6]+=cntdd2;
          //array2basicoprom2[6]+=cntddprom2;

          array2basicoejer[6]+=tpoejer1;
          array2basicoejer2[6]+=tpoejer2;

          array2basicovid[6]+=tpovid1;
          array2basicovid2[6]+=tpovid2;

          array2basicovidprom[6]+=tpovidprom1;
          array2basicovidprom2[6]+=tpovidprom2;
        }
        if (level==3){
          array3basico[6]+=cntdd1;
          //array3basicoprom[6]+=cntddprom1;

          array3basico2[6]+=cntdd2;
          //array3basicoprom2[6]+=cntddprom2;

          array3basicoejer[6]+=tpoejer1;
          array3basicoejer2[6]+=tpoejer2;

          array3basicovid[6]+=tpovid1;
          array3basicovid2[6]+=tpovid2;

          array3basicovidprom[6]+=tpovidprom1;
          array3basicovidprom2[6]+=tpovidprom2;
        }
        if (level==4){
          array4basico[6]+=cntdd1;
          //array4basicoprom[6]+=cntddprom1;

          array4basico2[6]+=cntdd2;
          //array4basicoprom2[6]+=cntddprom2;

          array4basicoejer[6]+=tpoejer1;
          array4basicoejer2[6]+=tpoejer2;

          array4basicovid[6]+=tpovid1;
          array4basicovid2[6]+=tpovid2;

          array4basicovidprom[6]+=tpovidprom1;
          array4basicovidprom2[6]+=tpovidprom2;
        }
        if (level==5){
          array5basico[6]+=cntdd1;
          //array5basicoprom[6]+=cntddprom1;

          array5basico2[6]+=cntdd2;
          //array5basicoprom2[6]+=cntddprom2;

          array5basicoejer[6]+=tpoejer1;
          array5basicoejer2[6]+=tpoejer2;

          array5basicovid[6]+=tpovid1;
          array5basicovid2[6]+=tpovid2;

          array5basicovidprom[6]+=tpovidprom1;
          array5basicovidprom2[6]+=tpovidprom2;
        }
        if (level==6){
          array6basico[6]+=cntdd1;
          //array6basicoprom[6]+=cntddprom1;

          array6basico2[6]+=cntdd2;
          //array6basicoprom2[6]+=cntddprom2;

          array6basicoejer[6]+=tpoejer1;
          array6basicoejer2[6]+=tpoejer2;

          array6basicovid[6]+=tpovid1;
          array6basicovid2[6]+=tpovid2;

          array6basicovidprom[6]+=tpovidprom1;
          array6basicovidprom2[6]+=tpovidprom2;
        }
        if (level==7){
          array7basico[6]+=cntdd1;
          //array7basicoprom[6]+=cntddprom1;

          array7basico2[6]+=cntdd2;
          //array7basicoprom2[6]+=cntddprom2;

          array7basicoejer[6]+=tpoejer1;
          array7basicoejer2[6]+=tpoejer2;

          array7basicovid[6]+=tpovid1;
          array7basicovid2[6]+=tpovid2;

          array7basicovidprom[6]+=tpovidprom1;
          array7basicovidprom2[6]+=tpovidprom2;
        }
        if (level==8){
          array8basico[6]+=cntdd1;
          //array8basicoprom[6]+=cntddprom1;

          array8basico2[6]+=cntdd2;
          //array8basicoprom2[6]+=cntddprom2;

          array8basicoejer[6]+=tpoejer1;
          array8basicoejer2[6]+=tpoejer2;

          array8basicovid[6]+=tpovid1;
          array8basicovid2[6]+=tpovid2;

          array8basicovidprom[6]+=tpovidprom1;
          array8basicovidprom2[6]+=tpovidprom2;
        }
        if (level==9){
          array1medio[6]+=cntdd1;
          //array1medioprom[6]+=cntddprom1;

          array1medio2[6]+=cntdd2;
          //array1medioprom2[6]+=cntddprom2;

          array1medioejer[6]+=tpoejer1;
          array1medioejer2[6]+=tpoejer2;

          array1mediovid[6]+=tpovid1;
          array1mediovid2[6]+=tpovid2;

          array1mediovidprom[6]+=tpovidprom1;
          array1mediovidprom2[6]+=tpovidprom2;
        }
        if (level==10){
          array2medio[6]+=cntdd1;
          //array2medioprom[6]+=cntddprom1;

          array2medio2[6]+=cntdd2;
          //array2medioprom2[6]+=cntddprom2;

          array2medioejer[6]+=tpoejer1;
          array2medioejer2[6]+=tpoejer2;

          array2mediovid[6]+=tpovid1;
          array2mediovid2[6]+=tpovid2;

          array2mediovidprom[6]+=tpovidprom1;
          array2mediovidprom2[6]+=tpovidprom2;
        }
        if (level==11){
          array3medio[6]+=cntdd1;
          //array3medioprom[6]+=cntddprom1;

          array3medio2[6]+=cntdd2;
          //array3medioprom2[6]+=cntddprom2;

          array3medioejer[6]+=tpoejer1;
          array3medioejer2[6]+=tpoejer2;

          array3mediovid[6]+=tpovid1;
          array3mediovid2[6]+=tpovid2;

          array3mediovidprom[6]+=tpovidprom1;
          array3mediovidprom2[6]+=tpovidprom2;
        }
        if (level==12){
          array4medio[6]+=cntdd1;
          //array4medioprom[6]+=cntddprom1;

          array4medio2[6]+=cntdd2;
          //array4medioprom2[6]+=cntddprom2;

          array4medioejer[6]+=tpoejer1;
          array4medioejer2[6]+=tpoejer2;

          array4mediovid[6]+=tpovid1;
          array4mediovid2[6]+=tpovid2;

          array4mediovidprom[6]+=tpovidprom1;
          array4mediovidprom2[6]+=tpovidprom2;
        }
      }

      totaltodos1+=clase[i]["tiempo_ejercicios_clase_1"];
      //promediotodos1+=clase[i]["tiempo_ejercicios_clase_1"]/estudtrabtpoejer1;
      if (clase[i]["tiempo_ejercicios_clase_1"]>promediomasalto1){
        promediomasalto1=clase[i]["tiempo_ejercicios_clase_1"];
      }
      if (clase[i]["tiempo_ejercicios_clase_1"]<promediomasbajo1){
        promediomasbajo1=clase[i]["tiempo_ejercicios_clase_1"];
      }
      if (maxtpoejer1>maximotodos1){
        maximotodos1=maxtpoejer1;
      }

      if (mintpoejer1<minimotodos1){
        minimotodos1=mintpoejer1;
      }
      if (clase[i]["tiempo_ejercicios_clase_1"]/estudtrabtpoejer1>promediomaximoejer){
        promediomaximoejer=clase[i]["tiempo_ejercicios_clase_1"]/estudtrabtpoejer1;
      }
      if (clase[i]["tiempo_ejercicios_clase_1"]/estudtrabtpoejer1<promediominimoejer){
        promediominimoejer=clase[i]["tiempo_ejercicios_clase_1"]/estudtrabtpoejer1;
      }

      totaltodos2+=clase[i]["tiempo_ejercicios_clase_2"];
      //promediotodos2+=(clase[i]["tiempo_ejercicios_clase_2"]/estudtrabtpoejer2);
      //console.log(promediotodos2);
      if (clase[i]["tiempo_ejercicios_clase_2"]>promediomasalto2){
        promediomasalto2=clase[i]["tiempo_ejercicios_clase_2"];
      }
      if (clase[i]["tiempo_ejercicios_clase_2"]<promediomasbajo2){
        promediomasbajo2=clase[i]["tiempo_ejercicios_clase_2"];
      }
      if (maxtpoejer2>maximotodos2){
        maximotodos2=maxtpoejer2;
      }

      if (mintpoejer2<minimotodos2){
        minimotodos2=mintpoejer2;
      }
      if (clase[i]["tiempo_ejercicios_clase_2"]/estudtrabtpoejer2>promediomaximoejer2){
        promediomaximoejer2=clase[i]["tiempo_ejercicios_clase_2"]/estudtrabtpoejer2;
      }
      if (clase[i]["tiempo_ejercicios_clase_2"]/estudtrabtpoejer2<promediominimoejer2){
        promediominimoejer2=clase[i]["tiempo_ejercicios_clase_2"]/estudtrabtpoejer2;
      }


      totaltodos1v+=clase[i]["tiempo_videos_clase_1"];
      //promediotodos1v+=clase[i]["tiempo_videos_clase_1"]/estudtrabtpovid1;
      if (clase[i]["tiempo_videos_clase_1"]>promediomasalto1v){
        promediomasalto1v=clase[i]["tiempo_videos_clase_1"];
      }
      if (clase[i]["tiempo_videos_clase_1"]<promediomasbajo1v){
        promediomasbajo1v=clase[i]["tiempo_videos_clase_1"];
      }
      if (maxtpovid1>maximotodos1v){
        maximotodos1v=maxtpovid1;
      }

      if (mintpovid1<minimotodos1v){
        minimotodos1v=mintpovid1;
      }
      if(clase[i]["tiempo_videos_clase_1"]/estudtrabtpovid1>promediomaximovid){
        promediomaximovid=clase[i]["tiempo_videos_clase_1"]/estudtrabtpovid1;
      }
      if(clase[i]["tiempo_videos_clase_1"]/estudtrabtpovid1<promediominimovid){
        promediominimovid=clase[i]["tiempo_videos_clase_1"]/estudtrabtpovid1;
      }

      totaltodos2v+=clase[i]["tiempo_videos_clase_2"];
      //promediotodos2v+=(clase[i]["tiempo_videos_clase_2"]/estudtrabtpovid2);
      if (clase[i]["tiempo_videos_clase_2"]>promediomasalto2v){
        promediomasalto2v=clase[i]["tiempo_videos_clase_2"];
      }
      if (clase[i]["tiempo_videos_clase_2"]<promediomasbajo2v){
        promediomasbajo2v=clase[i]["tiempo_videos_clase_2"];
      }
      if (maxtpovid2>maximotodos2v){
        maximotodos2v=maxtpovid2;
      }

      if (mintpovid2<minimotodos2v){
        minimotodos2v=mintpovid2;
      }
      if(clase[i]["tiempo_videos_clase_2"]/estudtrabtpovid2>promediomaximovid2){
        promediomaximovid2=clase[i]["tiempo_videos_clase_2"]/estudtrabtpovid2;
      }
      if(clase[i]["tiempo_videos_clase_2"]/estudtrabtpovid2<promediominimovid2){
        promediominimovid2=clase[i]["tiempo_videos_clase_2"]/estudtrabtpovid2;
      }


      totaltodos1t+=clase[i]["total_ejercicios_clase_1"];
      //promediotodos1t+=clase[i]["total_ejercicios_clase_1"]/estudtrabcantejer1;
      if (clase[i]["total_ejercicios_clase_1"]>promediomasalto1t){
        promediomasalto1t=clase[i]["total_ejercicios_clase_1"];
      }
      if (clase[i]["total_ejercicios_clase_1"]<promediomasbajo1t){
        promediomasbajo1t=clase[i]["total_ejercicios_clase_1"];
      }
      if (maxtotejer1>maximotodos1t){
        maximotodos1t=maxtotejer1;
      }

      if (mintotejer1<minimotodos1t){
        minimotodos1t=mintotejer1;
      }
      if(clase[i]["total_ejercicios_clase_1"]/estudtrabcantejer1>promediomaximotot){
        promediomaximotot=clase[i]["total_ejercicios_clase_1"]/estudtrabcantejer1;
      }
      if(clase[i]["total_ejercicios_clase_1"]/estudtrabcantejer1<promediominimotot){
        promediominimotot=clase[i]["total_ejercicios_clase_1"]/estudtrabcantejer1;
      }

      totaltodos2t+=clase[i]["total_ejercicios_clase_2"];
      //promediotodos2t+=(clase[i]["total_ejercicios_clase_2"]/estudtrabcantejer2);
      if (clase[i]["total_ejercicios_clase_2"]>promediomasalto2t){
        promediomasalto2t=clase[i]["total_ejercicios_clase_2"];
      }
      if (clase[i]["total_ejercicios_clase_2"]<promediomasbajo2t){
        promediomasbajo2t=clase[i]["total_ejercicios_clase_2"];
      }
      if (maxtotejer2>maximotodos2t){
        maximotodos2t=maxtotejer2;
      }

      if (mintotejer2<minimotodos2t){
        minimotodos2t=mintotejer2;
      }
      if(clase[i]["total_ejercicios_clase_2"]/estudtrabcantejer2>promediomaximotot2){
        promediomaximotot2=clase[i]["total_ejercicios_clase_2"]/estudtrabcantejer2;
      }
      if(clase[i]["total_ejercicios_clase_2"]/estudtrabcantejer2<promediominimotot2){
        promediominimotot2=clase[i]["total_ejercicios_clase_2"]/estudtrabcantejer2;
      }

      arraytpoejercicios1[i]=clase[i]["tiempo_ejercicios_clase_1"];
      arraytpoejercicios2[i]=clase[i]["tiempo_ejercicios_clase_2"];
      arraytpovideos1[i]=clase[i]["tiempo_videos_clase_1"];
      arraytpovideos2[i]=clase[i]["tiempo_videos_clase_2"]
      arraycantidad1[i]=clase[i]["total_ejercicios_clase_1"];
      arraycantidad2[i]=clase[i]["total_ejercicios_clase_2"]

      categorias[i]=clase[i]["nombre"]+' '+clase[i]["establecimiento"];
      subcategorias[2*i]=clase[i]["nombre"]+' '+clase[i]["establecimiento"]+' '+tipo1;
      subcategorias[2*i+1]=clase[i]["nombre"]+' '+clase[i]["establecimiento"]+' '+tipo2;

      arraygrande[2*i]=clase[i]["tiempo_ejercicios_clase_1"];
      arraygrande[2*i+1]=clase[i]["tiempo_ejercicios_clase_2"];

      arraygrandevideo[2*i]=clase[i]["tiempo_videos_clase_1"];
      arraygrandevideo[2*i+1]=clase[i]["tiempo_videos_clase_2"];

      tpoejercicios1[i]={"name":clase[i]["nombre"]+' '+clase[i]["establecimiento"], "y":clase[i]["tiempo_ejercicios_clase_1"], "cantidad":estudiantes.length, "trabajaron":estudtrabtpoejer1, "maximo":maxtpoejer1, "minimo":mintpoejer1, "promedio":clase[i]["tiempo_ejercicios_clase_1"]/estudtrabtpoejer1};
      tpoejercicios2[i]={"name":clase[i]["nombre"]+' '+clase[i]["establecimiento"],"y":clase[i]["tiempo_ejercicios_clase_2"], "cantidad":estudiantes.length, "trabajaron":estudtrabtpoejer2, "maximo":maxtpoejer2, "minimo":mintpoejer2, "promedio":clase[i]["tiempo_ejercicios_clase_2"]/estudtrabtpoejer2};
      tpovideos1[i]={"name":clase[i]["nombre"]+' '+clase[i]["establecimiento"],"y":clase[i]["tiempo_videos_clase_1"], "cantidad":estudiantes.length, "trabajaron":estudtrabtpovid1, "maximo":maxtpovid1, "minimo":mintpovid1, "promedio":clase[i]["tiempo_videos_clase_1"]/estudtrabtpovid1};
      tpovideos2[i]={"name":clase[i]["nombre"]+' '+clase[i]["establecimiento"],"y":clase[i]["tiempo_videos_clase_2"], "cantidad":estudiantes.length, "trabajaron":estudtrabtpovid2, "maximo":maxtpovid2, "minimo":mintpovid2, "promedio":clase[i]["tiempo_videos_clase_2"]/estudtrabtpovid2};
      cantidad1[i]={"name":clase[i]["nombre"]+' '+clase[i]["establecimiento"],"y":clase[i]["total_ejercicios_clase_1"], "cantidad":estudiantes.length, "trabajaron":estudtrabcantejer1, "maximo":maxtotejer1, "minimo":mintotejer1, "promedio":clase[i]["total_ejercicios_clase_1"]/estudtrabcantejer1};
      cantidad2[i]={"name":clase[i]["nombre"]+' '+clase[i]["establecimiento"],"y":clase[i]["total_ejercicios_clase_2"], "cantidad":estudiantes.length, "trabajaron":estudtrabcantejer2, "maximo":maxtotejer2, "minimo":mintotejer2, "promedio":clase[i]["total_ejercicios_clase_2"]/estudtrabcantejer2};
    }

    arraycontainertodo[0]={'name':'Cantidad de Ejercicios "'+tipo1+'"', 'data':arraycantidad1, 'type':'column', 'yAxis':1, 'color':'#7CB5EC', 'stack':tipo1};
    arraycontainertodo[1]={'name':'Cantidad de Ejercicios "'+tipo2+'"', 'data':arraycantidad2, 'type':'column', 'yAxis':1, 'color':'#434348', 'stack':tipo2};
    arraycontainertodo[2]={'name':'Tiempo de Ejercicios', 'data':arraygrande, 'type':'spline', 'color':'#AA4643', 'yAxis':2, 'xAxis':1,'marker':{'enabled':true}, 'lineWidth': 0};
    arraycontainertodo[3]={'name':'Tiempo de Videos', 'data':arraygrandevideo, 'type':'spline', 'color':'#89A54E', 'xAxis':1, 'lineWidth': 0};

    var realarraylsmb=[];
    var realarrayea=[];
    var realarraycei=[];
    var realarraylav=[];
    var realarrayrap=[];
    var realarraygm=[];
    var realarraybakhan=[];
    var realarraylsmb2=[];
    var realarrayea2=[];
    var realarraycei2=[];
    var realarraylav2=[];
    var realarrayrap2=[];
    var realarraygm2=[];
    var realarraybakhan2=[];
    var realarraylsmbprom=[];
    var realarrayeaprom=[];
    var realarrayceiprom=[];
    var realarraylavprom=[];
    var realarrayrapprom=[];
    var realarraygmprom=[];
    var realarraybakhanprom=[];
    var realarraylsmbprom2=[];
    var realarrayeaprom2=[];
    var realarrayceiprom2=[];
    var realarraylavprom2=[];
    var realarrayrapprom2=[];
    var realarraygmprom2=[];
    var realarraybakhanprom2=[];
    var realarraypromedio=[];
    var realarraypromedio2=[];
    var realestudiantesxnivel=[];

    var realarraylsmbejer=[];
    var realarrayeaejer=[];
    var realarrayceiejer=[];
    var realarraylavejer=[];
    var realarrayrapejer=[];
    var realarraygmejer=[];
    var realarraybakhanejer=[];
    var realarraylsmbejer2=[];
    var realarrayeaejer2=[];
    var realarrayceiejer2=[];
    var realarraylavejer2=[];
    var realarrayrapejer2=[];
    var realarraygmejer2=[];
    var realarraybakhanejer2=[];
    var realarraylsmbejerprom=[];
    var realarrayeaejerprom=[];
    var realarrayceiejerprom=[];
    var realarraylavejerprom=[];
    var realarrayrapejerprom=[];
    var realarraygmejerprom=[];
    var realarraybakhanejerprom=[];
    var realarraylsmbejerprom2=[];
    var realarrayeaejerprom2=[];
    var realarrayceiejerprom2=[];
    var realarraylavejerprom2=[];
    var realarrayrapejerprom2=[];
    var realarraygmejerprom2=[];
    var realarraybakhanejerprom2=[];
    var realarraypromedioejer=[];
    var realarraypromedioejer2=[];

    var realarraylsmbvid=[];
    var realarrayeavid=[];
    var realarrayceivid=[];
    var realarraylavvid=[];
    var realarrayrapvid=[];
    var realarraygmvid=[];
    var realarraybakhanvid=[];
    var realarraylsmbvid2=[];
    var realarrayeavid2=[];
    var realarrayceivid2=[];
    var realarraylavvid2=[];
    var realarrayrapvid2=[];
    var realarraygmvid2=[];
    var realarraybakhanvid2=[];
    var realarraylsmbvidprom=[];
    var realarrayeavidprom=[];
    var realarrayceividprom=[];
    var realarraylavvidprom=[];
    var realarrayrapvidprom=[];
    var realarraygmvidprom=[];
    var realarraybakhanvidprom=[];
    var realarraylsmbvidprom2=[];
    var realarrayeavidprom2=[];
    var realarrayceividprom2=[];
    var realarraylavvidprom2=[];
    var realarrayrapvidprom2=[];
    var realarraygmvidprom2=[];
    var realarraybakhanvidprom2=[];
    var realarraypromediovid=[];
    var realarraypromediovid2=[];

    var realarray1basico=[];
    var realarray2basico=[];
    var realarray3basico=[];
    var realarray4basico=[];
    var realarray5basico=[];
    var realarray6basico=[];
    var realarray7basico=[];
    var realarray8basico=[];
    var realarray1medio=[];
    var realarray2medio=[];
    var realarray3medio=[];
    var realarray4medio=[];
    var realarray1basico2=[];
    var realarray2basico2=[];
    var realarray3basico2=[];
    var realarray4basico2=[];
    var realarray5basico2=[];
    var realarray6basico2=[];
    var realarray7basico2=[];
    var realarray8basico2=[];
    var realarray1medio2=[];
    var realarray2medio2=[];
    var realarray3medio2=[];
    var realarray4medio2=[];

    var realarray1basicoejer=[];
    var realarray2basicoejer=[];
    var realarray3basicoejer=[];
    var realarray4basicoejer=[];
    var realarray5basicoejer=[];
    var realarray6basicoejer=[];
    var realarray7basicoejer=[];
    var realarray8basicoejer=[];
    var realarray1medioejer=[];
    var realarray2medioejer=[];
    var realarray3medioejer=[];
    var realarray4medioejer=[];
    var realarray1basicoejer2=[];
    var realarray2basicoejer2=[];
    var realarray3basicoejer2=[];
    var realarray4basicoejer2=[];
    var realarray5basicoejer2=[];
    var realarray6basicoejer2=[];
    var realarray7basicoejer2=[];
    var realarray8basicoejer2=[];
    var realarray1medioejer2=[];
    var realarray2medioejer2=[];
    var realarray3medioejer2=[];
    var realarray4medioejer2=[];

    var realarray1basicoprom=[];
    var realarray2basicoprom=[];
    var realarray3basicoprom=[];
    var realarray4basicoprom=[];
    var realarray5basicoprom=[];
    var realarray6basicoprom=[];
    var realarray7basicoprom=[];
    var realarray8basicoprom=[];
    var realarray1medioprom=[];
    var realarray2medioprom=[];
    var realarray3medioprom=[];
    var realarray4medioprom=[];
    var realarray1basicoprom2=[];
    var realarray2basicoprom2=[];
    var realarray3basicoprom2=[];
    var realarray4basicoprom2=[];
    var realarray5basicoprom2=[];
    var realarray6basicoprom2=[];
    var realarray7basicoprom2=[];
    var realarray8basicoprom2=[];
    var realarray1medioprom2=[];
    var realarray2medioprom2=[];
    var realarray3medioprom2=[];
    var realarray4medioprom2=[];

    var realarray1basicoejerprom=[];
    var realarray2basicoejerprom=[];
    var realarray3basicoejerprom=[];
    var realarray4basicoejerprom=[];
    var realarray5basicoejerprom=[];
    var realarray6basicoejerprom=[];
    var realarray7basicoejerprom=[];
    var realarray8basicoejerprom=[];
    var realarray1medioejerprom=[];
    var realarray2medioejerprom=[];
    var realarray3medioejerprom=[];
    var realarray4medioejerprom=[];
    var realarray1basicoejerprom2=[];
    var realarray2basicoejerprom2=[];
    var realarray3basicoejerprom2=[];
    var realarray4basicoejerprom2=[];
    var realarray5basicoejerprom2=[];
    var realarray6basicoejerprom2=[];
    var realarray7basicoejerprom2=[];
    var realarray8basicoejerprom2=[];
    var realarray1medioejerprom2=[];
    var realarray2medioejerprom2=[];
    var realarray3medioejerprom2=[];
    var realarray4medioejerprom2=[];

    var realarraypromedioinst=[];
    var realarraypromedioinst2=[];
    var realarraypromedioejerinst=[];
    var realarraypromedioejerinst2=[];
    var realestudiantesxnivelinst=[];
    var categoriasdxireal=[];

    var arraypromedio= new Array(12).fill(0);
    for (var i = 0; i < arraylsmb.length; i++) {
      var average=(arraylsmb[i]+arrayea[i]+arraycei[i]+arraylav[i]+arrayrap[i]+arraygm[i]+arraybakhan[i])/estudiantesniveles[i];
      arraylsmbprom[i]=Math.round(arraylsmb[i]/estudiantesniveles[i]*100)/100;
      arrayeaprom[i]=Math.round(arrayea[i]/estudiantesniveles[i]*100)/100;
      arrayceiprom[i]=Math.round(arraycei[i]/estudiantesniveles[i]*100)/100;
      arraylavprom[i]=Math.round(arraylav[i]/estudiantesniveles[i]*100)/100;
      arrayrapprom[i]=Math.round(arrayrap[i]/estudiantesniveles[i]*100)/100;
      arraygmprom[i]=Math.round(arraygm[i]/estudiantesniveles[i]*100)/100;
      arraybakhanprom[i]=Math.round(arraybakhan[i]/estudiantesniveles[i]*100)/100;
      arraylsmbprom2[i]=Math.round(arraylsmb2[i]/estudiantesniveles[i]*100)/100;
      arrayeaprom2[i]=Math.round(arrayea2[i]/estudiantesniveles[i]*100)/100;
      arrayceiprom2[i]=Math.round(arraycei2[i]/estudiantesniveles[i]*100)/100;
      arraylavprom2[i]=Math.round(arraylav2[i]/estudiantesniveles[i]*100)/100;
      arrayrapprom2[i]=Math.round(arrayrap2[i]/estudiantesniveles[i]*100)/100;
      arraygmprom2[i]=Math.round(arraygm2[i]/estudiantesniveles[i]*100)/100;
      arraybakhanprom2[i]=Math.round(arraybakhan2[i]/estudiantesniveles[i]*100)/100;

      arraylsmbejerprom[i]=Math.round(arraylsmbejer[i]/estudiantesniveles[i]*100)/100;
      arrayeaejerprom[i]=Math.round(arrayeaejer[i]/estudiantesniveles[i]*100)/100;
      arrayceiejerprom[i]=Math.round(arrayceiejer[i]/estudiantesniveles[i]*100)/100;
      arraylavejerprom[i]=Math.round(arraylavejer[i]/estudiantesniveles[i]*100)/100;
      arrayrapejerprom[i]=Math.round(arrayrapejer[i]/estudiantesniveles[i]*100)/100;
      arraygmejerprom[i]=Math.round(arraygmejer[i]/estudiantesniveles[i]*100)/100;
      arraybakhanejerprom[i]=Math.round(arraybakhanejer[i]/estudiantesniveles[i]*100)/100;
      arraylsmbejerprom2[i]=Math.round(arraylsmbejer2[i]/estudiantesniveles[i]*100)/100;
      arrayeaejerprom2[i]=Math.round(arrayeaejer2[i]/estudiantesniveles[i]*100)/100;
      arrayceiejerprom2[i]=Math.round(arrayceiejer2[i]/estudiantesniveles[i]*100)/100;
      arraylavejerprom2[i]=Math.round(arraylavejer2[i]/estudiantesniveles[i]*100)/100;
      arrayrapejerprom2[i]=Math.round(arrayrapejer2[i]/estudiantesniveles[i]*100)/100;
      arraygmejerprom2[i]=Math.round(arraygmejer2[i]/estudiantesniveles[i]*100)/100;
      arraybakhanejerprom2[i]=Math.round(arraybakhanejer2[i]/estudiantesniveles[i]*100)/100;

      arraylsmbvidprom[i]=Math.round(arraylsmbvid[i]/estudiantesniveles[i]*100)/100;
      arrayeavidprom[i]=Math.round(arrayeavid[i]/estudiantesniveles[i]*100)/100;
      arrayceividprom[i]=Math.round(arrayceivid[i]/estudiantesniveles[i]*100)/100;
      arraylavvidprom[i]=Math.round(arraylavvid[i]/estudiantesniveles[i]*100)/100;
      arrayrapvidprom[i]=Math.round(arrayrapvid[i]/estudiantesniveles[i]*100)/100;
      arraygmvidprom[i]=Math.round(arraygmvid[i]/estudiantesniveles[i]*100)/100;
      arraybakhanvidprom[i]=Math.round(arraybakhanvid[i]/estudiantesniveles[i]*100)/100;
      arraylsmbvidprom2[i]=Math.round(arraylsmbvid2[i]/estudiantesniveles[i]*100)/100;
      arrayeavidprom2[i]=Math.round(arrayeavid2[i]/estudiantesniveles[i]*100)/100;
      arrayceividprom2[i]=Math.round(arrayceivid2[i]/estudiantesniveles[i]*100)/100;
      arraylavvidprom2[i]=Math.round(arraylavvid2[i]/estudiantesniveles[i]*100)/100;
      arrayrapvidprom2[i]=Math.round(arrayrapvid2[i]/estudiantesniveles[i]*100)/100;
      arraygmvidprom2[i]=Math.round(arraygmvid2[i]/estudiantesniveles[i]*100)/100;
      arraybakhanvidprom2[i]=Math.round(arraybakhanvid2[i]/estudiantesniveles[i]*100)/100;

      if (isNaN(arraylsmbprom[i])){
        arraylsmbprom[i]=0;
      }
      if (isNaN(arrayeaprom[i])){
        arrayeaprom[i]=0;
      }
      if (isNaN(arrayceiprom[i])){
        arrayceiprom[i]=0;
      }
      if (isNaN(arraylavprom[i])){
        arraylavprom[i]=0;
      }
      if (isNaN(arrayrapprom[i])){
        arrayrapprom[i]=0;
      }
      if (isNaN(arraygmprom[i])){
        arraygmprom[i]=0;
      }
      if (isNaN(arraybakhanprom[i])){
        arraybakhanprom[i]=0;
      }
      if (isNaN(arraylsmbprom2[i])){
        arraylsmbprom2[i]=0;
      }
      if (isNaN(arrayeaprom2[i])){
        arrayeaprom2[i]=0;
      }
      if (isNaN(arrayceiprom2[i])){
        arrayceiprom2[i]=0;
      }
      if (isNaN(arraylavprom2[i])){
        arraylavprom2[i]=0;
      }
      if (isNaN(arrayrapprom2[i])){
        arrayrapprom2[i]=0;
      }
      if (isNaN(arraygmprom2[i])){
        arraygmprom2[i]=0;
      }
      if (isNaN(arraybakhanprom2[i])){
        arraybakhanprom2[i]=0;
      }

      if (isNaN(arraylsmbejerprom[i])){
        arraylsmbejerprom[i]=0;
      }
      if (isNaN(arrayeaejerprom[i])){
        arrayeaejerprom[i]=0;
      }
      if (isNaN(arrayceiejerprom[i])){
        arrayceiejerprom[i]=0;
      }
      if (isNaN(arraylavejerprom[i])){
        arraylavejerprom[i]=0;
      }
      if (isNaN(arrayrapejerprom[i])){
        arrayrapejerprom[i]=0;
      }
      if (isNaN(arraygmejerprom[i])){
        arraygmejerprom[i]=0;
      }
      if (isNaN(arraybakhanejerprom[i])){
        arraybakhanejerprom[i]=0;
      }
      if (isNaN(arraylsmbejerprom2[i])){
        arraylsmbejerprom2[i]=0;
      }
      if (isNaN(arrayeaejerprom2[i])){
        arrayeaejerprom2[i]=0;
      }
      if (isNaN(arrayceiejerprom2[i])){
        arrayceiejerprom2[i]=0;
      }
      if (isNaN(arraylavejerprom2[i])){
        arraylavejerprom2[i]=0;
      }
      if (isNaN(arrayrapejerprom2[i])){
        arrayrapejerprom2[i]=0;
      }
      if (isNaN(arraygmejerprom2[i])){
        arraygmejerprom2[i]=0;
      }
      if (isNaN(arraybakhanejerprom2[i])){
        arraybakhanejerprom2[i]=0;
      }

      if (isNaN(arraylsmbvidprom[i])){
        arraylsmbvidprom[i]=0;
      }
      if (isNaN(arrayeavidprom[i])){
        arrayeavidprom[i]=0;
      }
      if (isNaN(arrayceividprom[i])){
        arrayceividprom[i]=0;
      }
      if (isNaN(arraylavvidprom[i])){
        arraylavvidprom[i]=0;
      }
      if (isNaN(arrayrapvidprom[i])){
        arrayrapvidprom[i]=0;
      }
      if (isNaN(arraygmvidprom[i])){
        arraygmvidprom[i]=0;
      }
      if (isNaN(arraybakhanvidprom[i])){
        arraybakhanvidprom[i]=0;
      }
      if (isNaN(arraylsmbvidprom2[i])){
        arraylsmbvidprom2[i]=0;
      }
      if (isNaN(arrayeavidprom2[i])){
        arrayeavidprom2[i]=0;
      }
      if (isNaN(arrayceividprom2[i])){
        arrayceividprom2[i]=0;
      }
      if (isNaN(arraylavvidprom2[i])){
        arraylavvidprom2[i]=0;
      }
      if (isNaN(arrayrapvidprom2[i])){
        arrayrapvidprom2[i]=0;
      }
      if (isNaN(arraygmvidprom2[i])){
        arraygmvidprom2[i]=0;
      }
      if (isNaN(arraybakhanvidprom2[i])){
        arraybakhanvidprom2[i]=0;
      }

      if (isNaN(average)){
        arraypromedio[i]=0;
      }
      else{
        arraypromedio[i]=Math.round(average*100)/100;
      }
    }
    var arraypromedio2 = new Array(12).fill(0);
    for (var i = 0; i < arraylsmb2.length; i++) {
      var average2=(arraylsmb2[i]+arrayea2[i]+arraycei2[i]+arraylav2[i]+arrayrap2[i]+arraygm2[i]+arraybakhan2[i])/estudiantesniveles[i];
      if (isNaN(average2)){
        arraypromedio2[i]=0;
      }
      else{
        arraypromedio2[i]=Math.round(average2*100)/100;
      }
    }

    var arraypromedioejer = new Array(12).fill(0);
    for (var i = 0; i < arraylsmbejer.length; i++) {
      var average=(arraylsmbejer[i]+arrayeaejer[i]+arrayceiejer[i]+arraylavejer[i]+arrayrapejer[i]+arraygmejer[i]+arraybakhanejer[i])/estudiantesniveles[i];
      if (isNaN(average)){
        arraypromedioejer[i]=0;
      }
      else{
        arraypromedioejer[i]=Math.round(average*100)/100;
      }
    }
    var arraypromedioejer2 = new Array(12).fill(0);
    for (var i = 0; i < arraylsmbejer2.length; i++) {
      var average2=(arraylsmbejer2[i]+arrayeaejer2[i]+arrayceiejer2[i]+arraylavejer2[i]+arrayrapejer2[i]+arraygmejer2[i]+arraybakhanejer2[i])/estudiantesniveles[i];
      if (isNaN(average2)){
        arraypromedioejer2[i]=0;
      }
      else{
        arraypromedioejer2[i]=Math.round(average2*100)/100;
      }
    }

    var arraypromediovid = new Array(12).fill(0);
    for (var i = 0; i < arraylsmbvid.length; i++) {
      var average=(arraylsmbvid[i]+arrayeavid[i]+arrayceivid[i]+arraylavvid[i]+arrayrapvid[i]+arraygmvid[i]+arraybakhanvid[i])/estudiantesniveles[i];
      if (isNaN(average)){
        arraypromediovid[i]=0;
      }
      else{
        arraypromediovid[i]=Math.round(average*100)/100;
      }
    }
    var arraypromediovid2 = new Array(12).fill(0);
    for (var i = 0; i < arraylsmbvid2.length; i++) {
      var average2=(arraylsmbvid2[i]+arrayeavid2[i]+arrayceivid2[i]+arraylavvid2[i]+arrayrapvid2[i]+arraygmvid2[i]+arraybakhanvid2[i])/estudiantesniveles[i];
      if (isNaN(average2)){
        arraypromediovid2[i]=0;
      }
      else{
        arraypromediovid2[i]=Math.round(average2*100)/100;
      }
    }

    var categoriasdxn = ['1ro basico','2do basico','3ro basico','4to basico','5to basico','6to basico','7mo basico','8vo basico','1ro medio','2do medio','3ro medio','4to medio'];
    var arraydedatos=[];
    var realcategoriasdxn=[];
    var count = 0;
    for (var i = 0; i < estudiantesniveles.length; i++) {
      if(estudiantesniveles[i]!=0){
        realarraylsmb[count]=arraylsmb[i];
        realarrayea[count]=arrayea[i];
        realarraycei[count]=arraycei[i];
        realarraylav[count]=arraylav[i];
        realarrayrap[count]=arrayrap[i];
        realarraygm[count]=arraygm[i];
        realarraybakhan[count]=arraybakhan[i];
        realarraylsmb2[count]=arraylsmb2[i];
        realarrayea2[count]=arrayea2[i];
        realarraycei2[count]=arraycei2[i];
        realarraylav2[count]=arraylav2[i];
        realarrayrap2[count]=arrayrap2[i];
        realarraygm2[count]=arraygm2[i];
        realarraybakhan2[count]=arraybakhan2[i];

        realarraylsmbejer[count]=arraylsmbejer[i];
        realarrayeaejer[count]=arrayeaejer[i];
        realarrayceiejer[count]=arrayceiejer[i];
        realarraylavejer[count]=arraylavejer[i];
        realarrayrapejer[count]=arrayrapejer[i];
        realarraygmejer[count]=arraygmejer[i];
        realarraybakhanejer[count]=arraybakhanejer[i];
        realarraylsmbejer2[count]=arraylsmbejer2[i];
        realarrayeaejer2[count]=arrayeaejer2[i];
        realarrayceiejer2[count]=arrayceiejer2[i];
        realarraylavejer2[count]=arraylavejer2[i];
        realarrayrapejer2[count]=arrayrapejer2[i];
        realarraygmejer2[count]=arraygmejer2[i];
        realarraybakhanejer2[count]=arraybakhanejer2[i];

        realarraylsmbejerprom[count]=arraylsmbejerprom[i];
        realarrayeaejerprom[count]=arrayeaejerprom[i];
        realarrayceiejerprom[count]=arrayceiejerprom[i];
        realarraylavejerprom[count]=arraylavejerprom[i];
        realarrayrapejerprom[count]=arrayrapejerprom[i];
        realarraygmejerprom[count]=arraygmejerprom[i];
        realarraybakhanejerprom[count]=arraybakhanejerprom[i];
        realarraylsmbejerprom2[count]=arraylsmbejerprom2[i];
        realarrayeaejerprom2[count]=arrayeaejerprom2[i];
        realarrayceiejerprom2[count]=arrayceiejerprom2[i];
        realarraylavejerprom2[count]=arraylavejerprom2[i];
        realarrayrapejerprom2[count]=arrayrapejerprom2[i];
        realarraygmejerprom2[count]=arraygmejerprom2[i];
        realarraybakhanejerprom2[count]=arraybakhanejerprom2[i];

        realarraylsmbvid[count]=arraylsmbvid[i];
        realarrayeavid[count]=arrayeavid[i];
        realarrayceivid[count]=arrayceivid[i];
        realarraylavvid[count]=arraylavvid[i];
        realarrayrapvid[count]=arrayrapvid[i];
        realarraygmvid[count]=arraygmvid[i];
        realarraybakhanvid[count]=arraybakhanvid[i];
        realarraylsmbvid2[count]=arraylsmbvid2[i];
        realarrayeavid2[count]=arrayeavid2[i];
        realarrayceivid2[count]=arrayceivid2[i];
        realarraylavvid2[count]=arraylavvid2[i];
        realarrayrapvid2[count]=arrayrapvid2[i];
        realarraygmvid2[count]=arraygmvid2[i];
        realarraybakhanvid2[count]=arraybakhanvid2[i];

        realarraylsmbvidprom[count]=arraylsmbvidprom[i];
        realarrayeavidprom[count]=arrayeavidprom[i];
        realarrayceividprom[count]=arrayceividprom[i];
        realarraylavvidprom[count]=arraylavvidprom[i];
        realarrayrapvidprom[count]=arrayrapvidprom[i];
        realarraygmvidprom[count]=arraygmvidprom[i];
        realarraybakhanvidprom[count]=arraybakhanvidprom[i];
        realarraylsmbvidprom2[count]=arraylsmbvidprom2[i];
        realarrayeavidprom2[count]=arrayeavidprom2[i];
        realarrayceividprom2[count]=arrayceividprom2[i];
        realarraylavvidprom2[count]=arraylavvidprom2[i];
        realarrayrapvidprom2[count]=arrayrapvidprom2[i];
        realarraygmvidprom2[count]=arraygmvidprom2[i];
        realarraybakhanvidprom2[count]=arraybakhanvidprom2[i];

        realarraypromedio[count]=arraypromedio[i];
        realarraypromedio2[count]=arraypromedio2[i];
        realestudiantesxnivel[2*count]=estudiantesniveles[i];
        realestudiantesxnivel[2*count+1]=estudiantesniveles[i];
        realarraylsmbprom[count]=arraylsmbprom[i];
        realarrayeaprom[count]=arrayeaprom[i];
        realarrayceiprom[count]=arrayceiprom[i];
        realarraylavprom[count]=arraylavprom[i];
        realarrayrapprom[count]=arrayrapprom[i];
        realarraygmprom[count]=arraygmprom[i];
        realarraybakhanprom[count]=arraybakhanprom[i];
        realarraylsmbprom2[count]=arraylsmbprom2[i];
        realarrayeaprom2[count]=arrayeaprom2[i];
        realarrayceiprom2[count]=arrayceiprom2[i];
        realarraylavprom2[count]=arraylavprom2[i];
        realarrayrapprom2[count]=arrayrapprom2[i];
        realarraygmprom2[count]=arraygmprom2[i];
        realarraybakhanprom2[count]=arraybakhanprom2[i];
        realcategoriasdxn[count]=categoriasdxn[i];

        realarraypromedioejer[count]=arraypromedioejer[i];
        realarraypromedioejer2[count]=arraypromedioejer2[i];
        realarraypromediovid[count]=arraypromediovid[i];
        realarraypromediovid2[count]=arraypromediovid2[i];
        count++;
      }
    }

    var arraypromedioinst= new Array(6).fill(0);
    for (var i = 0; i < array1basico.length; i++) {
      var average=(array1basico[i]+array2basico[i]+array3basico[i]+array4basico[i]+array5basico[i]+array6basico[i]+array7basico[i]+array8basico[i]+array1medio[i]+array2medio[i]+array3medio[i]+array4medio[i])/estudiantesnivelesinst[i];
      array1basicoprom[i]=Math.round(array1basico[i]/estudiantesnivelesinst[i]*100)/100;
      array2basicoprom[i]=Math.round(array2basico[i]/estudiantesnivelesinst[i]*100)/100;
      array3basicoprom[i]=Math.round(array3basico[i]/estudiantesnivelesinst[i]*100)/100;
      array4basicoprom[i]=Math.round(array4basico[i]/estudiantesnivelesinst[i]*100)/100;
      array5basicoprom[i]=Math.round(array5basico[i]/estudiantesnivelesinst[i]*100)/100;
      array6basicoprom[i]=Math.round(array6basico[i]/estudiantesnivelesinst[i]*100)/100;
      array7basicoprom[i]=Math.round(array7basico[i]/estudiantesnivelesinst[i]*100)/100;
      array8basicoprom[i]=Math.round(array8basico[i]/estudiantesnivelesinst[i]*100)/100;
      array1medioprom[i]=Math.round(array1medio[i]/estudiantesnivelesinst[i]*100)/100;
      array2medioprom[i]=Math.round(array2medio[i]/estudiantesnivelesinst[i]*100)/100;
      array3medioprom[i]=Math.round(array3medio[i]/estudiantesnivelesinst[i]*100)/100;
      array4medioprom[i]=Math.round(array4medio[i]/estudiantesnivelesinst[i]*100)/100;
      array1basicoprom2[i]=Math.round(array1basico2[i]/estudiantesnivelesinst[i]*100)/100;
      array2basicoprom2[i]=Math.round(array2basico2[i]/estudiantesnivelesinst[i]*100)/100;
      array3basicoprom2[i]=Math.round(array3basico2[i]/estudiantesnivelesinst[i]*100)/100;
      array4basicoprom2[i]=Math.round(array4basico2[i]/estudiantesnivelesinst[i]*100)/100;
      array5basicoprom2[i]=Math.round(array5basico2[i]/estudiantesnivelesinst[i]*100)/100;
      array6basicoprom2[i]=Math.round(array6basico2[i]/estudiantesnivelesinst[i]*100)/100;
      array7basicoprom2[i]=Math.round(array7basico2[i]/estudiantesnivelesinst[i]*100)/100;
      array8basicoprom2[i]=Math.round(array8basico2[i]/estudiantesnivelesinst[i]*100)/100;
      array1medioprom2[i]=Math.round(array1medio2[i]/estudiantesnivelesinst[i]*100)/100;
      array2medioprom2[i]=Math.round(array2medio2[i]/estudiantesnivelesinst[i]*100)/100;
      array3medioprom2[i]=Math.round(array3medio2[i]/estudiantesnivelesinst[i]*100)/100;
      array4medioprom2[i]=Math.round(array4medio2[i]/estudiantesnivelesinst[i]*100)/100;

      array1basicoejerprom[i]=Math.round(array1basicoejer[i]/estudiantesnivelesinst[i]*100)/100;
      array2basicoejerprom[i]=Math.round(array2basicoejer[i]/estudiantesnivelesinst[i]*100)/100;
      array3basicoejerprom[i]=Math.round(array3basicoejer[i]/estudiantesnivelesinst[i]*100)/100;
      array4basicoejerprom[i]=Math.round(array4basicoejer[i]/estudiantesnivelesinst[i]*100)/100;
      array5basicoejerprom[i]=Math.round(array5basicoejer[i]/estudiantesnivelesinst[i]*100)/100;
      array6basicoejerprom[i]=Math.round(array6basicoejer[i]/estudiantesnivelesinst[i]*100)/100;
      array7basicoejerprom[i]=Math.round(array7basicoejer[i]/estudiantesnivelesinst[i]*100)/100;
      array8basicoejerprom[i]=Math.round(array8basicoejer[i]/estudiantesnivelesinst[i]*100)/100;
      array1medioejerprom[i]=Math.round(array1medioejer[i]/estudiantesnivelesinst[i]*100)/100;
      array2medioejerprom[i]=Math.round(array2medioejer[i]/estudiantesnivelesinst[i]*100)/100;
      array3medioejerprom[i]=Math.round(array3medioejer[i]/estudiantesnivelesinst[i]*100)/100;
      array4medioejerprom[i]=Math.round(array4medioejer[i]/estudiantesnivelesinst[i]*100)/100;
      array1basicoejerprom2[i]=Math.round(array1basicoejer2[i]/estudiantesnivelesinst[i]*100)/100;
      array2basicoejerprom2[i]=Math.round(array2basicoejer2[i]/estudiantesnivelesinst[i]*100)/100;
      array3basicoejerprom2[i]=Math.round(array3basicoejer2[i]/estudiantesnivelesinst[i]*100)/100;
      array4basicoejerprom2[i]=Math.round(array4basicoejer2[i]/estudiantesnivelesinst[i]*100)/100;
      array5basicoejerprom2[i]=Math.round(array5basicoejer2[i]/estudiantesnivelesinst[i]*100)/100;
      array6basicoejerprom2[i]=Math.round(array6basicoejer2[i]/estudiantesnivelesinst[i]*100)/100;
      array7basicoejerprom2[i]=Math.round(array7basicoejer2[i]/estudiantesnivelesinst[i]*100)/100;
      array8basicoejerprom2[i]=Math.round(array8basicoejer2[i]/estudiantesnivelesinst[i]*100)/100;
      array1medioejerprom2[i]=Math.round(array1medioejer2[i]/estudiantesnivelesinst[i]*100)/100;
      array2medioejerprom2[i]=Math.round(array2medioejer2[i]/estudiantesnivelesinst[i]*100)/100;
      array3medioejerprom2[i]=Math.round(array3medioejer2[i]/estudiantesnivelesinst[i]*100)/100;
      array4medioejerprom2[i]=Math.round(array4medioejer2[i]/estudiantesnivelesinst[i]*100)/100;

      if (isNaN(array1basicoprom[i])){
        array1basicoprom[i]=0;
      }
      if (isNaN(array2basicoprom[i])){
        array2basicoprom[i]=0;
      }
      if (isNaN(array3basicoprom[i])){
        array3basicoprom[i]=0;
      }
      if (isNaN(array4basicoprom[i])){
        array4basicoprom[i]=0;
      }
      if (isNaN(array5basicoprom[i])){
        array5basicoprom[i]=0;
      }
      if (isNaN(array6basicoprom[i])){
        array6basicoprom[i]=0;
      }
      if (isNaN(array7basicoprom[i])){
        array7basicoprom[i]=0;
      }
      if (isNaN(array8basicoprom[i])){
        array8basicoprom[i]=0;
      }
      if (isNaN(array1medioprom[i])){
        array1medioprom[i]=0;
      }
      if (isNaN(array2medioprom[i])){
        array2medioprom[i]=0;
      }
      if (isNaN(array3medioprom[i])){
        array3medioprom[i]=0;
      }
      if (isNaN(array4medioprom[i])){
        array4medioprom[i]=0;
      }
      if (isNaN(array1basicoprom2[i])){
        array1basicoprom2[i]=0;
      }
      if (isNaN(array2basicoprom2[i])){
        array2basicoprom2[i]=0;
      }
      if (isNaN(array3basicoprom2[i])){
        array3basicoprom2[i]=0;
      }
      if (isNaN(array4basicoprom2[i])){
        array4basicoprom2[i]=0;
      }
      if (isNaN(array5basicoprom2[i])){
        array5basicoprom2[i]=0;
      }
      if (isNaN(array6basicoprom2[i])){
        array6basicoprom2[i]=0;
      }
      if (isNaN(array7basicoprom2[i])){
        array7basicoprom2[i]=0;
      }
      if (isNaN(array8basicoprom2[i])){
        array8basicoprom2[i]=0;
      }
      if (isNaN(array1medioprom2[i])){
        array1medioprom2[i]=0;
      }
      if (isNaN(array2medioprom2[i])){
        array2medioprom2[i]=0;
      }
      if (isNaN(array3medioprom2[i])){
        array3medioprom2[i]=0;
      }
      if (isNaN(array4medioprom2[i])){
        array4medioprom2[i]=0;
      }

      if (isNaN(array1basicoejerprom[i])){
        array1basicoejerprom[i]=0;
      }
      if (isNaN(array2basicoejerprom[i])){
        array2basicoejerprom[i]=0;
      }
      if (isNaN(array3basicoejerprom[i])){
        array3basicoejerprom[i]=0;
      }
      if (isNaN(array4basicoejerprom[i])){
        array4basicoejerprom[i]=0;
      }
      if (isNaN(array5basicoejerprom[i])){
        array5basicoejerprom[i]=0;
      }
      if (isNaN(array6basicoejerprom[i])){
        array6basicoejerprom[i]=0;
      }
      if (isNaN(array7basicoejerprom[i])){
        array7basicoejerprom[i]=0;
      }
      if (isNaN(array8basicoejerprom[i])){
        array8basicoejerprom[i]=0;
      }
      if (isNaN(array1medioejerprom[i])){
        array1medioejerprom[i]=0;
      }
      if (isNaN(array2medioejerprom[i])){
        array2medioejerprom[i]=0;
      }
      if (isNaN(array3medioejerprom[i])){
        array3medioejerprom[i]=0;
      }
      if (isNaN(array4medioejerprom[i])){
        array4medioejerprom[i]=0;
      }
      if (isNaN(array1basicoejerprom2[i])){
        array1basicoejerprom2[i]=0;
      }
      if (isNaN(array2basicoejerprom2[i])){
        array2basicoejerprom2[i]=0;
      }
      if (isNaN(array3basicoejerprom2[i])){
        array3basicoejerprom2[i]=0;
      }
      if (isNaN(array4basicoejerprom2[i])){
        array4basicoejerprom2[i]=0;
      }
      if (isNaN(array5basicoejerprom2[i])){
        array5basicoejerprom2[i]=0;
      }
      if (isNaN(array6basicoejerprom2[i])){
        array6basicoejerprom2[i]=0;
      }
      if (isNaN(array7basicoejerprom2[i])){
        array7basicoejerprom2[i]=0;
      }
      if (isNaN(array8basicoejerprom2[i])){
        array8basicoejerprom2[i]=0;
      }
      if (isNaN(array1medioejerprom2[i])){
        array1medioejerprom2[i]=0;
      }
      if (isNaN(array2medioejerprom2[i])){
        array2medioejerprom2[i]=0;
      }
      if (isNaN(array3medioejerprom2[i])){
        array3medioejerprom2[i]=0;
      }
      if (isNaN(array4medioejerprom2[i])){
        array4medioejerprom2[i]=0;
      }

      if (isNaN(average)){
        arraypromedioinst[i]=0;
      }
      else{
        arraypromedioinst[i]=Math.round(average*100)/100;
      }
    }

    var arraypromedioinst2= new Array(6).fill(0);
    for (var i = 0; i < array1basico2.length; i++) {
      var average=(array1basico2[i]+array2basico2[i]+array3basico2[i]+array4basico2[i]+array5basico2[i]+array6basico2[i]+array7basico2[i]+array8basico2[i]+array1medio2[i]+array2medio2[i]+array3medio2[i]+array4medio2[i])/estudiantesnivelesinst[i];
      if (isNaN(average)){
        arraypromedioinst2[i]=0;
      }
      else{
        arraypromedioinst2[i]=Math.round(average*100)/100;
      }
    }

    var arraypromedioejerinst= new Array(6).fill(0);
    for (var i = 0; i < array1basicoejer.length; i++) {
      var average=(array1basicoejer[i]+array2basicoejer[i]+array3basicoejer[i]+array4basicoejer[i]+array5basicoejer[i]+array6basicoejer[i]+array7basicoejer[i]+array8basicoejer[i]+array1medioejer[i]+array2medioejer[i]+array3medioejer[i]+array4medioejer[i])/estudiantesnivelesinst[i];
      if (isNaN(average)){
        arraypromedioejerinst[i]=0;
      }
      else{
        arraypromedioejerinst[i]=Math.round(average*100)/100;
      }
    }

    var arraypromedioejerinst2= new Array(6).fill(0);
    for (var i = 0; i < array1basicoejer2.length; i++) {
      var average=(array1basicoejer2[i]+array2basicoejer2[i]+array3basicoejer2[i]+array4basicoejer2[i]+array5basicoejer2[i]+array6basicoejer2[i]+array7basicoejer2[i]+array8basicoejer2[i]+array1medioejer2[i]+array2medioejer2[i]+array3medioejer2[i]+array4medioejer2[i])/estudiantesnivelesinst[i];
      if (isNaN(average)){
        arraypromedioejerinst2[i]=0;
      }
      else{
        arraypromedioejerinst2[i]=Math.round(average*100)/100;
      }
    }
    //console.log(realcategoriasdxn);
    var categoriasdxi=['LSMB', 'EA', 'CEI', 'LAV', 'RAP', 'LGM', 'BA-Khan'];
    var countinst=0;
    for (var i = 0; i < estudiantesnivelesinst.length; i++) {
      if(estudiantesnivelesinst[i]!=0){
        realarray1basico[countinst]=array1basico[i];
        realarray2basico[countinst]=array2basico[i];
        realarray3basico[countinst]=array3basico[i];
        realarray4basico[countinst]=array4basico[i];
        realarray5basico[countinst]=array5basico[i];
        realarray6basico[countinst]=array6basico[i];
        realarray7basico[countinst]=array7basico[i];
        realarray8basico[countinst]=array8basico[i];
        realarray1medio[countinst]=array1medio[i];
        realarray2medio[countinst]=array2medio[i];
        realarray3medio[countinst]=array3medio[i];
        realarray4medio[countinst]=array4medio[i];
        realarray1basico2[countinst]=array1basico2[i];
        realarray2basico2[countinst]=array2basico2[i];
        realarray3basico2[countinst]=array3basico2[i];
        realarray4basico2[countinst]=array4basico2[i];
        realarray5basico2[countinst]=array5basico2[i];
        realarray6basico2[countinst]=array6basico2[i];
        realarray7basico2[countinst]=array7basico2[i];
        realarray8basico2[countinst]=array8basico2[i];
        realarray1medio2[countinst]=array1medio2[i];
        realarray2medio2[countinst]=array2medio2[i];
        realarray3medio2[countinst]=array3medio2[i];
        realarray4medio2[countinst]=array4medio2[i];
        realarray1basicoprom[countinst]=array1basicoprom[i];
        realarray2basicoprom[countinst]=array2basicoprom[i];
        realarray3basicoprom[countinst]=array3basicoprom[i];
        realarray4basicoprom[countinst]=array4basicoprom[i];
        realarray5basicoprom[countinst]=array5basicoprom[i];
        realarray6basicoprom[countinst]=array6basicoprom[i];
        realarray7basicoprom[countinst]=array7basicoprom[i];
        realarray8basicoprom[countinst]=array8basicoprom[i];
        realarray1medioprom[countinst]=array1medioprom[i];
        realarray2medioprom[countinst]=array2medioprom[i];
        realarray3medioprom[countinst]=array3medioprom[i];
        realarray4medioprom[countinst]=array4medioprom[i];
        realarray1basicoprom2[countinst]=array1basicoprom2[i];
        realarray2basicoprom2[countinst]=array2basicoprom2[i];
        realarray3basicoprom2[countinst]=array3basicoprom2[i];
        realarray4basicoprom2[countinst]=array4basicoprom2[i];
        realarray5basicoprom2[countinst]=array5basicoprom2[i];
        realarray6basicoprom2[countinst]=array6basicoprom2[i];
        realarray7basicoprom2[countinst]=array7basicoprom2[i];
        realarray8basicoprom2[countinst]=array8basicoprom2[i];
        realarray1medioprom2[countinst]=array1medioprom2[i];
        realarray2medioprom2[countinst]=array2medioprom2[i];
        realarray3medioprom2[countinst]=array3medioprom2[i];
        realarray4medioprom2[countinst]=array4medioprom2[i];

        realarray1basicoejer[countinst]=array1basicoejer[i];
        realarray2basicoejer[countinst]=array2basicoejer[i];
        realarray3basicoejer[countinst]=array3basicoejer[i];
        realarray4basicoejer[countinst]=array4basicoejer[i];
        realarray5basicoejer[countinst]=array5basicoejer[i];
        realarray6basicoejer[countinst]=array6basicoejer[i];
        realarray7basicoejer[countinst]=array7basicoejer[i];
        realarray8basicoejer[countinst]=array8basicoejer[i];
        realarray1medioejer[countinst]=array1medioejer[i];
        realarray2medioejer[countinst]=array2medioejer[i];
        realarray3medioejer[countinst]=array3medioejer[i];
        realarray4medioejer[countinst]=array4medioejer[i];
        realarray1basicoejerprom[countinst]=array1basicoejerprom[i];
        realarray2basicoejerprom[countinst]=array2basicoejerprom[i];
        realarray3basicoejerprom[countinst]=array3basicoejerprom[i];
        realarray4basicoejerprom[countinst]=array4basicoejerprom[i];
        realarray5basicoejerprom[countinst]=array5basicoejerprom[i];
        realarray6basicoejerprom[countinst]=array6basicoejerprom[i];
        realarray7basicoejerprom[countinst]=array7basicoejerprom[i];
        realarray8basicoejerprom[countinst]=array8basicoejerprom[i];
        realarray1medioejerprom[countinst]=array1medioejerprom[i];
        realarray2medioejerprom[countinst]=array2medioejerprom[i];
        realarray3medioejerprom[countinst]=array3medioejerprom[i];
        realarray4medioejerprom[countinst]=array4medioejerprom[i];

        realarray1basicoejer2[countinst]=array1basicoejer2[i];
        realarray2basicoejer2[countinst]=array2basicoejer2[i];
        realarray3basicoejer2[countinst]=array3basicoejer2[i];
        realarray4basicoejer2[countinst]=array4basicoejer2[i];
        realarray5basicoejer2[countinst]=array5basicoejer2[i];
        realarray6basicoejer2[countinst]=array6basicoejer2[i];
        realarray7basicoejer2[countinst]=array7basicoejer2[i];
        realarray8basicoejer2[countinst]=array8basicoejer2[i];
        realarray1medioejer2[countinst]=array1medioejer2[i];
        realarray2medioejer2[countinst]=array2medioejer2[i];
        realarray3medioejer2[countinst]=array3medioejer2[i];
        realarray4medioejer2[countinst]=array4medioejer2[i];
        realarray1basicoejerprom2[countinst]=array1basicoejerprom2[i];
        realarray2basicoejerprom2[countinst]=array2basicoejerprom2[i];
        realarray3basicoejerprom2[countinst]=array3basicoejerprom2[i];
        realarray4basicoejerprom2[countinst]=array4basicoejerprom2[i];
        realarray5basicoejerprom2[countinst]=array5basicoejerprom2[i];
        realarray6basicoejerprom2[countinst]=array6basicoejerprom2[i];
        realarray7basicoejerprom2[countinst]=array7basicoejerprom2[i];
        realarray8basicoejerprom2[countinst]=array8basicoejerprom2[i];
        realarray1medioejerprom2[countinst]=array1medioejerprom2[i];
        realarray2medioejerprom2[countinst]=array2medioejerprom2[i];
        realarray3medioejerprom2[countinst]=array3medioejerprom2[i];
        realarray4medioejerprom2[countinst]=array4medioejerprom2[i];

        /*realarray1basicovid[countinst]=array1basicovid[i];
        realarray2basicovid[countinst]=array2basicovid[i];
        realarray3basicovid[countinst]=array3basicovid[i];
        realarray4basicovid[countinst]=array4basicovid[i];
        realarray5basicovid[countinst]=array5basicovid[i];
        realarray6basicovid[countinst]=array6basicovid[i];
        realarray7basicovid[countinst]=array7basicovid[i];
        realarray8basicovid[countinst]=array8basicovid[i];
        realarray1mediovid[countinst]=array1mediovid[i];
        realarray2mediovid[countinst]=array2mediovid[i];
        realarray3mediovid[countinst]=array3mediovid[i];
        realarray4mediovid[countinst]=array4mediovid[i];
        realarray1basicovidprom[countinst]=array1basicovidprom[i];
        realarray2basicovidprom[countinst]=array2basicovidprom[i];
        realarray3basicovidprom[countinst]=array3basicovidprom[i];
        realarray4basicovidprom[countinst]=array4basicovidprom[i];
        realarray5basicovidprom[countinst]=array5basicovidprom[i];
        realarray6basicovidprom[countinst]=array6basicovidprom[i];
        realarray7basicovidprom[countinst]=array7basicovidprom[i];
        realarray8basicovidprom[countinst]=array8basicovidprom[i];
        realarray1mediovidprom[countinst]=array1mediovidprom[i];
        realarray2mediovidprom[countinst]=array2mediovidprom[i];
        realarray3mediovidprom[countinst]=array3mediovidprom[i];
        realarray4mediovidprom[countinst]=array4mediovidprom[i];*/

        realarraypromedioinst[countinst]=arraypromedioinst[i];
        realarraypromedioinst2[countinst]=arraypromedioinst2[i];
        realarraypromedioejerinst[countinst]=arraypromedioejerinst[i];
        realarraypromedioejerinst2[countinst]=arraypromedioejerinst2[i];
        /*realarraypromediovidinst[countinst]=arraypromediovidinst[i];*/

        realestudiantesxnivelinst[2*countinst]=estudiantesnivelesinst[i];
        realestudiantesxnivelinst[2*countinst+1]=estudiantesnivelesinst[i];
        categoriasdxireal[countinst]=categoriasdxi[i];
        countinst++;
      }
    }

    var ugly = [tipo1,tipo2];
    var realcats=ugly;
    var realcatsinst=ugly;
    for (var i = 0; i < realcategoriasdxn.length-1; i++) {
      realcats=realcats.concat(ugly);
    }
    for (var i = 0; i < categoriasdxireal.length-1; i++) {
      realcatsinst=realcatsinst.concat(ugly);
    }
    var realzeroes=[];
    var realzeroesinst=[];
    realcats.forEach(function () {realzeroes.push(0);}); 
    realcatsinst.forEach(function() {realzeroesinst.push(0);});

    var rlarrayprom=[];
    var rlarrayprominst=[];
    var rlarraypromejer=[];
    var rlarraypromejerinst=[];
    var rlarraypromvid=[];

    for (var i = 0; i < realarraypromedio.length; i++) {
      rlarrayprom[2*i]=realarraypromedio[i];
      rlarrayprom[2*i+1]=realarraypromedio2[i];
    }

    for (var i = 0; i < realarraypromedioinst.length; i++) {
      rlarrayprominst[2*i]=realarraypromedioinst[i];
      rlarrayprominst[2*i+1]=realarraypromedioinst2[i];
    }

    for (var i = 0; i < realarraypromedioejer.length; i++) {
      rlarraypromejer[2*i]=realarraypromedioejer[i];
      rlarraypromejer[2*i+1]=realarraypromedioejer2[i];
    }

    for (var i = 0; i < realarraypromedioejerinst.length; i++) {
      rlarraypromejerinst[2*i]=realarraypromedioejerinst[i];
      rlarraypromejerinst[2*i+1]=realarraypromedioejerinst2[i];
    }

    for (var i = 0; i < realarraypromediovid.length; i++) {
      rlarraypromvid[2*i]=realarraypromediovid[i];
      rlarraypromvid[2*i+1]=realarraypromediovid2[i];
    }

    arraydedatos[0]={'name':'LSMB', 'color':'#7CB5EC', 'data':realarraylsmb, 'stack':tipo1 ,'xAxis':1, 'type':'column', 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'yAxis':1};
    arraydedatos[1]={'name':'E.A.', 'color':'#434348', 'data':realarrayea, 'stack':tipo1 ,'xAxis':1, 'type':'column', 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'yAxis':1};
    arraydedatos[2]={'name':'C.E.I.', 'color':'#90ED7D', 'data':realarraycei, 'stack':tipo1 ,'xAxis':1, 'type':'column', 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'yAxis':1};
    arraydedatos[3]={'name':'L.A.V.', 'color':'#F7A35C', 'data':realarraylav, 'stack':tipo1 ,'xAxis':1, 'type':'column', 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'yAxis':1};
    arraydedatos[4]={'name':'R.A.P.', 'color':'#8085E9', 'data':realarrayrap, 'stack':tipo1 ,'xAxis':1, 'type':'column', 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'yAxis':1};
    arraydedatos[5]={'name':'G.M.', 'color':'#F15C80', 'data':realarraygm, 'stack':tipo1 ,'xAxis':1, 'type':'column', 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'yAxis':1};
    arraydedatos[6]={'name':'Bakhan', 'color':'#E4D354', 'data':realarraybakhan, 'stack':tipo1 ,'xAxis':1, 'type':'column', 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'yAxis':1};
    arraydedatos[7]={'name':'LSMB', 'color':'#7CB5EC', 'data':realarraylsmb2, 'stack':tipo2 ,'xAxis':1,'showInLegend':false, 'type':'column', 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'yAxis':1};
    arraydedatos[8]={'name':'E.A.', 'color':'#434348', 'data':realarrayea2, 'stack':tipo2 ,'xAxis':1,'showInLegend':false, 'type':'column', 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'yAxis':1};
    arraydedatos[9]={'name':'C.E.I.', 'color':'#90ED7D', 'data':realarraycei2, 'stack':tipo2 ,'xAxis':1,'showInLegend':false, 'type':'column', 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'yAxis':1};
    arraydedatos[10]={'name':'L.A.V.', 'color':'#F7A35C', 'data':realarraylav2, 'stack':tipo2 ,'xAxis':1,'showInLegend':false, 'type':'column', 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'yAxis':1};
    arraydedatos[11]={'name':'R.A.P.', 'color':'#8085E9', 'data':realarrayrap2, 'stack':tipo2 ,'xAxis':1,'showInLegend':false, 'type':'column', 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'yAxis':1};
    arraydedatos[12]={'name':'G.M.', 'color':'#F15C80', 'data':realarraygm2, 'stack':tipo2 ,'xAxis':1,'showInLegend':false, 'type':'column', 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'yAxis':1};
    arraydedatos[13]={'name':'Bakhan', 'color':'#E4D354', 'data':realarraybakhan2, 'stack':tipo2 ,'xAxis':1,'showInLegend':false, 'type':'column', 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'yAxis':1};
    arraydedatos[14]={'name':'',  'stack':tipo2 , 'data': realzeroes,'showInLegend': false, 'yAxis':1};
    arraydedatos[15]={'name':'Promedio Ejercicios', 'data':rlarrayprom, 'type':'spline', 'color':'#AA4643', 'yAxis':2, 'marker':{'enabled':true}, 'dashStyle': 'shortdot', 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/><b>{series.name}</b>: {point.y}'},'lineWidth':0};
    arraydedatos[16]={'name':'Cantidad de Estudiantes', 'data':realestudiantesxnivel, 'type':'spline', 'color':'#89A54E', 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/><b>{series.name}</b>: {point.y}'},'marker':{'enabled':true}, 'dashStyle': 'shortdot', 'lineWidth':0};

    var contador=0;
    for (var i = 0; i < arraydedatos.length; i++) {
      var verificador = true;
      for (var j = 0; j < arraydedatos[i]['data'].length; j++) {
        if(arraydedatos[i]['data'][j]!=0){
          verificador=false;
        }
      };
      if (verificador==true){
        elementremove[contador]=i;
        contador++;
      }
    };
    for (var i = 0; i < elementremove.length; i++) {
      arraydedatos.splice(elementremove[i]-i,1);
    };

    distxnivelprom[0]={'name':'LSMB', 'data':realarraylsmbprom, 'type':'column', 'yAxis':1, 'color': '#7CB5EC', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxnivelprom[1]={'name':'E.A.', 'data':realarrayeaprom, 'type':'column', 'yAxis':1, 'color': '#434348', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxnivelprom[2]={'name':'C.E.I.', 'data':realarrayceiprom, 'type':'column', 'yAxis':1, 'color': '#90ED7D', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxnivelprom[3]={'name':'L.A.V.', 'data':realarraylavprom, 'type':'column', 'yAxis':1, 'color': '#F7A35C', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxnivelprom[4]={'name':'R.A.P.', 'data':realarrayrapprom, 'type':'column', 'yAxis':1, 'color': '#8085E9', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxnivelprom[5]={'name':'L.G.M.', 'data':realarraygmprom, 'type':'column', 'yAxis':1, 'color': '#F15C80', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxnivelprom[6]={'name':'Ba-Khan', 'data':realarraybakhanprom, 'type':'column', 'yAxis':1, 'color': '#E4D354', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxnivelprom[7]={'name':'LSMB', 'data':realarraylsmbprom2, 'type':'column', 'yAxis':1, 'color': '#7CB5EC', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend':false};
    distxnivelprom[8]={'name':'E.A.', 'data':realarrayeaprom2, 'type':'column', 'yAxis':1, 'color': '#434348', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend':false};
    distxnivelprom[9]={'name':'C.E.I.', 'data':realarrayceiprom2, 'type':'column', 'yAxis':1, 'color': '#90ED7D', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend':false};
    distxnivelprom[10]={'name':'L.A.V.', 'data':realarraylavprom2, 'type':'column', 'yAxis':1, 'color': '#F7A35C', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend':false};
    distxnivelprom[11]={'name':'R.A.P.', 'data':realarrayrapprom2, 'type':'column', 'yAxis':1, 'color': '#8085E9', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend':false};
    distxnivelprom[12]={'name':'L.G.M.', 'data':realarraygmprom2, 'type':'column', 'yAxis':1, 'color': '#F15C80', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend':false};
    distxnivelprom[13]={'name':'Ba-Khan', 'data':realarraybakhanprom2, 'type':'column', 'yAxis':1, 'color': '#E4D354', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend':false};
    distxnivelprom[14]={'name':'',  'stack':tipo2 , 'data': realzeroes,'showInLegend': false, 'yAxis':1};
    distxnivelprom[15]={'name':'Promedio Ejercicios', 'data':rlarrayprom, 'type':'spline', 'color':'#AA4643', 'yAxis':2, 'marker':{'enabled':true}, 'dashStyle': 'shortdot', 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/><b>{series.name}</b>: {point.y}'},'lineWidth':0};
    distxnivelprom[16]={'name':'Cantidad de Estudiantes', 'data':realestudiantesxnivel, 'type':'spline', 'color':'#89A54E', 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/><b>{series.name}</b>: {point.y}'},'marker':{'enabled':true}, 'dashStyle': 'shortdot', 'lineWidth':0};


    var contadorprom=0;
    for (var i = 0; i < distxnivelprom.length; i++) {
      var verificador = true;
      for (var j = 0; j < distxnivelprom[i]['data'].length; j++) {
        if(distxnivelprom[i]['data'][j]!=0){
          verificador=false;
        }
      };
      if (verificador==true){
        elementremoveprom[contadorprom]=i;
        contadorprom++;
      }
    };
    for (var i = 0; i < elementremoveprom.length; i++) {
      distxnivelprom.splice(elementremoveprom[i]-i,1);
    };

    //console.log(estudiantesnivelesinst);

    
    distxinst[0]={'name':'1ro basico', 'data':realarray1basico, 'type':'column', 'yAxis':1, 'color': '#7CB5EC', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinst[1]={'name':'2do basico', 'data':realarray2basico, 'type':'column', 'yAxis':1, 'color': '#434348', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinst[2]={'name':'3ro basico', 'data':realarray3basico, 'type':'column', 'yAxis':1, 'color': '#90ED7D', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinst[3]={'name':'4to basico', 'data':realarray4basico, 'type':'column', 'yAxis':1, 'color': '#F7A35C', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinst[4]={'name':'5to basico', 'data':realarray5basico, 'type':'column', 'yAxis':1, 'color': '#8085E9', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinst[5]={'name':'6to basico', 'data':realarray6basico, 'type':'column', 'yAxis':1, 'color': '#F15C80', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinst[6]={'name':'7mo basico', 'data':realarray7basico, 'type':'column', 'yAxis':1, 'color': '#E4D354', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinst[7]={'name':'8vo basico', 'data':realarray8basico, 'type':'column', 'yAxis':1, 'color': '#2B908F', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinst[8]={'name':'1ro medio', 'data':realarray1medio, 'type':'column', 'yAxis':1, 'color': '#F45B5B', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinst[9]={'name':'2do medio', 'data':realarray2medio, 'type':'column', 'yAxis':1, 'color': '#91E8E1', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinst[10]={'name':'3ro medio', 'data':realarray3medio, 'type':'column', 'yAxis':1, 'color': '#9ED3CA', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinst[11]={'name':'4to medio', 'data':realarray4medio, 'type':'column', 'yAxis':1, 'color': '#646126', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinst[12]={'name':'1ro basico', 'data':realarray1basico2, 'type':'column', 'yAxis':1, 'color': '#7CB5EC', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend':false};
    distxinst[13]={'name':'2do basico', 'data':realarray2basico2, 'type':'column', 'yAxis':1, 'color': '#434348', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend':false};
    distxinst[14]={'name':'3ro basico', 'data':realarray3basico2, 'type':'column', 'yAxis':1, 'color': '#90ED7D', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend':false};
    distxinst[15]={'name':'4to basico', 'data':realarray4basico2, 'type':'column', 'yAxis':1, 'color': '#F7A35C', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend':false};
    distxinst[16]={'name':'5to basico', 'data':realarray5basico2, 'type':'column', 'yAxis':1, 'color': '#8085E9', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend':false};
    distxinst[17]={'name':'6to basico', 'data':realarray6basico2, 'type':'column', 'yAxis':1, 'color': '#F15C80', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend':false};
    distxinst[18]={'name':'7mo basico', 'data':realarray7basico2, 'type':'column', 'yAxis':1, 'color': '#E4D354', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend':false};
    distxinst[19]={'name':'8vo basico', 'data':realarray8basico2, 'type':'column', 'yAxis':1, 'color': '#2B908F', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend':false};
    distxinst[20]={'name':'1ro medio', 'data':realarray1medio2, 'type':'column', 'yAxis':1, 'color': '#F45B5B', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend':false};
    distxinst[21]={'name':'2do medio', 'data':realarray2medio2, 'type':'column', 'yAxis':1, 'color': '#91E8E1', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend':false};
    distxinst[22]={'name':'3ro medio', 'data':realarray3medio2, 'type':'column', 'yAxis':1, 'color': '#9ED3CA', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend':false};
    distxinst[23]={'name':'4to medio', 'data':realarray4medio2, 'type':'column', 'yAxis':1, 'color': '#646126', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend':false};
    distxinst[24]={'name':'',  'stack':tipo2 , 'data': realzeroesinst,'showInLegend': false, 'yAxis':1};
    distxinst[25]={'name':'Promedio Ejercicios', 'data':rlarrayprominst, 'type':'spline', 'color':'#AA4643', 'yAxis':2, 'marker':{'enabled':true}, 'dashStyle': 'shortdot', 'lineWidth':0, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/><b>{series.name}</b>: {point.y}'}};
    //distxinst[25]={'name':'Promedio Ejercicios '+tipo2+'', 'data':realarraypromedioinst2, 'type':'spline', 'color':'#AA4643', 'yAxis':2, 'marker':{'enabled':true}, 'dashStyle': 'shortdot', 'lineWidth':0};
    distxinst[26]={'name':'Cantidad de Estudiantes', 'data':realestudiantesxnivelinst, 'type':'spline', 'color':'#89A54E', 'lineWidth':0, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/><b>{series.name}</b>: {point.y}'}};

    var contadorinst=0;
    for (var i = 0; i < distxinst.length; i++) {
      var verificador = true;
      for (var j = 0; j < distxinst[i]['data'].length; j++) {
        if(distxinst[i]['data'][j]!=0){
          verificador=false;
        }
      };
      if (verificador==true){
        elementremoveinst[contadorinst]=i;
        contadorinst++;
      }
    };
    for (var i = 0; i < elementremoveinst.length; i++) {
      distxinst.splice(elementremoveinst[i]-i,1);
    };

    distxinstprom[0]={'name':'1ro basico', 'data':realarray1basicoprom, 'type':'column', 'yAxis':1, 'color': '#7CB5EC', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinstprom[1]={'name':'2do basico', 'data':realarray2basicoprom, 'type':'column', 'yAxis':1, 'color': '#434348', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinstprom[2]={'name':'3ro basico', 'data':realarray3basicoprom, 'type':'column', 'yAxis':1, 'color': '#90ED7D', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinstprom[3]={'name':'4to basico', 'data':realarray4basicoprom, 'type':'column', 'yAxis':1, 'color': '#F7A35C', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinstprom[4]={'name':'5to basico', 'data':realarray5basicoprom, 'type':'column', 'yAxis':1, 'color': '#8085E9', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinstprom[5]={'name':'6to basico', 'data':realarray6basicoprom, 'type':'column', 'yAxis':1, 'color': '#F15C80', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinstprom[6]={'name':'7mo basico', 'data':realarray7basicoprom, 'type':'column', 'yAxis':1, 'color': '#E4D354', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinstprom[7]={'name':'8vo basico', 'data':realarray8basicoprom, 'type':'column', 'yAxis':1, 'color': '#2B908F', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinstprom[8]={'name':'1ro medio', 'data':realarray1medioprom, 'type':'column', 'yAxis':1, 'color': '#F45B5B', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinstprom[9]={'name':'2do medio', 'data':realarray2medioprom, 'type':'column', 'yAxis':1, 'color': '#91E8E1', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinstprom[10]={'name':'3ro medio', 'data':realarray3medioprom, 'type':'column', 'yAxis':1, 'color': '#9ED3CA', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinstprom[11]={'name':'4to medio', 'data':realarray4medioprom, 'type':'column', 'yAxis':1, 'color': '#646126', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinstprom[12]={'name':'1ro basico', 'data':realarray1basicoprom2, 'type':'column', 'yAxis':1, 'color': '#7CB5EC', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend':false};
    distxinstprom[13]={'name':'2do basico', 'data':realarray2basicoprom2, 'type':'column', 'yAxis':1, 'color': '#434348', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend':false};
    distxinstprom[14]={'name':'3ro basico', 'data':realarray3basicoprom2, 'type':'column', 'yAxis':1, 'color': '#90ED7D', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend':false};
    distxinstprom[15]={'name':'4to basico', 'data':realarray4basicoprom2, 'type':'column', 'yAxis':1, 'color': '#F7A35C', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend':false};
    distxinstprom[16]={'name':'5to basico', 'data':realarray5basicoprom2, 'type':'column', 'yAxis':1, 'color': '#8085E9', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend':false};
    distxinstprom[17]={'name':'6to basico', 'data':realarray6basicoprom2, 'type':'column', 'yAxis':1, 'color': '#F15C80', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend':false};
    distxinstprom[18]={'name':'7mo basico', 'data':realarray7basicoprom2, 'type':'column', 'yAxis':1, 'color': '#E4D354', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend':false};
    distxinstprom[19]={'name':'8vo basico', 'data':realarray8basicoprom2, 'type':'column', 'yAxis':1, 'color': '#2B908F', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend':false};
    distxinstprom[20]={'name':'1ro medio', 'data':realarray1medioprom2, 'type':'column', 'yAxis':1, 'color': '#F45B5B', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend':false};
    distxinstprom[21]={'name':'2do medio', 'data':realarray2medioprom2, 'type':'column', 'yAxis':1, 'color': '#91E8E1', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend':false};
    distxinstprom[22]={'name':'3ro medio', 'data':realarray3medioprom2, 'type':'column', 'yAxis':1, 'color': '#9ED3CA', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend':false};
    distxinstprom[23]={'name':'4to medio', 'data':realarray4medioprom2, 'type':'column', 'yAxis':1, 'color': '#646126', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend':false};
    distxinstprom[24]={'name':'',  'stack':tipo2 , 'data': realzeroesinst,'showInLegend': false, 'yAxis':1};
    distxinstprom[25]={'name':'Promedio Ejercicios '+tipo1+'', 'data':rlarrayprominst, 'type':'spline', 'color':'#AA4643', 'yAxis':2, 'marker':{'enabled':true}, 'dashStyle': 'shortdot', 'lineWidth':0};
    //distxinstprom[25]={'name':'Promedio Ejercicios '+tipo2+'', 'data':realarraypromedioinst2, 'type':'spline', 'color':'#AA4643', 'yAxis':2, 'marker':{'enabled':true}, 'dashStyle': 'shortdot', 'lineWidth':0};
    distxinstprom[26]={'name':'Cantidad de Estudiantes', 'data':realestudiantesxnivelinst, 'type':'spline', 'color':'#89A54E', 'lineWidth':0};

    var contadorinstprom=0;
    for (var i = 0; i < distxinstprom.length; i++) {
      var verificador = true;
      for (var j = 0; j < distxinstprom[i]['data'].length; j++) {
        if(distxinstprom[i]['data'][j]!=0){
          verificador=false;
        }
      };
      if (verificador==true){
        elementremoveinstprom[contadorinstprom]=i;
        contadorinstprom++;
      }
    };
    for (var i = 0; i < elementremoveinstprom.length; i++) {
      distxinstprom.splice(elementremoveinstprom[i]-i,1);
    };

    distxnivelejer[0]={'name':'LSMB', 'data':realarraylsmbejer, 'type':'column', 'yAxis':1, 'color': '#7CB5EC', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxnivelejer[1]={'name':'E.A.', 'data':realarrayeaejer, 'type':'column', 'yAxis':1, 'color': '#434348', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxnivelejer[2]={'name':'C.E.I.', 'data':realarrayceiejer, 'type':'column', 'yAxis':1, 'color': '#90ED7D', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxnivelejer[3]={'name':'L.A.V.', 'data':realarraylavejer, 'type':'column', 'yAxis':1, 'color': '#F7A35C', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxnivelejer[4]={'name':'R.A.P.', 'data':realarrayrapejer, 'type':'column', 'yAxis':1, 'color': '#8085E9', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxnivelejer[5]={'name':'L.G.M.', 'data':realarraygmejer, 'type':'column', 'yAxis':1, 'color': '#F15C80', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxnivelejer[6]={'name':'Ba-Khan', 'data':realarraybakhanejer, 'type':'column', 'yAxis':1, 'color': '#E4D354', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxnivelejer[7]={'name':'LSMB', 'data':realarraylsmbejer2, 'type':'column', 'yAxis':1, 'color': '#7CB5EC', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxnivelejer[8]={'name':'E.A.', 'data':realarrayeaejer2, 'type':'column', 'yAxis':1, 'color': '#434348', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxnivelejer[9]={'name':'C.E.I.', 'data':realarrayceiejer2, 'type':'column', 'yAxis':1, 'color': '#90ED7D', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxnivelejer[10]={'name':'L.A.V.', 'data':realarraylavejer2, 'type':'column', 'yAxis':1, 'color': '#F7A35C', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxnivelejer[11]={'name':'R.A.P.', 'data':realarrayrapejer2, 'type':'column', 'yAxis':1, 'color': '#8085E9', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxnivelejer[12]={'name':'L.G.M.', 'data':realarraygmejer2, 'type':'column', 'yAxis':1, 'color': '#F15C80', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxnivelejer[13]={'name':'Ba-Khan', 'data':realarraybakhanejer2, 'type':'column', 'yAxis':1, 'color': '#E4D354', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxnivelejer[14]={'name':'',  'stack':tipo2 , 'data': realzeroes,'showInLegend': false, 'yAxis':1};
    distxnivelejer[15]={'name':'Promedio Tiempo de Ejercicios', 'data':rlarraypromejer, 'type':'spline', 'color':'#AA4643', 'yAxis':2, 'marker':{'enabled':true}, 'dashStyle': 'shortdot', 'lineWidth':0};
    distxnivelejer[16]={'name':'Cantidad de Estudiantes', 'data':realestudiantesxnivel, 'type':'spline', 'color':'#89A54E', 'lineWidth':0};

    var contadorejer=0;
    for (var i = 0; i < distxnivelejer.length; i++) {
      var verificador = true;
      for (var j = 0; j < distxnivelejer[i]['data'].length; j++) {
        if(distxnivelejer[i]['data'][j]!=0){
          verificador=false;
        }
      };
      if (verificador==true){
        elementremoveejer[contadorejer]=i;
        contadorejer++;
      }
    };
    for (var i = 0; i < elementremoveejer.length; i++) {
      distxnivelejer.splice(elementremoveejer[i]-i,1);
    };

    distxnivelejerprom[0]={'name':'LSMB', 'data':realarraylsmbejerprom, 'type':'column', 'yAxis':1, 'color': '#7CB5EC', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxnivelejerprom[1]={'name':'E.A.', 'data':realarrayeaejerprom, 'type':'column', 'yAxis':1, 'color': '#434348', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxnivelejerprom[2]={'name':'C.E.I.', 'data':realarrayceiejerprom, 'type':'column', 'yAxis':1, 'color': '#90ED7D', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxnivelejerprom[3]={'name':'L.A.V.', 'data':realarraylavejerprom, 'type':'column', 'yAxis':1, 'color': '#F7A35C', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxnivelejerprom[4]={'name':'R.A.P.', 'data':realarrayrapejerprom, 'type':'column', 'yAxis':1, 'color': '#8085E9', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxnivelejerprom[5]={'name':'L.G.M.', 'data':realarraygmejerprom, 'type':'column', 'yAxis':1, 'color': '#F15C80', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxnivelejerprom[6]={'name':'Ba-Khan', 'data':realarraybakhanejerprom, 'type':'column', 'yAxis':1, 'color': '#E4D354', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxnivelejerprom[7]={'name':'LSMB', 'data':realarraylsmbejerprom2, 'type':'column', 'yAxis':1, 'color': '#7CB5EC', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxnivelejerprom[8]={'name':'E.A.', 'data':realarrayeaejerprom2, 'type':'column', 'yAxis':1, 'color': '#434348', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxnivelejerprom[9]={'name':'C.E.I.', 'data':realarrayceiejerprom2, 'type':'column', 'yAxis':1, 'color': '#90ED7D', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxnivelejerprom[10]={'name':'L.A.V.', 'data':realarraylavejerprom2, 'type':'column', 'yAxis':1, 'color': '#F7A35C', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxnivelejerprom[11]={'name':'R.A.P.', 'data':realarrayrapejerprom2, 'type':'column', 'yAxis':1, 'color': '#8085E9', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxnivelejerprom[12]={'name':'L.G.M.', 'data':realarraygmejerprom2, 'type':'column', 'yAxis':1, 'color': '#F15C80', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxnivelejerprom[13]={'name':'Ba-Khan', 'data':realarraybakhanejerprom2, 'type':'column', 'yAxis':1, 'color': '#E4D354', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxnivelejerprom[14]={'name':'',  'stack':tipo2 , 'data': realzeroes, 'showInLegend': false, 'yAxis':1};
    distxnivelejerprom[15]={'name':'Promedio Tiempo de Ejercicios', 'data':rlarraypromejer, 'type':'spline', 'color':'#AA4643', 'yAxis':2, 'marker':{'enabled':true}, 'dashStyle': 'shortdot', 'lineWidth':0};
    distxnivelejerprom[16]={'name':'Cantidad de Estudiantes', 'data':realestudiantesxnivel, 'type':'spline', 'color':'#89A54E', 'lineWidth':0};

    var contadorejerprom=0;
    for (var i = 0; i < distxnivelejerprom.length; i++) {
      var verificador = true;
      for (var j = 0; j < distxnivelejerprom[i]['data'].length; j++) {
        if(distxnivelejerprom[i]['data'][j]!=0){
          verificador=false;
        }
      };
      if (verificador==true){
        elementremoveejerprom[contadorejerprom]=i;
        contadorejerprom++;
      }
    };
    for (var i = 0; i < elementremoveejerprom.length; i++) {
      distxnivelejerprom.splice(elementremoveejerprom[i]-i,1);
    };

    distxinstejer[0]={'name':'1ro basico', 'data':realarray1basicoejer, 'type':'column', 'yAxis':1, 'color': '#7CB5EC', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinstejer[1]={'name':'2do basico', 'data':realarray2basicoejer, 'type':'column', 'yAxis':1, 'color': '#434348', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinstejer[2]={'name':'3ro basico', 'data':realarray3basicoejer, 'type':'column', 'yAxis':1, 'color': '#90ED7D', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinstejer[3]={'name':'4to basico', 'data':realarray4basicoejer, 'type':'column', 'yAxis':1, 'color': '#F7A35C', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinstejer[4]={'name':'5to basico', 'data':realarray5basicoejer, 'type':'column', 'yAxis':1, 'color': '#8085E9', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinstejer[5]={'name':'6to basico', 'data':realarray6basicoejer, 'type':'column', 'yAxis':1, 'color': '#F15C80', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinstejer[6]={'name':'7mo basico', 'data':realarray7basicoejer, 'type':'column', 'yAxis':1, 'color': '#E4D354', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinstejer[7]={'name':'8vo basico', 'data':realarray8basicoejer, 'type':'column', 'yAxis':1, 'color': '#2B908F', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinstejer[8]={'name':'1ro medio', 'data':realarray1medioejer, 'type':'column', 'yAxis':1, 'color': '#F45B5B', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinstejer[9]={'name':'2do medio', 'data':realarray2medioejer, 'type':'column', 'yAxis':1, 'color': '#91E8E1', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinstejer[10]={'name':'3ro medio', 'data':realarray3medioejer, 'type':'column', 'yAxis':1, 'color': '#9ED3CA', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinstejer[11]={'name':'4to medio', 'data':realarray4medioejer, 'type':'column', 'yAxis':1, 'color': '#646126', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinstejer[12]={'name':'1ro basico', 'data':realarray1basicoejer2, 'type':'column', 'yAxis':1, 'color': '#7CB5EC', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxinstejer[13]={'name':'2do basico', 'data':realarray2basicoejer2, 'type':'column', 'yAxis':1, 'color': '#434348', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxinstejer[14]={'name':'3ro basico', 'data':realarray3basicoejer2, 'type':'column', 'yAxis':1, 'color': '#90ED7D', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxinstejer[15]={'name':'4to basico', 'data':realarray4basicoejer2, 'type':'column', 'yAxis':1, 'color': '#F7A35C', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxinstejer[16]={'name':'5to basico', 'data':realarray5basicoejer2, 'type':'column', 'yAxis':1, 'color': '#8085E9', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxinstejer[17]={'name':'6to basico', 'data':realarray6basicoejer2, 'type':'column', 'yAxis':1, 'color': '#F15C80', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxinstejer[18]={'name':'7mo basico', 'data':realarray7basicoejer2, 'type':'column', 'yAxis':1, 'color': '#E4D354', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxinstejer[19]={'name':'8vo basico', 'data':realarray8basicoejer2, 'type':'column', 'yAxis':1, 'color': '#2B908F', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxinstejer[20]={'name':'1ro medio', 'data':realarray1medioejer2, 'type':'column', 'yAxis':1, 'color': '#F45B5B', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxinstejer[21]={'name':'2do medio', 'data':realarray2medioejer2, 'type':'column', 'yAxis':1, 'color': '#91E8E1', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxinstejer[22]={'name':'3ro medio', 'data':realarray3medioejer2, 'type':'column', 'yAxis':1, 'color': '#9ED3CA', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxinstejer[23]={'name':'4to medio', 'data':realarray4medioejer2, 'type':'column', 'yAxis':1, 'color': '#646126', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxinstejer[24]={'name':'',  'stack':tipo2 , 'data': realzeroesinst, 'showInLegend': false, 'yAxis':1};
    distxinstejer[25]={'name':'Promedio Tiempo de Ejercicios '+tipo1+'', 'data':rlarraypromejerinst, 'type':'spline', 'color':'#AA4643', 'yAxis':2, 'marker':{'enabled':true}, 'dashStyle': 'shortdot', 'lineWidth': 0};
    distxinstejer[26]={'name':'Cantidad de Estudiantes', 'data':realestudiantesxnivelinst, 'type':'spline', 'color':'#89A54E', 'lineWidth': 0};

    var contadorinstejer=0;
    for (var i = 0; i < distxinstejer.length; i++) {
      var verificador = true;
      for (var j = 0; j < distxinstejer[i]['data'].length; j++) {
        if(distxinstejer[i]['data'][j]!=0){
          verificador=false;
        }
      };
      if (verificador==true){
        elementremoveinstejer[contadorinstejer]=i;
        contadorinstejer++;
      }
    };
    for (var i = 0; i < elementremoveinstejer.length; i++) {
      distxinstejer.splice(elementremoveinstejer[i]-i,1);
    };

    distxinstejerprom[0]={'name':'1ro basico', 'data':realarray1basicoejerprom, 'type':'column', 'yAxis':1, 'color': '#7CB5EC', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinstejerprom[1]={'name':'2do basico', 'data':realarray2basicoejerprom, 'type':'column', 'yAxis':1, 'color': '#434348', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinstejerprom[2]={'name':'3ro basico', 'data':realarray3basicoejerprom, 'type':'column', 'yAxis':1, 'color': '#90ED7D', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinstejerprom[3]={'name':'4to basico', 'data':realarray4basicoejerprom, 'type':'column', 'yAxis':1, 'color': '#F7A35C', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinstejerprom[4]={'name':'5to basico', 'data':realarray5basicoejerprom, 'type':'column', 'yAxis':1, 'color': '#8085E9', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinstejerprom[5]={'name':'6to basico', 'data':realarray6basicoejerprom, 'type':'column', 'yAxis':1, 'color': '#F15C80', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinstejerprom[6]={'name':'7mo basico', 'data':realarray7basicoejerprom, 'type':'column', 'yAxis':1, 'color': '#E4D354', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinstejerprom[7]={'name':'8vo basico', 'data':realarray8basicoejerprom, 'type':'column', 'yAxis':1, 'color': '#2B908F', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinstejerprom[8]={'name':'1ro medio', 'data':realarray1medioejerprom, 'type':'column', 'yAxis':1, 'color': '#F45B5B', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinstejerprom[9]={'name':'2do medio', 'data':realarray2medioejerprom, 'type':'column', 'yAxis':1, 'color': '#91E8E1', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinstejerprom[10]={'name':'3ro medio', 'data':realarray3medioejerprom, 'type':'column', 'yAxis':1, 'color': '#9ED3CA', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinstejerprom[11]={'name':'4to medio', 'data':realarray4medioejerprom, 'type':'column', 'yAxis':1, 'color': '#646126', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxinstejerprom[12]={'name':'1ro basico', 'data':realarray1basicoejerprom2, 'type':'column', 'yAxis':1, 'color': '#7CB5EC', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxinstejerprom[13]={'name':'2do basico', 'data':realarray2basicoejerprom2, 'type':'column', 'yAxis':1, 'color': '#434348', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxinstejerprom[14]={'name':'3ro basico', 'data':realarray3basicoejerprom2, 'type':'column', 'yAxis':1, 'color': '#90ED7D', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxinstejerprom[15]={'name':'4to basico', 'data':realarray4basicoejerprom2, 'type':'column', 'yAxis':1, 'color': '#F7A35C', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxinstejerprom[16]={'name':'5to basico', 'data':realarray5basicoejerprom2, 'type':'column', 'yAxis':1, 'color': '#8085E9', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxinstejerprom[17]={'name':'6to basico', 'data':realarray6basicoejerprom2, 'type':'column', 'yAxis':1, 'color': '#F15C80', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxinstejerprom[18]={'name':'7mo basico', 'data':realarray7basicoejerprom2, 'type':'column', 'yAxis':1, 'color': '#E4D354', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxinstejerprom[19]={'name':'8vo basico', 'data':realarray8basicoejerprom2, 'type':'column', 'yAxis':1, 'color': '#2B908F', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxinstejerprom[20]={'name':'1ro medio', 'data':realarray1medioejerprom2, 'type':'column', 'yAxis':1, 'color': '#F45B5B', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxinstejerprom[21]={'name':'2do medio', 'data':realarray2medioejerprom2, 'type':'column', 'yAxis':1, 'color': '#91E8E1', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxinstejerprom[22]={'name':'3ro medio', 'data':realarray3medioejerprom2, 'type':'column', 'yAxis':1, 'color': '#9ED3CA', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxinstejerprom[23]={'name':'4to medio', 'data':realarray4medioejerprom2, 'type':'column', 'yAxis':1, 'color': '#646126', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxinstejerprom[24]={'name':'',  'stack':tipo2 , 'data': realzeroesinst, 'showInLegend': false, 'yAxis':1};
    distxinstejerprom[25]={'name':'Promedio Tiempo de Ejercicios', 'data':rlarraypromejerinst, 'type':'spline', 'color':'#AA4643', 'yAxis':2, 'marker':{'enabled':true}, 'dashStyle': 'shortdot', 'lineWidth': 0};
    distxinstejerprom[26]={'name':'Cantidad de Estudiantes', 'data':realestudiantesxnivelinst, 'type':'spline', 'color':'#89A54E', 'lineWidth': 0};

    var contadorinstejerprom=0;
    for (var i = 0; i < distxinstejerprom.length; i++) {
      var verificador = true;
      for (var j = 0; j < distxinstejerprom[i]['data'].length; j++) {
        if(distxinstejerprom[i]['data'][j]!=0){
          verificador=false;
        }
      };
      if (verificador==true){
        elementremoveinstejerprom[contadorinstejerprom]=i;
        contadorinstejerprom++;
      }
    };
    for (var i = 0; i < elementremoveinstejerprom.length; i++) {
      distxinstejerprom.splice(elementremoveinstejerprom[i]-i,1);
    };

    distxnivelvid[0]={'name':'LSMB', 'data':realarraylsmbvid, 'type':'column', 'yAxis':1, 'color': '#7CB5EC', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxnivelvid[1]={'name':'E.A.', 'data':realarrayeavid, 'type':'column', 'yAxis':1, 'color': '#434348', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxnivelvid[2]={'name':'C.E.I.', 'data':realarrayceivid, 'type':'column', 'yAxis':1, 'color': '#90ED7D', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxnivelvid[3]={'name':'L.A.V.', 'data':realarraylavvid, 'type':'column', 'yAxis':1, 'color': '#F7A35C', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxnivelvid[4]={'name':'R.A.P.', 'data':realarrayrapvid, 'type':'column', 'yAxis':1, 'color': '#8085E9', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxnivelvid[5]={'name':'L.G.M.', 'data':realarraygmvid, 'type':'column', 'yAxis':1, 'color': '#F15C80', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxnivelvid[6]={'name':'Ba-Khan', 'data':realarraybakhanvid, 'type':'column', 'yAxis':1, 'color': '#E4D354', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxnivelvid[7]={'name':'LSMB', 'data':realarraylsmbvid2, 'type':'column', 'yAxis':1, 'color': '#7CB5EC', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxnivelvid[8]={'name':'E.A.', 'data':realarrayeavid2, 'type':'column', 'yAxis':1, 'color': '#434348', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxnivelvid[9]={'name':'C.E.I.', 'data':realarrayceivid2, 'type':'column', 'yAxis':1, 'color': '#90ED7D', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxnivelvid[10]={'name':'L.A.V.', 'data':realarraylavvid2, 'type':'column', 'yAxis':1, 'color': '#F7A35C', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxnivelvid[11]={'name':'R.A.P.', 'data':realarrayrapvid2, 'type':'column', 'yAxis':1, 'color': '#8085E9', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxnivelvid[12]={'name':'L.G.M.', 'data':realarraygmvid2, 'type':'column', 'yAxis':1, 'color': '#F15C80', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxnivelvid[13]={'name':'Ba-Khan', 'data':realarraybakhanvid2, 'type':'column', 'yAxis':1, 'color': '#E4D354', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxnivelvid[14]={'name':'',  'stack':tipo2 , 'data': realzeroes, 'showInLegend': false, 'yAxis':1};
    distxnivelvid[15]={'name':'Promedio Tiempo de Videos', 'data':rlarraypromvid, 'type':'spline', 'color':'#AA4643', 'yAxis':2, 'marker':{'enabled':true}, 'dashStyle': 'shortdot', 'lineWidth':0};
    distxnivelvid[16]={'name':'Cantidad de Estudiantes', 'data':realestudiantesxnivel, 'type':'spline', 'color':'#89A54E', 'lineWidth':0};

    var contadorvid=0;
    for (var i = 0; i < distxnivelvid.length; i++) {
      var verificador = true;
      for (var j = 0; j < distxnivelvid[i]['data'].length; j++) {
        if(distxnivelvid[i]['data'][j]!=0){
          verificador=false;
        }
      };
      if (verificador==true){
        elementremovevid[contadorvid]=i;
        contadorvid++;
      }
    };
    for (var i = 0; i < elementremovevid.length; i++) {
      distxnivelvid.splice(elementremovevid[i]-i,1);
    };

    distxnivelvidprom[0]={'name':'LSMB', 'data':realarraylsmbvidprom, 'type':'column', 'yAxis':1, 'color': '#7CB5EC', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxnivelvidprom[1]={'name':'E.A.', 'data':realarrayeavidprom, 'type':'column', 'yAxis':1, 'color': '#434348', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxnivelvidprom[2]={'name':'C.E.I.', 'data':realarrayceividprom, 'type':'column', 'yAxis':1, 'color': '#90ED7D', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxnivelvidprom[3]={'name':'L.A.V.', 'data':realarraylavvidprom, 'type':'column', 'yAxis':1, 'color': '#F7A35C', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxnivelvidprom[4]={'name':'R.A.P.', 'data':realarrayrapvidprom, 'type':'column', 'yAxis':1, 'color': '#8085E9', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxnivelvidprom[5]={'name':'L.G.M.', 'data':realarraygmvidprom, 'type':'column', 'yAxis':1, 'color': '#F15C80', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxnivelvidprom[6]={'name':'Ba-Khan', 'data':realarraybakhanvidprom, 'type':'column', 'yAxis':1, 'color': '#E4D354', 'stack': tipo1, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}};
    distxnivelvidprom[7]={'name':'LSMB', 'data':realarraylsmbvidprom2, 'type':'column', 'yAxis':1, 'color': '#7CB5EC', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxnivelvidprom[8]={'name':'E.A.', 'data':realarrayeavidprom2, 'type':'column', 'yAxis':1, 'color': '#434348', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxnivelvidprom[9]={'name':'C.E.I.', 'data':realarrayceividprom2, 'type':'column', 'yAxis':1, 'color': '#90ED7D', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxnivelvidprom[10]={'name':'L.A.V.', 'data':realarraylavvidprom2, 'type':'column', 'yAxis':1, 'color': '#F7A35C', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxnivelvidprom[11]={'name':'R.A.P.', 'data':realarrayrapvidprom2, 'type':'column', 'yAxis':1, 'color': '#8085E9', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxnivelvidprom[12]={'name':'L.G.M.', 'data':realarraygmvidprom2, 'type':'column', 'yAxis':1, 'color': '#F15C80', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxnivelvidprom[13]={'name':'Ba-Khan', 'data':realarraybakhanvidprom2, 'type':'column', 'yAxis':1, 'color': '#E4D354', 'stack': tipo2, 'xAxis':1, 'tooltip':{'pointFormat':'<b>{series.options.stack}</b><br/>{series.name}: {point.y}<br/> Total: {point.stackTotal:,.0f}'}, 'showInLegend': false};
    distxnivelvidprom[14]={'name':'',  'stack':tipo2 , 'data': realzeroes, 'showInLegend': false, 'yAxis':1};
    distxnivelvidprom[15]={'name':'Promedio Tiempo de Videos', 'data':rlarraypromvid, 'type':'spline', 'color':'#AA4643', 'yAxis':2, 'marker':{'enabled':true}, 'dashStyle': 'shortdot', 'lineWidth':0};
    distxnivelvidprom[16]={'name':'Cantidad de Estudiantes', 'data':realestudiantesxnivel, 'type':'spline', 'color':'#89A54E', 'lineWidth':0};

    var contadorvidprom=0;
    for (var i = 0; i < distxnivelvidprom.length; i++) {
      var verificador = true;
      for (var j = 0; j < distxnivelvidprom[i]['data'].length; j++) {
        if(distxnivelvidprom[i]['data'][j]!=0){
          verificador=false;
        }
      };
      if (verificador==true){
        elementremovevidprom[contadorvidprom]=i;
        contadorvidprom++;
      }
    };
    for (var i = 0; i < elementremovevidprom.length; i++) {
      distxnivelvidprom.splice(elementremovevidprom[i]-i,1);
    };

    var arraypromediovidinst= new Array(6).fill(0);
    for (var i = 0; i < array1basicovid.length; i++) {
      var average=(array1basicovid[i]+array2basicovid[i]+array3basicovid[i]+array4basicovid[i]+array5basicovid[i]+array6basicovid[i]+array7basicovid[i]+array8basicovid[i]+array1mediovid[i]+array2mediovid[i]+array3mediovid[i]+array4mediovid[i])/estudiantesnivelesinst[i];
      if (isNaN(average)){
        arraypromediovidinst[i]=0;
      }
      else{
        arraypromediovidinst[i]=Math.round(average*100)/100;
      }
    }

    var arraypromediovidinst2= new Array(6).fill(0);
    for (var i = 0; i < array1basicovid2.length; i++) {
      var average=(array1basicovid2[i]+array2basicovid2[i]+array3basicovid2[i]+array4basicovid2[i]+array5basicovid2[i]+array6basicovid2[i]+array7basicovid2[i]+array8basicovid2[i]+array1mediovid2[i]+array2mediovid2[i]+array3mediovid2[i]+array4mediovid2[i])/estudiantesnivelesinst[i];
      if (isNaN(average)){
        arraypromediovidinst2[i]=0;
      }
      else{
        arraypromediovidinst2[i]=Math.round(average*100)/100;
      }
    }

    distxinstvid[0]={'name':'1ro basico '+tipo1+'', 'data':array1basicovid, 'type':'column', 'yAxis':1, 'color': '#7CB5EC', 'stack': tipo1};
    distxinstvid[1]={'name':'2do basico '+tipo1+'', 'data':array2basicovid, 'type':'column', 'yAxis':1, 'color': '#434348', 'stack': tipo1};
    distxinstvid[2]={'name':'3ro basico '+tipo1+'', 'data':array3basicovid, 'type':'column', 'yAxis':1, 'color': '#90ED7D', 'stack': tipo1};
    distxinstvid[3]={'name':'4to basico '+tipo1+'', 'data':array4basicovid, 'type':'column', 'yAxis':1, 'color': '#F7A35C', 'stack': tipo1};
    distxinstvid[4]={'name':'5to basico '+tipo1+'', 'data':array5basicovid, 'type':'column', 'yAxis':1, 'color': '#8085E9', 'stack': tipo1};
    distxinstvid[5]={'name':'6to basico '+tipo1+'', 'data':array6basicovid, 'type':'column', 'yAxis':1, 'color': '#F15C80', 'stack': tipo1};
    distxinstvid[6]={'name':'7mo basico '+tipo1+'', 'data':array7basicovid, 'type':'column', 'yAxis':1, 'color': '#E4D354', 'stack': tipo1};
    distxinstvid[7]={'name':'8vo basico '+tipo1+'', 'data':array8basicovid, 'type':'column', 'yAxis':1, 'color': '#2B908F', 'stack': tipo1};
    distxinstvid[8]={'name':'1ro medio '+tipo1+'', 'data':array1mediovid, 'type':'column', 'yAxis':1, 'color': '#F45B5B', 'stack': tipo1};
    distxinstvid[9]={'name':'2do medio '+tipo1+'', 'data':array2mediovid, 'type':'column', 'yAxis':1, 'color': '#91E8E1', 'stack': tipo1};
    distxinstvid[10]={'name':'3ro medio '+tipo1+'', 'data':array3mediovid, 'type':'column', 'yAxis':1, 'color': '#9ED3CA', 'stack': tipo1};
    distxinstvid[11]={'name':'4to medio '+tipo1+'', 'data':array4mediovid, 'type':'column', 'yAxis':1, 'color': '#646126', 'stack': tipo1};
    distxinstvid[12]={'name':'1ro basico '+tipo2+'', 'data':array1basicovid2, 'type':'column', 'yAxis':1, 'color': '#6BA4CB', 'stack': tipo2};
    distxinstvid[13]={'name':'2do basico '+tipo2+'', 'data':array2basicovid2, 'type':'column', 'yAxis':1, 'color': '#323237', 'stack': tipo2};
    distxinstvid[14]={'name':'3ro basico '+tipo2+'', 'data':array3basicovid2, 'type':'column', 'yAxis':1, 'color': '#8FDC6C', 'stack': tipo2};
    distxinstvid[15]={'name':'4to basico '+tipo2+'', 'data':array4basicovid2, 'type':'column', 'yAxis':1, 'color': '#E6924B', 'stack': tipo2};
    distxinstvid[16]={'name':'5to basico '+tipo2+'', 'data':array5basicovid2, 'type':'column', 'yAxis':1, 'color': '#7F74D8', 'stack': tipo2};
    distxinstvid[17]={'name':'6to basico '+tipo2+'', 'data':array6basicovid2, 'type':'column', 'yAxis':1, 'color': '#E04B7F', 'stack': tipo2};
    distxinstvid[18]={'name':'7mo basico '+tipo2+'', 'data':array7basicovid2, 'type':'column', 'yAxis':1, 'color': '#D3C243', 'stack': tipo2};
    distxinstvid[19]={'name':'8vo basico '+tipo2+'', 'data':array8basicovid2, 'type':'column', 'yAxis':1, 'color': '#1A8F7E', 'stack': tipo2};
    distxinstvid[20]={'name':'1ro medio '+tipo2+'', 'data':array1mediovid2, 'type':'column', 'yAxis':1, 'color': '#E34A4A', 'stack': tipo2};
    distxinstvid[21]={'name':'2do medio '+tipo2+'', 'data':array2mediovid2, 'type':'column', 'yAxis':1, 'color': '#80D7D0', 'stack': tipo2};
    distxinstvid[22]={'name':'3ro medio '+tipo2+'', 'data':array3mediovid2, 'type':'column', 'yAxis':1, 'color': '#8DC2B9', 'stack': tipo2};
    distxinstvid[23]={'name':'4to medio '+tipo2+'', 'data':array4mediovid2, 'type':'column', 'yAxis':1, 'color': '#535015', 'stack': tipo2};
    distxinstvid[24]={'name':'Promedio Tiempo de Videos '+tipo1+'', 'data':arraypromediovidinst, 'type':'spline', 'color':'#AA4643', 'yAxis':2, 'marker':{'enabled':false}, 'dashStyle': 'shortdot'};
    distxinstvid[25]={'name':'Promedio Tiempo de Videos '+tipo2+'', 'data':arraypromediovidinst2, 'type':'spline', 'color':'#AA4643', 'yAxis':2, 'marker':{'enabled':false}, 'dashStyle': 'shortdot'};
    distxinstvid[26]={'name':'Cantidad de Estudiantes', 'data':estudiantesnivelesinst, 'type':'spline', 'color':'#89A54E'};

    var contadorinstvid=0;
    for (var i = 0; i < distxinstvid.length; i++) {
      var verificador = true;
      for (var j = 0; j < distxinstvid[i]['data'].length; j++) {
        if(distxinstvid[i]['data'][j]!=0){
          verificador=false;
        }
      };
      if (verificador==true){
        elementremoveinstvid[contadorinstvid]=i;
        contadorinstvid++;
      }
    };
    for (var i = 0; i < elementremoveinstvid.length; i++) {
      distxinstvid.splice(elementremoveinstvid[i]-i,1);
    };

    distxinstvidprom[0]={'name':'1ro basico '+tipo1+'', 'data':array1basicovidprom, 'type':'column', 'yAxis':1, 'color': '#7CB5EC', 'stack': tipo1};
    distxinstvidprom[1]={'name':'2do basico '+tipo1+'', 'data':array2basicovidprom, 'type':'column', 'yAxis':1, 'color': '#434348', 'stack': tipo1};
    distxinstvidprom[2]={'name':'3ro basico '+tipo1+'', 'data':array3basicovidprom, 'type':'column', 'yAxis':1, 'color': '#90ED7D', 'stack': tipo1};
    distxinstvidprom[3]={'name':'4to basico '+tipo1+'', 'data':array4basicovidprom, 'type':'column', 'yAxis':1, 'color': '#F7A35C', 'stack': tipo1};
    distxinstvidprom[4]={'name':'5to basico '+tipo1+'', 'data':array5basicovidprom, 'type':'column', 'yAxis':1, 'color': '#8085E9', 'stack': tipo1};
    distxinstvidprom[5]={'name':'6to basico '+tipo1+'', 'data':array6basicovidprom, 'type':'column', 'yAxis':1, 'color': '#F15C80', 'stack': tipo1};
    distxinstvidprom[6]={'name':'7mo basico '+tipo1+'', 'data':array7basicovidprom, 'type':'column', 'yAxis':1, 'color': '#E4D354', 'stack': tipo1};
    distxinstvidprom[7]={'name':'8vo basico '+tipo1+'', 'data':array8basicovidprom, 'type':'column', 'yAxis':1, 'color': '#2B908F', 'stack': tipo1};
    distxinstvidprom[8]={'name':'1ro medio '+tipo1+'', 'data':array1mediovidprom, 'type':'column', 'yAxis':1, 'color': '#F45B5B', 'stack': tipo1};
    distxinstvidprom[9]={'name':'2do medio '+tipo1+'', 'data':array2mediovidprom, 'type':'column', 'yAxis':1, 'color': '#91E8E1', 'stack': tipo1};
    distxinstvidprom[10]={'name':'3ro medio '+tipo1+'', 'data':array3mediovidprom, 'type':'column', 'yAxis':1, 'color': '#9ED3CA', 'stack': tipo1};
    distxinstvidprom[11]={'name':'4to medio '+tipo1+'', 'data':array4mediovidprom, 'type':'column', 'yAxis':1, 'color': '#646126', 'stack': tipo1};
    distxinstvidprom[12]={'name':'1ro basico '+tipo2+'', 'data':array1basicovidprom2, 'type':'column', 'yAxis':1, 'color': '#6BA4CB', 'stack': tipo2};
    distxinstvidprom[13]={'name':'2do basico '+tipo2+'', 'data':array2basicovidprom2, 'type':'column', 'yAxis':1, 'color': '#323237', 'stack': tipo2};
    distxinstvidprom[14]={'name':'3ro basico '+tipo2+'', 'data':array3basicovidprom2, 'type':'column', 'yAxis':1, 'color': '#8FDC6C', 'stack': tipo2};
    distxinstvidprom[15]={'name':'4to basico '+tipo2+'', 'data':array4basicovidprom2, 'type':'column', 'yAxis':1, 'color': '#E6924B', 'stack': tipo2};
    distxinstvidprom[16]={'name':'5to basico '+tipo2+'', 'data':array5basicovidprom2, 'type':'column', 'yAxis':1, 'color': '#7F74D8', 'stack': tipo2};
    distxinstvidprom[17]={'name':'6to basico '+tipo2+'', 'data':array6basicovidprom2, 'type':'column', 'yAxis':1, 'color': '#E04B7F', 'stack': tipo2};
    distxinstvidprom[18]={'name':'7mo basico '+tipo2+'', 'data':array7basicovidprom2, 'type':'column', 'yAxis':1, 'color': '#D3C243', 'stack': tipo2};
    distxinstvidprom[19]={'name':'8vo basico '+tipo2+'', 'data':array8basicovidprom2, 'type':'column', 'yAxis':1, 'color': '#1A8F7E', 'stack': tipo2};
    distxinstvidprom[20]={'name':'1ro medio '+tipo2+'', 'data':array1mediovidprom2, 'type':'column', 'yAxis':1, 'color': '#E34A4A', 'stack': tipo2};
    distxinstvidprom[21]={'name':'2do medio '+tipo2+'', 'data':array2mediovidprom2, 'type':'column', 'yAxis':1, 'color': '#80D7D0', 'stack': tipo2};
    distxinstvidprom[22]={'name':'3ro medio '+tipo2+'', 'data':array3mediovidprom2, 'type':'column', 'yAxis':1, 'color': '#8DC2B9', 'stack': tipo2};
    distxinstvidprom[23]={'name':'4to medio '+tipo2+'', 'data':array4mediovidprom2, 'type':'column', 'yAxis':1, 'color': '#535015', 'stack': tipo2};
    distxinstvidprom[24]={'name':'Promedio Tiempo de Videos '+tipo1+'', 'data':arraypromediovidinst, 'type':'spline', 'color':'#AA4643', 'yAxis':2, 'marker':{'enabled':false}, 'dashStyle': 'shortdot'};
    distxinstvidprom[25]={'name':'Promedio Tiempo de Videos '+tipo2+'', 'data':arraypromediovidinst2, 'type':'spline', 'color':'#AA4643', 'yAxis':2, 'marker':{'enabled':false}, 'dashStyle': 'shortdot'};
    distxinstvidprom[26]={'name':'Cantidad de Estudiantes', 'data':estudiantesnivelesinst, 'type':'spline', 'color':'#89A54E'};

    var contadorinstvidprom=0;
    for (var i = 0; i < distxinstvidprom.length; i++) {
      var verificador = true;
      for (var j = 0; j < distxinstvidprom[i]['data'].length; j++) {
        if(distxinstvidprom[i]['data'][j]!=0){
          verificador=false;
        }
      };
      if (verificador==true){
        elementremoveinstvidprom[contadorinstvidprom]=i;
        contadorinstvidprom++;
      }
    };
    for (var i = 0; i < elementremoveinstvidprom.length; i++) {
      distxinstvidprom.splice(elementremoveinstvidprom[i]-i,1);
    };

    promediotodos2=totaltodos2/totalestudiantes;
    promediotodos1=totaltodos1/totalestudiantes;

    var promediotod='';
    promediotod+='<div>Total '+tipo1+': '+totaltodos1.toLocaleString()+' segundos<br>';
    promediotod+='Promedio '+tipo1+': '+promediotodos1.toLocaleString()+' segundos<br>';
    promediotod+='Promedio Máximo '+tipo1+': '+promediomaximoejer.toLocaleString()+' segundos<br>';
    promediotod+='Promedio Mínimo '+tipo1+': '+promediominimoejer.toLocaleString()+' segundos<br>';
    promediotod+='Curso Máximo '+tipo1+': '+promediomasalto1.toLocaleString()+' segundos<br>';
    promediotod+='Curso Mínimo '+tipo1+': '+promediomasbajo1.toLocaleString()+' segundos<br>';
    promediotod+='Estudiante Máximo '+tipo1+': '+maximotodos1.toLocaleString()+' segundos<br>';
    promediotod+='Estudiante Mínimo '+tipo1+': '+minimotodos1.toLocaleString()+' segundos</div>';

    $('#promediototalej').append(promediotod);

    var promediotod2='';
    promediotod2+='<div>Total '+tipo2+': '+totaltodos2.toLocaleString()+' segundos<br>';
    promediotod2+='Promedio '+tipo2+': '+promediotodos2.toLocaleString()+' segundos<br>';
    promediotod2+='Promedio Máximo '+tipo2+': '+promediomaximoejer2.toLocaleString()+' segundos<br>';
    promediotod2+='Promedio Mínimo '+tipo2+': '+promediominimoejer2.toLocaleString()+' segundos<br>';
    promediotod2+='Curso Máximo '+tipo2+': '+promediomasalto2.toLocaleString()+' segundos<br>';
    promediotod2+='Curso Mínimo '+tipo2+': '+promediomasbajo2.toLocaleString()+' segundos<br>';
    promediotod2+='Estudiante Máximo '+tipo2+': '+maximotodos2.toLocaleString()+' segundos<br>';
    promediotod2+='Estudiante Mínimo '+tipo2+': '+minimotodos2.toLocaleString()+' segundos</div>';

    $('#promediototalej2').append(promediotod2);


    promediotodos1v=totaltodos1v/totalestudiantes;
    promediotodos2v=totaltodos2v/totalestudiantes;

    var promediotodv='';
    promediotodv+='<div>Total '+tipo1+': '+totaltodos1v.toLocaleString()+' segundos<br>';
    promediotodv+='Promedio '+tipo1+': '+promediotodos1v.toLocaleString()+' segundos<br>';
    promediotodv+='Promedio Máximo '+tipo1+': '+promediomaximovid.toLocaleString()+' segundos<br>';
    promediotodv+='Promedio Mínimo '+tipo1+': '+promediominimovid.toLocaleString()+' segundos<br>';
    promediotodv+='Curso Máximo '+tipo1+': '+promediomasalto1v.toLocaleString()+' segundos<br>';
    promediotodv+='Curso Mínimo '+tipo1+': '+promediomasbajo1v.toLocaleString()+' segundos<br>';
    promediotodv+='Estudiante Máximo '+tipo1+': '+maximotodos1v.toLocaleString()+' segundos<br>';
    promediotodv+='Estudiante Mínimo '+tipo1+': '+minimotodos1v.toLocaleString()+' segundos</div>';

    $('#promediototalvid').append(promediotodv);

    var promediotod2v='';
    promediotod2v+='<div>Total '+tipo2+': '+totaltodos2v.toLocaleString()+' segundos<br>';
    promediotod2v+='Promedio '+tipo2+': '+promediotodos2v.toLocaleString()+' segundos<br>';
    promediotod2v+='Promedio Máximo '+tipo2+': '+promediomaximovid2.toLocaleString()+' segundos<br>';
    promediotod2v+='Promedio Mínimo '+tipo2+': '+promediominimovid2.toLocaleString()+' segundos<br>';
    promediotod2v+='Curso Máximo '+tipo2+': '+promediomasalto2v.toLocaleString()+' segundos<br>';
    promediotod2v+='Curso Mínimo '+tipo2+': '+promediomasbajo2v.toLocaleString()+' segundos<br>';
    promediotod2v+='Estudiante Máximo '+tipo2+': '+maximotodos2v.toLocaleString()+' segundos<br>';
    promediotod2v+='Estudiante Mínimo '+tipo2+': '+minimotodos2v.toLocaleString()+' segundos</div>';

    $('#promediototalvid2').append(promediotod2v);


    promediotodos1t=totaltodos1t/totalestudiantes;
    promediotodos2t=totaltodos2t/totalestudiantes;

    var promediotodt='';
    promediotodt+='<div>Total '+tipo1+': '+totaltodos1t.toLocaleString()+' ejercicios<br>';
    promediotodt+='Promedio '+tipo1+': '+promediotodos1t.toLocaleString()+' ejercicios<br>';
    promediotodt+='Promedio Máximo '+tipo1+': '+promediomaximotot.toLocaleString()+' ejercicios<br>';
    promediotodt+='Promedio Mínimo '+tipo1+': '+promediominimotot.toLocaleString()+' ejercicios<br>';
    promediotodt+='Curso Máximo '+tipo1+': '+promediomasalto1t.toLocaleString()+' ejercicios<br>';
    promediotodt+='Curso Mínimo '+tipo1+': '+promediomasbajo1t.toLocaleString()+' ejercicios<br>';
    promediotodt+='Estudiante Máximo '+tipo1+': '+maximotodos1t.toLocaleString()+' ejercicios<br>';
    promediotodt+='Estudiante Mínimo '+tipo1+': '+minimotodos1t.toLocaleString()+' ejercicios</div>';

    $('#promediototaltot').append(promediotodt);

    var promediotod2t='';
    promediotod2t+='<div>Total '+tipo2+': '+totaltodos2t.toLocaleString()+' ejercicios<br>';
    promediotod2t+='Promedio '+tipo2+': '+promediotodos2t.toLocaleString()+' ejercicios<br>';
    promediotod2t+='Promedio Máximo '+tipo2+': '+promediomaximotot2.toLocaleString()+' ejercicios<br>';
    promediotod2t+='Promedio Mínimo '+tipo2+': '+promediominimotot2.toLocaleString()+' ejercicios<br>';
    promediotod2t+='Curso Máximo '+tipo2+': '+promediomasalto2t.toLocaleString()+' ejercicios<br>';
    promediotod2t+='Curso Mínimo '+tipo2+': '+promediomasbajo2t.toLocaleString()+' ejercicios<br>';
    promediotod2t+='Estudiante Máximo '+tipo2+': '+maximotodos2t.toLocaleString()+' ejercicios<br>';
    promediotod2t+='Estudiante Mínimo '+tipo2+': '+minimotodos2t.toLocaleString()+' ejercicios</div>';

    $('#promediototaltot2').append(promediotod2t);

  }

  else{
    if(json["students"]){
      var student = json["students"]
      var tipo1 = student[0]["tipo1"]
      var tipo2 = student[0]["tipo2"]
      for (j=0;j<student.length;j++){
        categorias[j]=student[j]["name"];
        tpoejercicios1[j] = student[j]["tiempo_ejercicios_1"]
        tpoejercicios2[j] = student[j]["tiempo_ejercicios_2"]
        tpovideos1[j] = student[j]["tiempo_videos_1"]
        tpovideos2[j] = student[j]["tiempo_videos_2"]
        cantidad1[j] = student[j]["total_ejercicios_1"]
        cantidad2[j] = student[j]["total_ejercicios_2"]

      }
    }
  }

  $(function () {
      Highcharts.chart('containertodos', {

          chart: {
              type: 'column'
          },

          title: {
              text: 'Distribución de Información'
          },

          xAxis: [{
              categories: categorias,
              crosshair: {
                color: '#E0E0E0'
               }
          },{
              categories: subcategorias,
              opposite: true,
              labels: {
                enabled: false
              }
          }],

          yAxis: [{ // Primary yAxis
              labels: {
                  style: {
                      color: '#89A54E'
                  }
              },
              title: {
                  text: 'Tiempo de Videos',
                  style: {
                      color: '#89A54E'
                  }
              },
              opposite: true,
              min: 0
  
          }, { // Secondary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Cantidad de Ejercicios',
                  style: {
                      color: '#4572A7'
                  }
              },
              labels: {
                  style: {
                      color: '#4572A7'
                  }
              }
  
          }, { // Tertiary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Tiempo de Ejercicios',
                  style: {
                      color: '#AA4643'
                  }
              },
              labels: {
                  style: {
                      color: '#AA4643'
                  }
              },
              opposite: true,
              min: 0
          }],
          
          tooltip:{
            shared: true
          },

          plotOptions: {
              column: {
                  stacking: 'normal',
                  //pointWidth: 40,
                  groupPadding: 0
              },
              series:{
                events:{
                  legendItemClick: function(){
                    return false;
                  }
                }
              }
          },
          series: arraycontainertodo
      });
  });

  $(function () {
      Highcharts.setOptions({
          lang:{
          decimalPoint: ",",
          thousandsSep: ".",
          downloadJPEG: "Descargar imagen JPEG",
          downloadPDF: "Descargar documento PDF",
          downloadPNG: "Descargar imagen PNG",
          downloadSVG: "Descargar imagen vectorial SVG",
          printChart: "Imprimir gráfico",
          drillUpText: "Volver a {series.name}" 
        }
      });
    var chart = new Highcharts.Chart({
        chart: {
            renderTo: 'containerej',
            type: 'column',
        },
        title: {
            text: 'Tiempo de ejercicios'
        },
        subtitle: {
            text: 'Fuente: <a href="https://es.khanacademy.org/">Khan Academy</a>'
        },
        xAxis: {
            categories: categorias,
            crosshair: true
        },
        yAxis: {
            min: 0,
            title: {
                text: 'Tiempo (segundos)'
            }
        },
        legend: {
            enabled: true
        },
        tooltip: {
            headerFormat: '<span style="font-size:10px">{point.key}</span><br>',
            pointFormat: '<span style="color:{series.color};padding:0">{series.name}: </span>' +
                '<span style="padding:0"><b>{point.y:,.0f} segundos</b></span><br>'+
                '<span style="color:{series.color};padding:0">Promedio: </span>'+
                '<span style="padding:0"><b>{point.promedio:,.0f} segundos</b></span><br>'+
                '<span style="color:{series.color};padding:0">Máximo: </span>'+
                '<span style="padding:0"><b>{point.maximo:,.0f} segundos</b></span><br>'+
                '<span style="color:{series.color};padding:0">Mínimo: </span>'+
                '<span style="padding:0"><b>{point.minimo:,.0f} segundos</b></span><br>'+
                '<span style="color:{series.color};padding:0">Total de estudiantes: </span>'+
                '<span style="padding:0"><b>{point.cantidad} estudiantes</b></span><br>'+
                '<span style="color:{series.color};padding:0">Est. que trabajaron: </span>'+
                '<span style="padding:0"><b>{point.trabajaron} estudiantes</b></span><br>',
            //footerFormat: '<br>',
            shared: true,
            useHTML: true
        },
        plotOptions: {
            column: {
                pointPadding: 0.2,
                borderWidth: 0
            }
        },
        series: [{
            name: tipo1,
            data: tpoejercicios1,
            dataLabels: {
                enabled: true,
                rotation: -90,
                color: 'KhanBlue',
                align: 'right',
                format: '{point.y:,.0f}', // one decimal
                y: -70, // 10 pixels down from the top
                style: {
                    fontSize: '11px',
                    fontFamily: 'Verdana, sans-serif'
                }
            }
            },{
            name: tipo2,
            data: tpoejercicios2,
            dataLabels: {
                enabled: true,
                rotation: -90,
                color: 'KhanBlue',
                align: 'right',
                format: '{point.y:,.0f}', // one decimal
                y: -70, // 10 pixels down from the top
                style: {
                    fontSize: '11px',
                    fontFamily: 'Verdana, sans-serif'
                }
            }
        }]
    });
    });

    $(function () {
    var options = {

        chart: {
            type: 'column'
        },

        title: {
            text: 'Distribución de Tiempo de Ejercicios Total por Nivel'
        },

        xAxis: [
   
                  {
            categories: realcats,
                      labels: {autoRotation:false, style: {textOverflow: 'none'}, enabled: true},
           tickWidth: 0,
        },
                  {
            categories: realcategoriasdxn,
                         lineColor:'#ffffff',
                      tickWidth: 0,
                      crosshair: {
                      color: '#E0E0E0'
                     }
                     
                 //     plotBands : [ {  from:-0.5, to:0.5, color:"#eeeeee"  }, 
                //                   {  from: 1.5, to:2.5, color:"#eeeeee"  },
                //                    {  from: 3.5, to:4.5, color:"#eeeeee"  }]       
            }     ,
         ],

        yAxis: [{ // Primary yAxis
              labels: {
                  style: {
                      color: '#89A54E'
                  }
              },
              title: {
                  text: 'Cantidad de Estudiantes',
                  style: {
                      color: '#89A54E'
                  }
              },
              opposite: true,
              min: 0
  
          }, { // Secondary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Tiempo de Ejercicios por Nivel',
                  style: {
                      color: '#4572A7'
                  }
              },
              labels: {
                  style: {
                      color: '#4572A7'
                  }
              }
  
          }, { // Tertiary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Promedio de Tiempo Ejercicios',
                  style: {
                      color: '#AA4643'
                  }
              },
              labels: {
                  style: {
                      color: '#AA4643'
                  }
              },
              opposite: true,
              min: 0
          }],

        plotOptions: {
            column: {
                stacking: 'normal',
                //pointWidth: 50,
                groupPadding: 0
            }
        },
        series: distxnivelejer
    };
    
    var onLegendClick= function (event) {
                                  var myname = this.name;
                                  var myvis  = !this.visible;
                                  this.chart.series.forEach( function (elem) {
                                    if (elem.name == myname) {
                                      elem.setVisible(myvis);
                                    }
                                  });
                                  return false;
                                }
                            
    
    options.series.forEach(function (serie) {
        serie.events = { legendItemClick : onLegendClick} ;
    });
    $('#containerejernivel').highcharts(options);
});

    $(function () {
    var options = {

        chart: {
            type: 'column'
        },

        title: {
            text: 'Distribución de Tiempo de Ejercicios Promedio por Nivel'
        },

        xAxis: [
   
                  {
            categories: realcats,
                      labels: {autoRotation:false, style: {textOverflow: 'none'}, enabled: true},
           tickWidth: 0,
        },
                  {
            categories: realcategoriasdxn,
                         lineColor:'#ffffff',
                      tickWidth: 0,
                      crosshair: {
                      color: '#E0E0E0'
                     }
                     
                 //     plotBands : [ {  from:-0.5, to:0.5, color:"#eeeeee"  }, 
                //                   {  from: 1.5, to:2.5, color:"#eeeeee"  },
                //                    {  from: 3.5, to:4.5, color:"#eeeeee"  }]       
            }     ,
         ],

        yAxis: [{ // Primary yAxis
              labels: {
                  style: {
                      color: '#89A54E'
                  }
              },
              title: {
                  text: 'Cantidad de Estudiantes',
                  style: {
                      color: '#89A54E'
                  }
              },
              opposite: true,
              min: 0
  
          }, { // Secondary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Tiempo de Ejercicios Promedio por Nivel',
                  style: {
                      color: '#4572A7'
                  }
              },
              labels: {
                  style: {
                      color: '#4572A7'
                  }
              }
  
          }, { // Tertiary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Promedio de Tiempo Ejercicios',
                  style: {
                      color: '#AA4643'
                  }
              },
              labels: {
                  style: {
                      color: '#AA4643'
                  }
              },
              opposite: true,
              min: 0
          }],

        plotOptions: {
            column: {
                stacking: 'normal',
                //pointWidth: 50,
                groupPadding: 0
            }
        },
        series: distxnivelejerprom
    };
    
    var onLegendClick= function (event) {
                                  var myname = this.name;
                                  var myvis  = !this.visible;
                                  this.chart.series.forEach( function (elem) {
                                    if (elem.name == myname) {
                                      elem.setVisible(myvis);
                                    }
                                  });
                                  return false;
                                }
                            
    
    options.series.forEach(function (serie) {
        serie.events = { legendItemClick : onLegendClick} ;
    });
    $('#containerejernivelprom').highcharts(options);
});

    $(function () {
    var options = {

        chart: {
            type: 'column'
        },

        title: {
            text: 'Distribución de Tiempo de Ejercicios Total por Institución'
        },

        xAxis: [
   
                  {
            categories: realcatsinst,
                      labels: {autoRotation:false, style: {textOverflow: 'none'}, enabled: true},
           tickWidth: 0,
        },
                  {
            categories: categoriasdxireal,
                         lineColor:'#ffffff',
                      tickWidth: 0,
                      crosshair: {
                      color: '#E0E0E0'
                     }
                     
                 //     plotBands : [ {  from:-0.5, to:0.5, color:"#eeeeee"  }, 
                //                   {  from: 1.5, to:2.5, color:"#eeeeee"  },
                //                    {  from: 3.5, to:4.5, color:"#eeeeee"  }]       
            }     ,
         ],

        yAxis: [{ // Primary yAxis
              labels: {
                  style: {
                      color: '#89A54E'
                  }
              },
              title: {
                  text: 'Cantidad de Estudiantes',
                  style: {
                      color: '#89A54E'
                  }
              },
              opposite: true,
              min: 0
  
          }, { // Secondary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Tiempo de Ejercicios Total por Institución',
                  style: {
                      color: '#4572A7'
                  }
              },
              labels: {
                  style: {
                      color: '#4572A7'
                  }
              }
  
          }, { // Tertiary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Promedio de Tiempo Ejercicios',
                  style: {
                      color: '#AA4643'
                  }
              },
              labels: {
                  style: {
                      color: '#AA4643'
                  }
              },
              opposite: true,
              min: 0
          }],

        plotOptions: {
            column: {
                stacking: 'normal',
                //pointWidth: 50,
                groupPadding: 0
            }
        },
        series: distxinstejer
    };
    
    var onLegendClick= function (event) {
                                  var myname = this.name;
                                  var myvis  = !this.visible;
                                  this.chart.series.forEach( function (elem) {
                                    if (elem.name == myname) {
                                      elem.setVisible(myvis);
                                    }
                                  });
                                  return false;
                                }
                            
    
    options.series.forEach(function (serie) {
        serie.events = { legendItemClick : onLegendClick} ;
    });
    $('#containerejerinst').highcharts(options);
});

    $(function () {
    var options = {

        chart: {
            type: 'column'
        },

        title: {
            text: 'Distribución de Tiempo de Ejercicios Promedio por Institución'
        },

        xAxis: [
   
                  {
            categories: realcatsinst,
                      labels: {autoRotation:false, style: {textOverflow: 'none'}, enabled: true},
           tickWidth: 0,
        },
                  {
            categories: categoriasdxireal,
                         lineColor:'#ffffff',
                      tickWidth: 0,
                      crosshair: {
                      color: '#E0E0E0'
                     }
                     
                 //     plotBands : [ {  from:-0.5, to:0.5, color:"#eeeeee"  }, 
                //                   {  from: 1.5, to:2.5, color:"#eeeeee"  },
                //                    {  from: 3.5, to:4.5, color:"#eeeeee"  }]       
            }     ,
         ],

        yAxis: [{ // Primary yAxis
              labels: {
                  style: {
                      color: '#89A54E'
                  }
              },
              title: {
                  text: 'Cantidad de Estudiantes',
                  style: {
                      color: '#89A54E'
                  }
              },
              opposite: true,
              min: 0
  
          }, { // Secondary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Tiempo de Ejercicios Promedio por Institución',
                  style: {
                      color: '#4572A7'
                  }
              },
              labels: {
                  style: {
                      color: '#4572A7'
                  }
              }
  
          }, { // Tertiary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Promedio de Tiempo Ejercicios',
                  style: {
                      color: '#AA4643'
                  }
              },
              labels: {
                  style: {
                      color: '#AA4643'
                  }
              },
              opposite: true,
              min: 0
          }],

        plotOptions: {
            column: {
                stacking: 'normal',
                //pointWidth: 50,
                groupPadding: 0
            }
        },
        series: distxinstejerprom
    };
    
    var onLegendClick= function (event) {
                                  var myname = this.name;
                                  var myvis  = !this.visible;
                                  this.chart.series.forEach( function (elem) {
                                    if (elem.name == myname) {
                                      elem.setVisible(myvis);
                                    }
                                  });
                                  return false;
                                }
                            
    
    options.series.forEach(function (serie) {
        serie.events = { legendItemClick : onLegendClick} ;
    });
    $('#containerejerinstprom').highcharts(options);
});
  

    $(function () {
      Highcharts.setOptions({
          lang:{
          decimalPoint: ",",
          thousandsSep: ".",
          downloadJPEG: "Descargar imagen JPEG",
          downloadPDF: "Descargar documento PDF",
          downloadPNG: "Descargar imagen PNG",
          downloadSVG: "Descargar imagen vectorial SVG",
          printChart: "Imprimir gráfico",
          drillUpText: "Volver a {series.name}" 
        }
      });
      var chart = new Highcharts.Chart({
        chart: {
            renderTo: 'containervid',
            type: 'column',
        },
        title: {
            text: 'Tiempo de videos'
        },
        subtitle: {
            text: 'Fuente: <a href="https://es.khanacademy.org/">Khan Academy</a>'
        },
        xAxis: {
            categories: categorias,
            crosshair: true
        },
        yAxis: {
            min: 0,
            title: {
                text: 'Tiempo (segundos)'
            }
        },
        legend: {
            enabled: true
        },
        tooltip: {
            headerFormat: '<span style="font-size:10px">{point.key}</span><br>',
            pointFormat: '<span style="color:{series.color};padding:0">{series.name}: </span>' +
                '<span style="padding:0"><b>{point.y:,.0f} segundos</b></span><br>'+
                '<span style="color:{series.color};padding:0">Promedio: </span>'+
                '<span style="padding:0"><b>{point.promedio:,.0f} segundos</b></span><br>'+
                '<span style="color:{series.color};padding:0">Máximo: </span>'+
                '<span style="padding:0"><b>{point.maximo:,.0f} segundos</b></span><br>'+
                '<span style="color:{series.color};padding:0">Mínimo: </span>'+
                '<span style="padding:0"><b>{point.minimo:,.0f} segundos</b></span><br>'+
                '<span style="color:{series.color};padding:0">Total de estudiantes: </span>'+
                '<span style="padding:0"><b>{point.cantidad} estudiantes</b></span><br>'+
                '<span style="color:{series.color};padding:0">Est. que trabajaron: </span>'+
                '<span style="padding:0"><b>{point.trabajaron} estudiantes</b></span><br>',
            //footerFormat: '</table>',
            shared: true,
            useHTML: true
        },
        plotOptions: {
            column: {
                pointPadding: 0.2,
                borderWidth: 0
            }
        },
        series: [{
            name: tipo1,
            data: tpovideos1,
            dataLabels: {
                enabled: true,
                rotation: -90,
                color: 'KhanBlue',
                align: 'right',
                format: '{point.y:,.0f}', // one decimal
                y: -60, // 10 pixels down from the top
                style: {
                    fontSize: '11px',
                    fontFamily: 'Verdana, sans-serif'
                }
            }
            },{
            name: tipo2,
            data: tpovideos2,
            dataLabels: {
                enabled: true,
                rotation: -90,
                color: 'KhanBlue',
                align: 'right',
                format: '{point.y:,.0f}', // one decimal
                y: -60, // 10 pixels down from the top
                style: {
                    fontSize: '11px',
                    fontFamily: 'Verdana, sans-serif'
                }
            }
        }]
    });
    function sortTotal(valor){
      //aqui va algo
      if (valor=="0"){
        tpovideos1.sort(function(a,b){
          return ((a.name < b.name) ? -1 : ((a.name > b.name) ? 1 : 0));
        });
        /*categorias.sort(function(a,b){
          return ((a < b) ? -1 : ((a > b) ? 1 : 0));
        });*/
        categorias.sort();
        //categorias.reverse();
      }
      if (valor=="1"){
        tpovideos1.sort(function(a,b){
          return parseInt(a.y) - parseInt(b.y);
        });
      }
      if (valor=="2"){
        tpovideos1.sort(function(a,b){
          return parseInt(b.y) - parseInt(a.y);
        });
      }
      if (valor=="3"){
        tpovideos1.sort(function(a,b){
          return parseInt(a.promedio) - parseInt(b.promedio);
        });
      }
      if (valor=="4"){
        tpovideos1.sort(function(a,b){
          return parseInt(b.promedio) - parseInt(a.promedio);
        });
      }
      if (valor=="5"){
        tpovideos1.sort(function(a,b){
          return parseInt(a.maximo) - parseInt(b.maximo);
        });
      }
      if (valor=="6"){
        tpovideos1.sort(function(a,b){
          return parseInt(b.maximo) - parseInt(a.maximo);
        });
      }
      if (valor=="7"){
        tpovideos1.sort(function(a,b){
          return parseInt(a.minimo) - parseInt(b.minimo);
        });
      }
      if (valor=="8"){
        tpovideos1.sort(function(a,b){
          return parseInt(b.minimo) - parseInt(a.minimo);
        });
      }
      for (var i = 0; i < tpovideos1.length; i++) {
        categorias[i]=tpovideos1[i]['name']
      }
      return [tpovideos1, categorias];
    }

    $('#ordenarvid').change(function(){
      var retorno = sortTotal($('select#ordenarvid option:selected').val());
      chart.series[0].update(retorno);
    })
  });

$(function () {
    var options = {

        chart: {
            type: 'column'
        },

        title: {
            text: 'Distribución de Tiempo de Videos Total por Nivel'
        },

        xAxis: [
   
                  {
            categories: realcats,
                      labels: {autoRotation:false, style: {textOverflow: 'none'}, enabled: true},
           tickWidth: 0,
        },
                  {
            categories: realcategoriasdxn,
                         lineColor:'#ffffff',
                      tickWidth: 0,
                      crosshair: {
                      color: '#E0E0E0'
                     }
                     
                 //     plotBands : [ {  from:-0.5, to:0.5, color:"#eeeeee"  }, 
                //                   {  from: 1.5, to:2.5, color:"#eeeeee"  },
                //                    {  from: 3.5, to:4.5, color:"#eeeeee"  }]       
            }     ,
         ],

        yAxis: [{ // Primary yAxis
              labels: {
                  style: {
                      color: '#89A54E'
                  }
              },
              title: {
                  text: 'Cantidad de Estudiantes',
                  style: {
                      color: '#89A54E'
                  }
              },
              opposite: true,
              min: 0
  
          }, { // Secondary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Tiempo de Videos Total por Nivel',
                  style: {
                      color: '#4572A7'
                  }
              },
              labels: {
                  style: {
                      color: '#4572A7'
                  }
              }
  
          }, { // Tertiary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Promedio de Tiempo de Videos',
                  style: {
                      color: '#AA4643'
                  }
              },
              labels: {
                  style: {
                      color: '#AA4643'
                  }
              },
              opposite: true,
              min: 0
          }],

        plotOptions: {
            column: {
                stacking: 'normal',
                //pointWidth: 50,
                groupPadding: 0
            }
        },
        series: distxnivelvid
    };
    
    var onLegendClick= function (event) {
                                  var myname = this.name;
                                  var myvis  = !this.visible;
                                  this.chart.series.forEach( function (elem) {
                                    if (elem.name == myname) {
                                      elem.setVisible(myvis);
                                    }
                                  });
                                  return false;
                                }
                            
    
    options.series.forEach(function (serie) {
        serie.events = { legendItemClick : onLegendClick} ;
    });
    $('#containervidnivel').highcharts(options);
});

$(function () {
    var options = {

        chart: {
            type: 'column'
        },

        title: {
            text: 'Distribución de Tiempo de Videos Promedio por Nivel'
        },

        xAxis: [
   
                  {
            categories: realcats,
                      labels: {autoRotation:false, style: {textOverflow: 'none'}, enabled: true},
           tickWidth: 0,
        },
                  {
            categories: realcategoriasdxn,
                         lineColor:'#ffffff',
                      tickWidth: 0,
                      crosshair: {
                      color: '#E0E0E0'
                     }
                     
                 //     plotBands : [ {  from:-0.5, to:0.5, color:"#eeeeee"  }, 
                //                   {  from: 1.5, to:2.5, color:"#eeeeee"  },
                //                    {  from: 3.5, to:4.5, color:"#eeeeee"  }]       
            }     ,
         ],

        yAxis: [{ // Primary yAxis
              labels: {
                  style: {
                      color: '#89A54E'
                  }
              },
              title: {
                  text: 'Cantidad de Estudiantes',
                  style: {
                      color: '#89A54E'
                  }
              },
              opposite: true,
              min: 0
  
          }, { // Secondary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Tiempo de Videos Promedio por Nivel',
                  style: {
                      color: '#4572A7'
                  }
              },
              labels: {
                  style: {
                      color: '#4572A7'
                  }
              }
  
          }, { // Tertiary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Promedio de Tiempo de Videos',
                  style: {
                      color: '#AA4643'
                  }
              },
              labels: {
                  style: {
                      color: '#AA4643'
                  }
              },
              opposite: true,
              min: 0
          }],

        plotOptions: {
            column: {
                stacking: 'normal',
                //pointWidth: 50,
                groupPadding: 0
            }
        },
        series: distxnivelvidprom
    };
    
    var onLegendClick= function (event) {
                                  var myname = this.name;
                                  var myvis  = !this.visible;
                                  this.chart.series.forEach( function (elem) {
                                    if (elem.name == myname) {
                                      elem.setVisible(myvis);
                                    }
                                  });
                                  return false;
                                }
                            
    
    options.series.forEach(function (serie) {
        serie.events = { legendItemClick : onLegendClick} ;
    });
    $('#containervidnivelprom').highcharts(options);
});

$(function () {
      Highcharts.chart('containervidinst', {

          chart: {
              type: 'column'
          },

          title: {
              text: 'Distribución de Tiempo de Videos Total por Institución'
          },

          xAxis: {
              categories: ['LSMB', 'EA', 'CEI', 'LAV', 'RAP', 'LGM', 'BA-Khan']
          },

          yAxis: [{ // Primary yAxis
              labels: {
                  style: {
                      color: '#89A54E'
                  }
              },
              title: {
                  text: 'Cantidad de Estudiantes',
                  style: {
                      color: '#89A54E'
                  }
              },
              opposite: true
  
          }, { // Secondary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Tiempo Total por Institución',
                  style: {
                      color: '#4572A7'
                  }
              },
              labels: {
                  style: {
                      color: '#4572A7'
                  }
              }
  
          }, { // Tertiary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Promedio de Tiempo de Videos',
                  style: {
                      color: '#AA4643'
                  }
              },
              labels: {
                  style: {
                      color: '#AA4643'
                  }
              },
              opposite: true
          }],
          
          tooltip:{
            shared: true
          },

          plotOptions: {
              column: {
                  stacking: 'normal'
              }
          },
          series: distxinstvid
      });
  });

$(function () {
      Highcharts.chart('containervidinstprom', {

          chart: {
              type: 'column'
          },

          title: {
              text: 'Distribución de Tiempo de Videos Promedio por Institución'
          },

          xAxis: {
              categories: ['LSMB', 'EA', 'CEI', 'LAV', 'RAP', 'LGM', 'BA-Khan']
          },

          yAxis: [{ // Primary yAxis
              labels: {
                  style: {
                      color: '#89A54E'
                  }
              },
              title: {
                  text: 'Cantidad de Estudiantes',
                  style: {
                      color: '#89A54E'
                  }
              },
              opposite: true
  
          }, { // Secondary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Tiempo Promedio por Institución',
                  style: {
                      color: '#4572A7'
                  }
              },
              labels: {
                  style: {
                      color: '#4572A7'
                  }
              }
  
          }, { // Tertiary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Promedio de Tiempo de Videos',
                  style: {
                      color: '#AA4643'
                  }
              },
              labels: {
                  style: {
                      color: '#AA4643'
                  }
              },
              opposite: true
          }],
          
          tooltip:{
            shared: true
          },

          plotOptions: {
              column: {
                  stacking: 'normal'
              }
          },
          series: distxinstvidprom
      });
  });

    $(function () {
      Highcharts.setOptions({
          lang:{
          decimalPoint: ",",
          thousandsSep: ".",
          downloadJPEG: "Descargar imagen JPEG",
          downloadPDF: "Descargar documento PDF",
          downloadPNG: "Descargar imagen PNG",
          downloadSVG: "Descargar imagen vectorial SVG",
          printChart: "Imprimir gráfico",
          drillUpText: "Volver a {series.name}" 
        }
      });
    var chart = new Highcharts.Chart({
        chart: {
            renderTo: 'containertot',
            type: 'column',
        },
        title: {
            text: 'Cantidad de ejercicios'
        },
        subtitle: {
            text: 'Fuente: <a href="https://es.khanacademy.org/">Khan Academy</a>'
        },
        xAxis: {
            categories: categorias,
            crosshair: true
        },
        yAxis: {
            min: 0,
            title: {
                text: 'Cantidad (ejercicios)'
            }
        },
        legend: {
            enabled: true
        },
        tooltip: {
            headerFormat: '<span style="font-size:10px">{point.key}</span><br>',
            pointFormat: '<span style="color:{series.color};padding:0">{series.name}: </span>' +
                '<span style="padding:0"><b>{point.y:,.0f} ejercicios</b></span><br>'+
                '<span style="color:{series.color};padding:0">Promedio: </span>'+
                '<span style="padding:0"><b>{point.promedio:,.0f} ejercicios</b></span><br>'+
                '<span style="color:{series.color};padding:0">Máximo: </span>'+
                '<span style="padding:0"><b>{point.maximo:,.0f} ejercicios</b></span><br>'+
                '<span style="color:{series.color};padding:0">Mínimo: </span>'+
                '<span style="padding:0"><b>{point.minimo:,.0f} ejercicios</b></span><br>'+
                '<span style="color:{series.color};padding:0">Total de estudiantes: </span>'+
                '<span style="padding:0"><b>{point.cantidad} estudiantes</b></span><br>'+
                '<span style="color:{series.color};padding:0">Est. que trabajaron: </span>'+
                '<span style="padding:0"><b>{point.trabajaron} estudiantes</b></span><br>',
            //footerFormat: '</table>',
            shared: true,
            useHTML: true
        },
        plotOptions: {
            column: {
                pointPadding: 0.2,
                borderWidth: 0
            }
        },
        series: [{
            name: tipo1,
            data: cantidad1,
            dataLabels: {
                enabled: true,
                rotation: -90,
                color: 'KhanBlue',
                align: 'right',
                format: '{point.y:,.0f}', // one decimal
                y: -50, // 10 pixels down from the top
                style: {
                    fontSize: '11px',
                    fontFamily: 'Verdana, sans-serif'
                }
            }
            },{
            name: tipo2,
            data: cantidad2,
            dataLabels: {
                enabled: true,
                rotation: -90,
                color: 'KhanBlue',
                align: 'right',
                format: '{point.y:,.0f}', // one decimal
                y: -50, // 10 pixels down from the top
                style: {
                    fontSize: '11px',
                    fontFamily: 'Verdana, sans-serif'
                }
            }
        }]
    });
  });

$(function () {
    var options = {

        chart: {
            type: 'column'
        },

        title: {
            text: 'Distribución de Cantidad de Ejercicios Total por Nivel'
        },

        xAxis: [
   
                  {
            categories: realcats,
                      labels: {autoRotation:false, style: {textOverflow: 'none'}, enabled: true},
           tickWidth: 0,
        },
                  {
            categories: realcategoriasdxn,
                         lineColor:'#ffffff',
                      tickWidth: 0,
                      crosshair: {
                      color: '#E0E0E0'
                     }
                     
                 //     plotBands : [ {  from:-0.5, to:0.5, color:"#eeeeee"  }, 
                //                   {  from: 1.5, to:2.5, color:"#eeeeee"  },
                //                    {  from: 3.5, to:4.5, color:"#eeeeee"  }]       
            }     ,
         ],

        yAxis: [{ // Primary yAxis
              labels: {
                  style: {
                      color: '#89A54E'
                  }
              },
              title: {
                  text: 'Cantidad de Estudiantes',
                  style: {
                      color: '#89A54E'
                  }
              },
              opposite: true,
              min: 0
  
          }, { // Secondary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Cantidad Total por Nivel',
                  style: {
                      color: '#4572A7'
                  }
              },
              labels: {
                  style: {
                      color: '#4572A7'
                  }
              }
  
          }, { // Tertiary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Promedio de Ejercicios',
                  style: {
                      color: '#AA4643'
                  }
              },
              labels: {
                  style: {
                      color: '#AA4643'
                  }
              },
              opposite: true,
              min: 0
          }],

        plotOptions: {
            column: {
                stacking: 'normal',
                //pointWidth: 50,
                groupPadding: 0
            }
        },
        series: arraydedatos
    };
    
    var onLegendClick= function (event) {
                                  var myname = this.name;
                                  var myvis  = !this.visible;
                                  this.chart.series.forEach( function (elem) {
                                    if (elem.name == myname) {
                                      elem.setVisible(myvis);
                                    }
                                  });
                                  return false;
                                }
                            
    
    options.series.forEach(function (serie) {
        serie.events = { legendItemClick : onLegendClick} ;
    });
    $('#containertotnivel').highcharts(options);
});
 

  $(function () {
    var options = {

        chart: {
            type: 'column'
        },

        title: {
            text: 'Distribución de Cantidad de Ejercicios Promedio por Nivel'
        },

        xAxis: [
   
                  {
            categories: realcats,
                      labels: {autoRotation:false, style: {textOverflow: 'none'}, enabled: true},
           tickWidth: 0,
        },
                  {
            categories: realcategoriasdxn,
                         lineColor:'#ffffff',
                      tickWidth: 0,
                      crosshair: {
                      color: '#E0E0E0'
                     }
                     
                 //     plotBands : [ {  from:-0.5, to:0.5, color:"#eeeeee"  }, 
                //                   {  from: 1.5, to:2.5, color:"#eeeeee"  },
                //                    {  from: 3.5, to:4.5, color:"#eeeeee"  }]       
            }     ,
         ],

        yAxis: [{ // Primary yAxis
              labels: {
                  style: {
                      color: '#89A54E'
                  }
              },
              title: {
                  text: 'Cantidad de Estudiantes',
                  style: {
                      color: '#89A54E'
                  }
              },
              opposite: true,
              min: 0
  
          }, { // Secondary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Cantidad Promedio por Nivel',
                  style: {
                      color: '#4572A7'
                  }
              },
              labels: {
                  style: {
                      color: '#4572A7'
                  }
              }
  
          }, { // Tertiary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Promedio de Ejercicios',
                  style: {
                      color: '#AA4643'
                  }
              },
              labels: {
                  style: {
                      color: '#AA4643'
                  }
              },
              opposite: true,
              min: 0
          }],

        plotOptions: {
            column: {
                stacking: 'normal',
                //pointWidth: 50,
                groupPadding: 0
            }
        },
        series: distxnivelprom
    };
    
    var onLegendClick= function (event) {
                                  var myname = this.name;
                                  var myvis  = !this.visible;
                                  this.chart.series.forEach( function (elem) {
                                    if (elem.name == myname) {
                                      elem.setVisible(myvis);
                                    }
                                  });
                                  return false;
                                }
                            
    
    options.series.forEach(function (serie) {
        serie.events = { legendItemClick : onLegendClick} ;
    });
    $('#containertotnivelprom').highcharts(options);
});

  $(function () {
    var options = {

        chart: {
            type: 'column'
        },

        title: {
            text: 'Distribución de Cantidad de Ejercicios Total por Institución'
        },

        xAxis: [
   
                  {
            categories: realcatsinst,
                      labels: {autoRotation:false, style: {textOverflow: 'none'}, enabled: true},
           tickWidth: 0,
        },
                  {
            categories: categoriasdxireal,
                         lineColor:'#ffffff',
                      tickWidth: 0,
                      crosshair: {
                      color: '#E0E0E0'
                     }
                     
                 //     plotBands : [ {  from:-0.5, to:0.5, color:"#eeeeee"  }, 
                //                   {  from: 1.5, to:2.5, color:"#eeeeee"  },
                //                    {  from: 3.5, to:4.5, color:"#eeeeee"  }]       
            }     ,
         ],

        yAxis: [{ // Primary yAxis
              labels: {
                  style: {
                      color: '#89A54E'
                  }
              },
              title: {
                  text: 'Cantidad de Estudiantes',
                  style: {
                      color: '#89A54E'
                  }
              },
              opposite: true,
              min: 0
  
          }, { // Secondary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Cantidad Total por Institución',
                  style: {
                      color: '#4572A7'
                  }
              },
              labels: {
                  style: {
                      color: '#4572A7'
                  }
              }
  
          }, { // Tertiary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Promedio de Ejercicios',
                  style: {
                      color: '#AA4643'
                  }
              },
              labels: {
                  style: {
                      color: '#AA4643'
                  }
              },
              opposite: true,
              min: 0
          }],

        plotOptions: {
            column: {
                stacking: 'normal',
                //pointWidth: 50,
                groupPadding: 0
            }
        },
        series: distxinst
    };
    
    var onLegendClick= function (event) {
                                  var myname = this.name;
                                  var myvis  = !this.visible;
                                  this.chart.series.forEach( function (elem) {
                                    if (elem.name == myname) {
                                      elem.setVisible(myvis);
                                    }
                                  });
                                  return false;
                                }
                            
    
    options.series.forEach(function (serie) {
        serie.events = { legendItemClick : onLegendClick} ;
    });
    $('#containertotinst').highcharts(options);
});

  $(function () {
    var options = {

        chart: {
            type: 'column'
        },

        title: {
            text: 'Distribución de Cantidad de Ejercicios Promedio por Institución'
        },

        xAxis: [
   
                  {
            categories: realcatsinst,
                      labels: {autoRotation:false, style: {textOverflow: 'none'}, enabled: true},
           tickWidth: 0,
        },
                  {
            categories: categoriasdxireal,
                         lineColor:'#ffffff',
                      tickWidth: 0,
                      crosshair: {
                      color: '#E0E0E0'
                     }
                     
                 //     plotBands : [ {  from:-0.5, to:0.5, color:"#eeeeee"  }, 
                //                   {  from: 1.5, to:2.5, color:"#eeeeee"  },
                //                    {  from: 3.5, to:4.5, color:"#eeeeee"  }]       
            }     ,
         ],

        yAxis: [{ // Primary yAxis
              labels: {
                  style: {
                      color: '#89A54E'
                  }
              },
              title: {
                  text: 'Cantidad de Estudiantes',
                  style: {
                      color: '#89A54E'
                  }
              },
              opposite: true,
              min: 0
  
          }, { // Secondary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Cantidad Promedio por Institución',
                  style: {
                      color: '#4572A7'
                  }
              },
              labels: {
                  style: {
                      color: '#4572A7'
                  }
              }
  
          }, { // Tertiary yAxis
              gridLineWidth: 0,
              title: {
                  text: 'Promedio de Ejercicios',
                  style: {
                      color: '#AA4643'
                  }
              },
              labels: {
                  style: {
                      color: '#AA4643'
                  }
              },
              opposite: true,
              min: 0
          }],

        plotOptions: {
            column: {
                stacking: 'normal',
                //pointWidth: 50,
                groupPadding: 0
            }
        },
        series: distxinstprom
    };
    
    var onLegendClick= function (event) {
                                  var myname = this.name;
                                  var myvis  = !this.visible;
                                  this.chart.series.forEach( function (elem) {
                                    if (elem.name == myname) {
                                      elem.setVisible(myvis);
                                    }
                                  });
                                  return false;
                                }
                            
    
    options.series.forEach(function (serie) {
        serie.events = { legendItemClick : onLegendClick} ;
    });
    $('#containertotinstprom').highcharts(options);
});

}

function validar(){
  var today = new Date();
  var dd = today.getDate();
  var mm = today.getMonth()+1; //January is 0!
  var yyyy = today.getFullYear();

  if(dd<10) {
      dd='0'+dd
  } 

  if(mm<10) {
      mm='0'+mm
  } 

  today = yyyy+'-'+mm+'-'+dd;
  flag = true;
  desde = document.getElementById("desde").value;
  hasta = document.getElementById("hasta").value;
  if(desde == null || desde.length == 0 || /^\s+$/.test(desde)) {
    $('#desde').css('color', '#C30202');
    flag = false;
  }else{
    $('#desde').css('color', '#000000');
  }
  //if(date_end == null || startDate > endDate || endDate < todayDate || date_end.length == 0 || /^\s+$/.test(date_end)) {
  if(hasta == null || desde > hasta || hasta.length == 0 || /^\s+$/.test(hasta)) {
    $('#hasta').css('color', '#C30202');
    flag = false;
  }else{
    $('#hasta').css('color', '#000000');
  }
  if(hasta>today){
    $('#hasta').css('color', '#C30202');
    flag = false;
  }
  return flag
}

function updateSchedule(){
  var sel = $('input[name="clase"]:checked').map(function(_,el){
    return $(el).val();
  }).get();
  //var valor = $('input[value*="radio"]:checked').val()
  
  if ($("input[value*='radio']:checked").val()=="radio2"){
    $('#testsched').hide();
    $('input[name="day"]').prop("checked", false);
  }
  else{
    $('#testsched').hide();
    if ($("input[value*='radio']:checked").val()=="radio3"){
      $('input[name="day"]').prop("checked", true);
    }
  }
}

function selectSchedule(radiobutton){
  $('input[name="day"]').prop("checked", false);
  var valor = radiobutton.value;
  if (valor=="radio1" || valor=="radio5" || valor=="radio6" || valor=="radio7"){
    $('#testsched').hide();
  }
  if (valor=="radio2"){
    $('#testsched').hide();
    var selcurso=[];
    var curso = $("#contenedor").jstree("get_selected");
    //selcurso = (curso.indexOf("id_")>-1);
    for (var i=0;i<curso.length;i++){
      if (curso[i].indexOf("id_")==false){
        selcurso.push(curso[i]);
      }
    }
    if (selcurso.length===0){
      $('#popup').empty();
      $('#popup').append("<p>No existe ningún curso seleccionado</p>")
      $('#popup').fadeIn().css('display', '');
      $("#hover").fadeIn().css('display', '');
    }
    
  }
  if (valor=="radio3"){
    $('#testsched').hide();
    //$('input[name="day"]').prop("disabled", true);
    $('#popup').empty();
    var selcurso=[];
    var curso = $("#contenedor").jstree("get_selected");
    //selcurso = (curso.indexOf("id_")>-1);
    for (var i=0;i<curso.length;i++){
      if (curso[i].indexOf("id_")==false){
        selcurso.push(curso[i]);
      }
    }
    if (selcurso.length===0){
      $('#popup').empty();
      $('#popup').append("<p>No existe ningún curso seleccionado</p>")
      $('#popup').fadeIn().css('display', '');
      $("#hover").fadeIn().css('display', '');

    }
  }
  if (valor=="radio4"){
    //console.log("algoaca");
    drawTableSchedule();
    $('#testsched').show();
   // $('input[name="day"]').prop("disabled", false); 
  }
  //setHeightContent();
}

function funciondos(id_schedule){
  var valor = $('input[value*="radio"]:checked').val()
  if (valor=="radio1" || valor=="radio2" || valor=="radio3" || valor==null || valor=="radio5" || valor=="radio6" || valor=="radio7"){
    $('#testsched').hide();
    //$('input[name="day"]').prop("disabled", true);
    return false;
  }
  else{  
    //drawTableSchedule();
    if(id_schedule<10){
      $('input[value*="0'+id_schedule+'_"]').prop("checked", !$('input[value*="'+id_schedule+'_"]').prop("checked"));
    }
    else{
      $('input[value*="'+id_schedule+'_"]').prop("checked", !$('input[value*="'+id_schedule+'_"]').prop("checked"));
    }
    
    $('input[value="radio4"]').prop("checked", true);
    if($('input[value="radio1"]').checked  || $('input[value="radio2"]').checked || $('input[value="radio3"]').checked){
      $('#testsched').hide();
      $('input[value="radio4"]').prop("checked", false);
    }
  }
}

function diaselect(dia){
  var valor = $('input[value*="radio"]:checked').val()
  $('table#sort_table').tablesorter({
    animation: 'slide',
    speed: 1200,
    sortList: [[0,0]]
  });
  if (valor=="radio1" || valor=="radio2" || valor=="radio3" || valor==null || valor=="radio5" || valor=="radio6" || valor=="radio7"){
    $('#testsched').hide();
    //$('input[name="day"]').prop("disabled", true);
    return false;
  }
  else{
    //drawTableSchedule();
    $('input[value*="'+dia+'"]').prop("checked", !$('input[value*="'+dia+'"]').prop("checked"));
    $('input[value="radio4"]').prop("checked", true);
    if($('input[value="radio1"]').checked  || $('input[value="radio2"]').checked || $('input[value="radio3"]').checked){
      $('#testsched').hide();
      $('input[value="radio4"]').prop("checked", false);
    }
  }

}

</script>

{% endblock %}